{"version":3,"names":["_components","require","_data","_element","_i18n","_groups","_interopRequireDefault","_inspectorControls","_store","PositionControlsPanel","initialOpen","setInitialOpen","useState","multiSelectedBlocks","useSelect","select","getBlocksByClientId","getSelectedBlockClientIds","blockEditorStore","clientIds","useLayoutEffect","undefined","some","attributes","style","position","type","_react","createElement","PanelBody","className","title","__","default","Slot","group","PositionControls","fills","useSlotFills","InspectorControlsGroups","__unstableName","hasFills","Boolean","length","_default","exports"],"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/position-controls-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\t__experimentalUseSlotFills as useSlotFills,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useLayoutEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport { default as InspectorControls } from '../inspector-controls';\nimport { store as blockEditorStore } from '../../store';\n\nconst PositionControlsPanel = () => {\n\tconst [ initialOpen, setInitialOpen ] = useState();\n\n\t// Determine whether the panel should be expanded.\n\tconst { multiSelectedBlocks } = useSelect( ( select ) => {\n\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } =\n\t\t\tselect( blockEditorStore );\n\t\tconst clientIds = getSelectedBlockClientIds();\n\t\treturn {\n\t\t\tmultiSelectedBlocks: getBlocksByClientId( clientIds ),\n\t\t};\n\t}, [] );\n\n\tuseLayoutEffect( () => {\n\t\t// If any selected block has a position set, open the panel by default.\n\t\t// The first block's value will still be used within the control though.\n\t\tif ( initialOpen === undefined ) {\n\t\t\tsetInitialOpen(\n\t\t\t\tmultiSelectedBlocks.some(\n\t\t\t\t\t( { attributes } ) => !! attributes?.style?.position?.type\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, [ initialOpen, multiSelectedBlocks, setInitialOpen ] );\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"block-editor-block-inspector__position\"\n\t\t\ttitle={ __( 'Position' ) }\n\t\t\tinitialOpen={ initialOpen ?? false }\n\t\t>\n\t\t\t<InspectorControls.Slot group=\"position\" />\n\t\t</PanelBody>\n\t);\n};\n\nconst PositionControls = () => {\n\tconst fills = useSlotFills(\n\t\tInspectorControlsGroups.position.Slot.__unstableName\n\t);\n\tconst hasFills = Boolean( fills && fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn null;\n\t}\n\n\treturn <PositionControlsPanel />;\n};\n\nexport default PositionControls;\n"],"mappings":";;;;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AAIA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAKA,IAAAI,OAAA,GAAAC,sBAAA,CAAAL,OAAA;AACA,IAAAM,kBAAA,GAAAD,sBAAA,CAAAL,OAAA;AACA,IAAAO,MAAA,GAAAP,OAAA;AAhBA;AACA;AACA;;AASA;AACA;AACA;;AAKA,MAAMQ,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAG,IAAAC,iBAAQ,EAAC,CAAC;;EAElD;EACA,MAAM;IAAEC;EAAoB,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IACxD,MAAM;MAAEC,mBAAmB;MAAEC;IAA0B,CAAC,GACvDF,MAAM,CAAEG,YAAiB,CAAC;IAC3B,MAAMC,SAAS,GAAGF,yBAAyB,CAAC,CAAC;IAC7C,OAAO;MACNJ,mBAAmB,EAAEG,mBAAmB,CAAEG,SAAU;IACrD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,IAAAC,wBAAe,EAAE,MAAM;IACtB;IACA;IACA,IAAKV,WAAW,KAAKW,SAAS,EAAG;MAChCV,cAAc,CACbE,mBAAmB,CAACS,IAAI,CACvB,CAAE;QAAEC;MAAW,CAAC,KAAM,CAAC,CAAEA,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IACvD,CACD,CAAC;IACF;EACD,CAAC,EAAE,CAAEhB,WAAW,EAAEG,mBAAmB,EAAEF,cAAc,CAAG,CAAC;EAEzD,OACC,IAAAgB,MAAA,CAAAC,aAAA,EAAC5B,WAAA,CAAA6B,SAAS;IACTC,SAAS,EAAC,wCAAwC;IAClDC,KAAK,EAAG,IAAAC,QAAE,EAAE,UAAW,CAAG;IAC1BtB,WAAW,EAAGA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI;EAAO,GAEpC,IAAAiB,MAAA,CAAAC,aAAA,EAACrB,kBAAA,CAAA0B,OAAiB,CAACC,IAAI;IAACC,KAAK,EAAC;EAAU,CAAE,CAChC,CAAC;AAEd,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,KAAK,GAAG,IAAAC,sCAAY,EACzBC,eAAuB,CAACd,QAAQ,CAACS,IAAI,CAACM,cACvC,CAAC;EACD,MAAMC,QAAQ,GAAGC,OAAO,CAAEL,KAAK,IAAIA,KAAK,CAACM,MAAO,CAAC;EAEjD,IAAK,CAAEF,QAAQ,EAAG;IACjB,OAAO,IAAI;EACZ;EAEA,OAAO,IAAAd,MAAA,CAAAC,aAAA,EAACnB,qBAAqB,MAAE,CAAC;AACjC,CAAC;AAAC,IAAAmC,QAAA,GAAAC,OAAA,CAAAZ,OAAA,GAEaG,gBAAgB"}