{"version":3,"names":["_classnames","_interopRequireDefault","require","_components","_blocks","_element","_blockContext","DEFAULT_BLOCK_CONTEXT","Edit","props","name","blockType","getBlockType","Component","edit","save","_react","createElement","EditWithFilters","withFilters","EditWithGeneratedProps","attributes","blockContext","useContext","BlockContext","context","useMemo","usesContext","Object","fromEntries","entries","filter","key","includes","apiVersion","generatedClassName","hasBlockSupport","getBlockDefaultClassName","className","classnames","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/block-edit/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withFilters } from '@wordpress/components';\nimport {\n\tgetBlockDefaultClassName,\n\thasBlockSupport,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { useContext, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockContext from '../block-context';\n\n/**\n * Default value used for blocks which do not define their own context needs,\n * used to guarantee that a block's `context` prop will always be an object. It\n * is assigned as a constant since it is always expected to be an empty object,\n * and in order to avoid unnecessary React reconciliations of a changing object.\n *\n * @type {{}}\n */\nconst DEFAULT_BLOCK_CONTEXT = {};\n\nconst Edit = ( props ) => {\n\tconst { name } = props;\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\t// `edit` and `save` are functions or components describing the markup\n\t// with which a block is displayed. If `blockType` is valid, assign\n\t// them preferentially as the render value for the block.\n\tconst Component = blockType.edit || blockType.save;\n\n\treturn <Component { ...props } />;\n};\n\nconst EditWithFilters = withFilters( 'editor.BlockEdit' )( Edit );\n\nconst EditWithGeneratedProps = ( props ) => {\n\tconst { attributes = {}, name } = props;\n\tconst blockType = getBlockType( name );\n\tconst blockContext = useContext( BlockContext );\n\n\t// Assign context values using the block type's declared context needs.\n\tconst context = useMemo( () => {\n\t\treturn blockType && blockType.usesContext\n\t\t\t? Object.fromEntries(\n\t\t\t\t\tObject.entries( blockContext ).filter( ( [ key ] ) =>\n\t\t\t\t\t\tblockType.usesContext.includes( key )\n\t\t\t\t\t)\n\t\t\t  )\n\t\t\t: DEFAULT_BLOCK_CONTEXT;\n\t}, [ blockType, blockContext ] );\n\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\tif ( blockType.apiVersion > 1 ) {\n\t\treturn <EditWithFilters { ...props } context={ context } />;\n\t}\n\n\t// Generate a class name for the block's editable form.\n\tconst generatedClassName = hasBlockSupport( blockType, 'className', true )\n\t\t? getBlockDefaultClassName( name )\n\t\t: null;\n\tconst className = classnames(\n\t\tgeneratedClassName,\n\t\tattributes.className,\n\t\tprops.className\n\t);\n\n\treturn (\n\t\t<EditWithFilters\n\t\t\t{ ...props }\n\t\t\tcontext={ context }\n\t\t\tclassName={ className }\n\t\t/>\n\t);\n};\n\nexport default EditWithGeneratedProps;\n"],"mappings":";;;;;;;;AAGA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAKA,IAAAG,QAAA,GAAAH,OAAA;AAKA,IAAAI,aAAA,GAAAL,sBAAA,CAAAC,OAAA;AAnBA;AACA;AACA;;AAGA;AACA;AACA;;AASA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMK,qBAAqB,GAAG,CAAC,CAAC;AAEhC,MAAMC,IAAI,GAAKC,KAAK,IAAM;EACzB,MAAM;IAAEC;EAAK,CAAC,GAAGD,KAAK;EACtB,MAAME,SAAS,GAAG,IAAAC,oBAAY,EAAEF,IAAK,CAAC;EAEtC,IAAK,CAAEC,SAAS,EAAG;IAClB,OAAO,IAAI;EACZ;;EAEA;EACA;EACA;EACA,MAAME,SAAS,GAAGF,SAAS,CAACG,IAAI,IAAIH,SAAS,CAACI,IAAI;EAElD,OAAO,IAAAC,MAAA,CAAAC,aAAA,EAACJ,SAAS;IAAA,GAAMJ;EAAK,CAAI,CAAC;AAClC,CAAC;AAED,MAAMS,eAAe,GAAG,IAAAC,uBAAW,EAAE,kBAAmB,CAAC,CAAEX,IAAK,CAAC;AAEjE,MAAMY,sBAAsB,GAAKX,KAAK,IAAM;EAC3C,MAAM;IAAEY,UAAU,GAAG,CAAC,CAAC;IAAEX;EAAK,CAAC,GAAGD,KAAK;EACvC,MAAME,SAAS,GAAG,IAAAC,oBAAY,EAAEF,IAAK,CAAC;EACtC,MAAMY,YAAY,GAAG,IAAAC,mBAAU,EAAEC,qBAAa,CAAC;;EAE/C;EACA,MAAMC,OAAO,GAAG,IAAAC,gBAAO,EAAE,MAAM;IAC9B,OAAOf,SAAS,IAAIA,SAAS,CAACgB,WAAW,GACtCC,MAAM,CAACC,WAAW,CAClBD,MAAM,CAACE,OAAO,CAAER,YAAa,CAAC,CAACS,MAAM,CAAE,CAAE,CAAEC,GAAG,CAAE,KAC/CrB,SAAS,CAACgB,WAAW,CAACM,QAAQ,CAAED,GAAI,CACrC,CACA,CAAC,GACDzB,qBAAqB;EACzB,CAAC,EAAE,CAAEI,SAAS,EAAEW,YAAY,CAAG,CAAC;EAEhC,IAAK,CAAEX,SAAS,EAAG;IAClB,OAAO,IAAI;EACZ;EAEA,IAAKA,SAAS,CAACuB,UAAU,GAAG,CAAC,EAAG;IAC/B,OAAO,IAAAlB,MAAA,CAAAC,aAAA,EAACC,eAAe;MAAA,GAAMT,KAAK;MAAGgB,OAAO,EAAGA;IAAS,CAAE,CAAC;EAC5D;;EAEA;EACA,MAAMU,kBAAkB,GAAG,IAAAC,uBAAe,EAAEzB,SAAS,EAAE,WAAW,EAAE,IAAK,CAAC,GACvE,IAAA0B,gCAAwB,EAAE3B,IAAK,CAAC,GAChC,IAAI;EACP,MAAM4B,SAAS,GAAG,IAAAC,mBAAU,EAC3BJ,kBAAkB,EAClBd,UAAU,CAACiB,SAAS,EACpB7B,KAAK,CAAC6B,SACP,CAAC;EAED,OACC,IAAAtB,MAAA,CAAAC,aAAA,EAACC,eAAe;IAAA,GACVT,KAAK;IACVgB,OAAO,EAAGA,OAAS;IACnBa,SAAS,EAAGA;EAAW,CACvB,CAAC;AAEJ,CAAC;AAAC,IAAAE,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEatB,sBAAsB"}