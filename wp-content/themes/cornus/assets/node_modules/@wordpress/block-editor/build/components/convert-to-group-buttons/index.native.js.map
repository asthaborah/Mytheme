{"version":3,"names":["_i18n","require","_blocks","_data","_notices","_store","_useConvertToGroupButtonProps","_interopRequireDefault","useConvertToGroupButtons","clientIds","onUngroup","blocksSelection","groupingBlockName","replaceBlocks","useDispatch","blockEditorStore","createSuccessNotice","noticesStore","onConvertToGroup","newBlocks","switchToBlockType","onConvertFromGroup","innerBlocks","length","attributes","group","id","label","_x","value","onSelect","__","ungroup"],"sources":["@wordpress/block-editor/src/components/convert-to-group-buttons/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { switchToBlockType } from '@wordpress/blocks';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport useConvertToGroupButtonProps from './use-convert-to-group-button-props';\n\nfunction useConvertToGroupButtons( {\n\tclientIds,\n\tonUngroup,\n\tblocksSelection,\n\tgroupingBlockName,\n} ) {\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst onConvertToGroup = () => {\n\t\t// Activate the `transform` on the Grouping Block which does the conversion.\n\t\tconst newBlocks = switchToBlockType(\n\t\t\tblocksSelection,\n\t\t\tgroupingBlockName\n\t\t);\n\t\tif ( newBlocks ) {\n\t\t\treplaceBlocks( clientIds, newBlocks );\n\t\t}\n\t};\n\n\tconst onConvertFromGroup = () => {\n\t\tlet innerBlocks = blocksSelection[ 0 ].innerBlocks;\n\t\tif ( ! innerBlocks.length ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onUngroup ) {\n\t\t\tinnerBlocks = onUngroup(\n\t\t\t\tblocksSelection[ 0 ].attributes,\n\t\t\t\tblocksSelection[ 0 ].innerBlocks\n\t\t\t);\n\t\t}\n\t\treplaceBlocks( clientIds, innerBlocks );\n\t};\n\n\treturn {\n\t\tgroup: {\n\t\t\tid: 'groupButtonOption',\n\t\t\tlabel: _x( 'Group', 'verb' ),\n\t\t\tvalue: 'groupButtonOption',\n\t\t\tonSelect: () => {\n\t\t\t\tonConvertToGroup();\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t// translators: displayed right after the block is grouped\n\t\t\t\t\t__( 'Block grouped' )\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\tungroup: {\n\t\t\tid: 'ungroupButtonOption',\n\t\t\tlabel: _x(\n\t\t\t\t'Ungroup',\n\t\t\t\t'Ungrouping blocks from within a grouping block back into individual blocks within the Editor'\n\t\t\t),\n\t\t\tvalue: 'ungroupButtonOption',\n\t\t\tonSelect: () => {\n\t\t\t\tonConvertFromGroup();\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t// translators: displayed right after the block is ungrouped.\n\t\t\t\t\t__( 'Block ungrouped' )\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport { useConvertToGroupButtons, useConvertToGroupButtonProps };\n"],"mappings":";;;;;;;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAKA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,6BAAA,GAAAC,sBAAA,CAAAN,OAAA;AAZA;AACA;AACA;;AAMA;AACA;AACA;;AAIA,SAASO,wBAAwBA,CAAE;EAClCC,SAAS;EACTC,SAAS;EACTC,eAAe;EACfC;AACD,CAAC,EAAG;EACH,MAAM;IAAEC;EAAc,CAAC,GAAG,IAAAC,iBAAW,EAAEC,YAAiB,CAAC;EACzD,MAAM;IAAEC;EAAoB,CAAC,GAAG,IAAAF,iBAAW,EAAEG,cAAa,CAAC;EAC3D,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC9B;IACA,MAAMC,SAAS,GAAG,IAAAC,yBAAiB,EAClCT,eAAe,EACfC,iBACD,CAAC;IACD,IAAKO,SAAS,EAAG;MAChBN,aAAa,CAAEJ,SAAS,EAAEU,SAAU,CAAC;IACtC;EACD,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAChC,IAAIC,WAAW,GAAGX,eAAe,CAAE,CAAC,CAAE,CAACW,WAAW;IAClD,IAAK,CAAEA,WAAW,CAACC,MAAM,EAAG;MAC3B;IACD;IACA,IAAKb,SAAS,EAAG;MAChBY,WAAW,GAAGZ,SAAS,CACtBC,eAAe,CAAE,CAAC,CAAE,CAACa,UAAU,EAC/Bb,eAAe,CAAE,CAAC,CAAE,CAACW,WACtB,CAAC;IACF;IACAT,aAAa,CAAEJ,SAAS,EAAEa,WAAY,CAAC;EACxC,CAAC;EAED,OAAO;IACNG,KAAK,EAAE;MACNC,EAAE,EAAE,mBAAmB;MACvBC,KAAK,EAAE,IAAAC,QAAE,EAAE,OAAO,EAAE,MAAO,CAAC;MAC5BC,KAAK,EAAE,mBAAmB;MAC1BC,QAAQ,EAAEA,CAAA,KAAM;QACfZ,gBAAgB,CAAC,CAAC;QAClBF,mBAAmB;QAClB;QACA,IAAAe,QAAE,EAAE,eAAgB,CACrB,CAAC;MACF;IACD,CAAC;IACDC,OAAO,EAAE;MACRN,EAAE,EAAE,qBAAqB;MACzBC,KAAK,EAAE,IAAAC,QAAE,EACR,SAAS,EACT,8FACD,CAAC;MACDC,KAAK,EAAE,qBAAqB;MAC5BC,QAAQ,EAAEA,CAAA,KAAM;QACfT,kBAAkB,CAAC,CAAC;QACpBL,mBAAmB;QAClB;QACA,IAAAe,QAAE,EAAE,iBAAkB,CACvB,CAAC;MACF;IACD;EACD,CAAC;AACF"}