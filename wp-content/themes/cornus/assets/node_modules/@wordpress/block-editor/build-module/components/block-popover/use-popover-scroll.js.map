{"version":3,"names":["useRefEffect","usePopoverScroll","scrollableRef","node","onWheel","event","deltaX","deltaY","current","scrollBy","options","passive","addEventListener","removeEventListener"],"sources":["@wordpress/block-editor/src/components/block-popover/use-popover-scroll.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\n\n/**\n * Allow scrolling \"through\" popovers over the canvas. This is only called for\n * as long as the pointer is over a popover. Do not use React events because it\n * will bubble through portals.\n *\n * @param {Object} scrollableRef\n */\nfunction usePopoverScroll( scrollableRef ) {\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tif ( ! scrollableRef ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction onWheel( event ) {\n\t\t\t\tconst { deltaX, deltaY } = event;\n\t\t\t\tscrollableRef.current.scrollBy( deltaX, deltaY );\n\t\t\t}\n\t\t\t// Tell the browser that we do not call event.preventDefault\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#improving_scrolling_performance_with_passive_listeners\n\t\t\tconst options = { passive: true };\n\t\t\tnode.addEventListener( 'wheel', onWheel, options );\n\t\t\treturn () => {\n\t\t\t\tnode.removeEventListener( 'wheel', onWheel, options );\n\t\t\t};\n\t\t},\n\t\t[ scrollableRef ]\n\t);\n}\n\nexport default usePopoverScroll;\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,gBAAgBA,CAAEC,aAAa,EAAG;EAC1C,OAAOF,YAAY,CAChBG,IAAI,IAAM;IACX,IAAK,CAAED,aAAa,EAAG;MACtB;IACD;IAEA,SAASE,OAAOA,CAAEC,KAAK,EAAG;MACzB,MAAM;QAAEC,MAAM;QAAEC;MAAO,CAAC,GAAGF,KAAK;MAChCH,aAAa,CAACM,OAAO,CAACC,QAAQ,CAAEH,MAAM,EAAEC,MAAO,CAAC;IACjD;IACA;IACA;IACA,MAAMG,OAAO,GAAG;MAAEC,OAAO,EAAE;IAAK,CAAC;IACjCR,IAAI,CAACS,gBAAgB,CAAE,OAAO,EAAER,OAAO,EAAEM,OAAQ,CAAC;IAClD,OAAO,MAAM;MACZP,IAAI,CAACU,mBAAmB,CAAE,OAAO,EAAET,OAAO,EAAEM,OAAQ,CAAC;IACtD,CAAC;EACF,CAAC,EACD,CAAER,aAAa,CAChB,CAAC;AACF;AAEA,eAAeD,gBAAgB"}