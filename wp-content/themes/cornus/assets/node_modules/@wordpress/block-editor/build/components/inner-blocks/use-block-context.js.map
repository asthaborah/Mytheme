{"version":3,"names":["_blocks","require","_data","_store","useBlockContext","clientId","useSelect","select","block","blockEditorStore","getBlock","undefined","blockType","blocksStore","getBlockType","name","Object","keys","providesContext","length","fromEntries","entries","map","contextName","attributeName","attributes"],"sources":["@wordpress/block-editor/src/components/inner-blocks/use-block-context.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Returns a context object for a given block.\n *\n * @param {string} clientId The block client ID.\n *\n * @return {Record<string,*>} Context value.\n */\nexport default function useBlockContext( clientId ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst block = select( blockEditorStore ).getBlock( clientId );\n\t\t\tif ( ! block ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst blockType = select( blocksStore ).getBlockType( block.name );\n\t\t\tif ( ! blockType ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tif ( Object.keys( blockType.providesContext ).length === 0 ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries( blockType.providesContext ).map(\n\t\t\t\t\t( [ contextName, attributeName ] ) => [\n\t\t\t\t\t\tcontextName,\n\t\t\t\t\t\tblock.attributes[ attributeName ],\n\t\t\t\t\t]\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKA,IAAAE,MAAA,GAAAF,OAAA;AATA;AACA;AACA;;AAIA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASG,eAAeA,CAAEC,QAAQ,EAAG;EACnD,OAAO,IAAAC,eAAS,EACbC,MAAM,IAAM;IACb,MAAMC,KAAK,GAAGD,MAAM,CAAEE,YAAiB,CAAC,CAACC,QAAQ,CAAEL,QAAS,CAAC;IAC7D,IAAK,CAAEG,KAAK,EAAG;MACd,OAAOG,SAAS;IACjB;IAEA,MAAMC,SAAS,GAAGL,MAAM,CAAEM,aAAY,CAAC,CAACC,YAAY,CAAEN,KAAK,CAACO,IAAK,CAAC;IAClE,IAAK,CAAEH,SAAS,EAAG;MAClB,OAAOD,SAAS;IACjB;IAEA,IAAKK,MAAM,CAACC,IAAI,CAAEL,SAAS,CAACM,eAAgB,CAAC,CAACC,MAAM,KAAK,CAAC,EAAG;MAC5D,OAAOR,SAAS;IACjB;IAEA,OAAOK,MAAM,CAACI,WAAW,CACxBJ,MAAM,CAACK,OAAO,CAAET,SAAS,CAACM,eAAgB,CAAC,CAACI,GAAG,CAC9C,CAAE,CAAEC,WAAW,EAAEC,aAAa,CAAE,KAAM,CACrCD,WAAW,EACXf,KAAK,CAACiB,UAAU,CAAED,aAAa,CAAE,CAEnC,CACD,CAAC;EACF,CAAC,EACD,CAAEnB,QAAQ,CACX,CAAC;AACF"}