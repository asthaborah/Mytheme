{"version":3,"names":["PanelBody","__experimentalUseSlotFills","useSlotFills","useSelect","useLayoutEffect","useState","__","InspectorControlsGroups","default","InspectorControls","store","blockEditorStore","PositionControlsPanel","initialOpen","setInitialOpen","multiSelectedBlocks","select","getBlocksByClientId","getSelectedBlockClientIds","clientIds","undefined","some","attributes","style","position","type","createElement","className","title","Slot","group","PositionControls","fills","__unstableName","hasFills","Boolean","length"],"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/position-controls-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\t__experimentalUseSlotFills as useSlotFills,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useLayoutEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport { default as InspectorControls } from '../inspector-controls';\nimport { store as blockEditorStore } from '../../store';\n\nconst PositionControlsPanel = () => {\n\tconst [ initialOpen, setInitialOpen ] = useState();\n\n\t// Determine whether the panel should be expanded.\n\tconst { multiSelectedBlocks } = useSelect( ( select ) => {\n\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } =\n\t\t\tselect( blockEditorStore );\n\t\tconst clientIds = getSelectedBlockClientIds();\n\t\treturn {\n\t\t\tmultiSelectedBlocks: getBlocksByClientId( clientIds ),\n\t\t};\n\t}, [] );\n\n\tuseLayoutEffect( () => {\n\t\t// If any selected block has a position set, open the panel by default.\n\t\t// The first block's value will still be used within the control though.\n\t\tif ( initialOpen === undefined ) {\n\t\t\tsetInitialOpen(\n\t\t\t\tmultiSelectedBlocks.some(\n\t\t\t\t\t( { attributes } ) => !! attributes?.style?.position?.type\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}, [ initialOpen, multiSelectedBlocks, setInitialOpen ] );\n\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName=\"block-editor-block-inspector__position\"\n\t\t\ttitle={ __( 'Position' ) }\n\t\t\tinitialOpen={ initialOpen ?? false }\n\t\t>\n\t\t\t<InspectorControls.Slot group=\"position\" />\n\t\t</PanelBody>\n\t);\n};\n\nconst PositionControls = () => {\n\tconst fills = useSlotFills(\n\t\tInspectorControlsGroups.position.Slot.__unstableName\n\t);\n\tconst hasFills = Boolean( fills && fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn null;\n\t}\n\n\treturn <PositionControlsPanel />;\n};\n\nexport default PositionControls;\n"],"mappings":";AAAA;AACA;AACA;AACA,SACCA,SAAS,EACTC,0BAA0B,IAAIC,YAAY,QACpC,uBAAuB;AAC9B,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,eAAe,EAAEC,QAAQ,QAAQ,oBAAoB;AAC9D,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,OAAOC,uBAAuB,MAAM,8BAA8B;AAClE,SAASC,OAAO,IAAIC,iBAAiB,QAAQ,uBAAuB;AACpE,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM,CAAEC,WAAW,EAAEC,cAAc,CAAE,GAAGT,QAAQ,CAAC,CAAC;;EAElD;EACA,MAAM;IAAEU;EAAoB,CAAC,GAAGZ,SAAS,CAAIa,MAAM,IAAM;IACxD,MAAM;MAAEC,mBAAmB;MAAEC;IAA0B,CAAC,GACvDF,MAAM,CAAEL,gBAAiB,CAAC;IAC3B,MAAMQ,SAAS,GAAGD,yBAAyB,CAAC,CAAC;IAC7C,OAAO;MACNH,mBAAmB,EAAEE,mBAAmB,CAAEE,SAAU;IACrD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEPf,eAAe,CAAE,MAAM;IACtB;IACA;IACA,IAAKS,WAAW,KAAKO,SAAS,EAAG;MAChCN,cAAc,CACbC,mBAAmB,CAACM,IAAI,CACvB,CAAE;QAAEC;MAAW,CAAC,KAAM,CAAC,CAAEA,UAAU,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IACvD,CACD,CAAC;IACF;EACD,CAAC,EAAE,CAAEZ,WAAW,EAAEE,mBAAmB,EAAED,cAAc,CAAG,CAAC;EAEzD,OACCY,aAAA,CAAC1B,SAAS;IACT2B,SAAS,EAAC,wCAAwC;IAClDC,KAAK,EAAGtB,EAAE,CAAE,UAAW,CAAG;IAC1BO,WAAW,EAAGA,WAAW,aAAXA,WAAW,cAAXA,WAAW,GAAI;EAAO,GAEpCa,aAAA,CAACjB,iBAAiB,CAACoB,IAAI;IAACC,KAAK,EAAC;EAAU,CAAE,CAChC,CAAC;AAEd,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,KAAK,GAAG9B,YAAY,CACzBK,uBAAuB,CAACiB,QAAQ,CAACK,IAAI,CAACI,cACvC,CAAC;EACD,MAAMC,QAAQ,GAAGC,OAAO,CAAEH,KAAK,IAAIA,KAAK,CAACI,MAAO,CAAC;EAEjD,IAAK,CAAEF,QAAQ,EAAG;IACjB,OAAO,IAAI;EACZ;EAEA,OAAOR,aAAA,CAACd,qBAAqB,MAAE,CAAC;AACjC,CAAC;AAED,eAAemB,gBAAgB"}