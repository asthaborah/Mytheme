{"version":3,"names":["_compose","require","_data","_store","useInsertReplacementText","__unstableMarkLastChangeAsPersistent","useDispatch","blockEditorStore","useRefEffect","element","onInput","event","inputType","addEventListener","removeEventListener"],"sources":["@wordpress/block-editor/src/components/rich-text/use-insert-replacement-text.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * When the browser is about to auto correct, add an undo level so the user can\n * revert the change.\n */\nexport function useInsertReplacementText() {\n\tconst { __unstableMarkLastChangeAsPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\treturn useRefEffect( ( element ) => {\n\t\tfunction onInput( event ) {\n\t\t\tif ( event.inputType === 'insertReplacementText' ) {\n\t\t\t\t__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t}\n\n\t\telement.addEventListener( 'beforeinput', onInput );\n\t\treturn () => {\n\t\t\telement.removeEventListener( 'beforeinput', onInput );\n\t\t};\n\t}, [] );\n}\n"],"mappings":";;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKA,IAAAE,MAAA,GAAAF,OAAA;AATA;AACA;AACA;;AAIA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACO,SAASG,wBAAwBA,CAAA,EAAG;EAC1C,MAAM;IAAEC;EAAqC,CAAC,GAC7C,IAAAC,iBAAW,EAAEC,YAAiB,CAAC;EAChC,OAAO,IAAAC,qBAAY,EAAIC,OAAO,IAAM;IACnC,SAASC,OAAOA,CAAEC,KAAK,EAAG;MACzB,IAAKA,KAAK,CAACC,SAAS,KAAK,uBAAuB,EAAG;QAClDP,oCAAoC,CAAC,CAAC;MACvC;IACD;IAEAI,OAAO,CAACI,gBAAgB,CAAE,aAAa,EAAEH,OAAQ,CAAC;IAClD,OAAO,MAAM;MACZD,OAAO,CAACK,mBAAmB,CAAE,aAAa,EAAEJ,OAAQ,CAAC;IACtD,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;AACR"}