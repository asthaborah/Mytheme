{"version":3,"names":["_dom","require","_element","useListViewScrollIntoView","isSelected","selectedClientIds","rowItemRef","isSingleSelection","length","useLayoutEffect","current","scrollContainer","getScrollContainer","ownerDocument","windowScroll","body","documentElement","rowRect","getBoundingClientRect","scrollContainerRect","top","bottom","scrollIntoView"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-scroll-into-view.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getScrollContainer } from '@wordpress/dom';\nimport { useLayoutEffect } from '@wordpress/element';\n\nexport default function useListViewScrollIntoView( {\n\tisSelected,\n\tselectedClientIds,\n\trowItemRef,\n} ) {\n\tconst isSingleSelection = selectedClientIds.length === 1;\n\n\tuseLayoutEffect( () => {\n\t\t// Skip scrolling into view if this particular block isn't selected,\n\t\t// or if more than one block is selected overall. This is to avoid\n\t\t// scrolling the view in a multi selection where the user has intentionally\n\t\t// selected multiple blocks within the list view, but the initially\n\t\t// selected block may be out of view.\n\t\tif ( ! isSelected || ! isSingleSelection || ! rowItemRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( rowItemRef.current );\n\t\tconst { ownerDocument } = rowItemRef.current;\n\n\t\tconst windowScroll =\n\t\t\tscrollContainer === ownerDocument.body ||\n\t\t\tscrollContainer === ownerDocument.documentElement;\n\n\t\t// If the there is no scroll container, of if the scroll container is the window,\n\t\t// do not scroll into view, as the block is already in view.\n\t\tif ( windowScroll || ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst rowRect = rowItemRef.current.getBoundingClientRect();\n\t\tconst scrollContainerRect = scrollContainer.getBoundingClientRect();\n\n\t\t// If the selected block is not currently visible, scroll to it.\n\t\tif (\n\t\t\trowRect.top < scrollContainerRect.top ||\n\t\t\trowRect.bottom > scrollContainerRect.bottom\n\t\t) {\n\t\t\trowItemRef.current.scrollIntoView();\n\t\t}\n\t}, [ isSelected, isSingleSelection, rowItemRef ] );\n}\n"],"mappings":";;;;;;AAGA,IAAAA,IAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAJA;AACA;AACA;;AAIe,SAASE,yBAAyBA,CAAE;EAClDC,UAAU;EACVC,iBAAiB;EACjBC;AACD,CAAC,EAAG;EACH,MAAMC,iBAAiB,GAAGF,iBAAiB,CAACG,MAAM,KAAK,CAAC;EAExD,IAAAC,wBAAe,EAAE,MAAM;IACtB;IACA;IACA;IACA;IACA;IACA,IAAK,CAAEL,UAAU,IAAI,CAAEG,iBAAiB,IAAI,CAAED,UAAU,CAACI,OAAO,EAAG;MAClE;IACD;IAEA,MAAMC,eAAe,GAAG,IAAAC,uBAAkB,EAAEN,UAAU,CAACI,OAAQ,CAAC;IAChE,MAAM;MAAEG;IAAc,CAAC,GAAGP,UAAU,CAACI,OAAO;IAE5C,MAAMI,YAAY,GACjBH,eAAe,KAAKE,aAAa,CAACE,IAAI,IACtCJ,eAAe,KAAKE,aAAa,CAACG,eAAe;;IAElD;IACA;IACA,IAAKF,YAAY,IAAI,CAAEH,eAAe,EAAG;MACxC;IACD;IAEA,MAAMM,OAAO,GAAGX,UAAU,CAACI,OAAO,CAACQ,qBAAqB,CAAC,CAAC;IAC1D,MAAMC,mBAAmB,GAAGR,eAAe,CAACO,qBAAqB,CAAC,CAAC;;IAEnE;IACA,IACCD,OAAO,CAACG,GAAG,GAAGD,mBAAmB,CAACC,GAAG,IACrCH,OAAO,CAACI,MAAM,GAAGF,mBAAmB,CAACE,MAAM,EAC1C;MACDf,UAAU,CAACI,OAAO,CAACY,cAAc,CAAC,CAAC;IACpC;EACD,CAAC,EAAE,CAAElB,UAAU,EAAEG,iBAAiB,EAAED,UAAU,CAAG,CAAC;AACnD"}