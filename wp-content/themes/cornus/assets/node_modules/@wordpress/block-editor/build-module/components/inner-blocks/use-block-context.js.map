{"version":3,"names":["store","blocksStore","useSelect","blockEditorStore","useBlockContext","clientId","select","block","getBlock","undefined","blockType","getBlockType","name","Object","keys","providesContext","length","fromEntries","entries","map","contextName","attributeName","attributes"],"sources":["@wordpress/block-editor/src/components/inner-blocks/use-block-context.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Returns a context object for a given block.\n *\n * @param {string} clientId The block client ID.\n *\n * @return {Record<string,*>} Context value.\n */\nexport default function useBlockContext( clientId ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst block = select( blockEditorStore ).getBlock( clientId );\n\t\t\tif ( ! block ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst blockType = select( blocksStore ).getBlockType( block.name );\n\t\t\tif ( ! blockType ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tif ( Object.keys( blockType.providesContext ).length === 0 ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries( blockType.providesContext ).map(\n\t\t\t\t\t( [ contextName, attributeName ] ) => [\n\t\t\t\t\t\tcontextName,\n\t\t\t\t\t\tblock.attributes[ attributeName ],\n\t\t\t\t\t]\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASF,KAAK,IAAIG,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAAEC,QAAQ,EAAG;EACnD,OAAOH,SAAS,CACbI,MAAM,IAAM;IACb,MAAMC,KAAK,GAAGD,MAAM,CAAEH,gBAAiB,CAAC,CAACK,QAAQ,CAAEH,QAAS,CAAC;IAC7D,IAAK,CAAEE,KAAK,EAAG;MACd,OAAOE,SAAS;IACjB;IAEA,MAAMC,SAAS,GAAGJ,MAAM,CAAEL,WAAY,CAAC,CAACU,YAAY,CAAEJ,KAAK,CAACK,IAAK,CAAC;IAClE,IAAK,CAAEF,SAAS,EAAG;MAClB,OAAOD,SAAS;IACjB;IAEA,IAAKI,MAAM,CAACC,IAAI,CAAEJ,SAAS,CAACK,eAAgB,CAAC,CAACC,MAAM,KAAK,CAAC,EAAG;MAC5D,OAAOP,SAAS;IACjB;IAEA,OAAOI,MAAM,CAACI,WAAW,CACxBJ,MAAM,CAACK,OAAO,CAAER,SAAS,CAACK,eAAgB,CAAC,CAACI,GAAG,CAC9C,CAAE,CAAEC,WAAW,EAAEC,aAAa,CAAE,KAAM,CACrCD,WAAW,EACXb,KAAK,CAACe,UAAU,CAAED,aAAa,CAAE,CAEnC,CACD,CAAC;EACF,CAAC,EACD,CAAEhB,QAAQ,CACX,CAAC;AACF"}