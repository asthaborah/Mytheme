{"version":3,"names":["_classnames","_interopRequireDefault","require","_components","_dom","_element","_i18n","_blockIcon","_useBlockDisplayInformation","_useBlockDisplayTitle","_expander","ListViewDropIndicatorPreview","draggedBlockClientId","listViewRef","blockDropTarget","blockInformation","useBlockDisplayInformation","blockTitle","useBlockDisplayTitle","clientId","context","rootClientId","dropPosition","rootBlockElement","blockElement","useMemo","current","_rootBlockElement","querySelector","undefined","_blockElement","targetElement","rtl","isRTL","getDropIndicatorWidth","useCallback","targetElementRect","indent","width","offsetWidth","scrollContainer","getScrollContainer","ownerDocument","windowScroll","body","documentElement","scrollContainerRect","getBoundingClientRect","distanceBetweenContainerAndTarget","right","left","scrollContainerWidth","clientWidth","style","horizontalScrollOffsetStyle","transform","ariaLevel","_ariaLevel","parseInt","getAttribute","hasAdjacentSelectedBranch","classList","contains","popoverAnchor","isValidDropPosition","contextElement","rect","top","doc","scrollbarWidth","height","window","DOMRect","_react","createElement","Popover","animate","anchor","focusOnMount","className","variant","flip","resize","classnames","default","onClick","icon","showColors","__experimentalHStack","alignment","justify","spacing","__experimentalTruncate","ellipsizeMode"],"sources":["@wordpress/block-editor/src/components/list-view/drop-indicator.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalTruncate as Truncate,\n\tPopover,\n} from '@wordpress/components';\n\nimport { getScrollContainer } from '@wordpress/dom';\nimport { useCallback, useMemo } from '@wordpress/element';\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport useBlockDisplayInformation from '../use-block-display-information';\nimport useBlockDisplayTitle from '../block-title/use-block-display-title';\nimport ListViewExpander from './expander';\n\nexport default function ListViewDropIndicatorPreview( {\n\tdraggedBlockClientId,\n\tlistViewRef,\n\tblockDropTarget,\n} ) {\n\tconst blockInformation = useBlockDisplayInformation( draggedBlockClientId );\n\tconst blockTitle = useBlockDisplayTitle( {\n\t\tclientId: draggedBlockClientId,\n\t\tcontext: 'list-view',\n\t} );\n\n\tconst { rootClientId, clientId, dropPosition } = blockDropTarget || {};\n\n\tconst [ rootBlockElement, blockElement ] = useMemo( () => {\n\t\tif ( ! listViewRef.current ) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// The rootClientId will be defined whenever dropping into inner\n\t\t// block lists, but is undefined when dropping at the root level.\n\t\tconst _rootBlockElement = rootClientId\n\t\t\t? listViewRef.current.querySelector(\n\t\t\t\t\t`[data-block=\"${ rootClientId }\"]`\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\t// The clientId represents the sibling block, the dragged block will\n\t\t// usually be inserted adjacent to it. It will be undefined when\n\t\t// dropping a block into an empty block list.\n\t\tconst _blockElement = clientId\n\t\t\t? listViewRef.current.querySelector(\n\t\t\t\t\t`[data-block=\"${ clientId }\"]`\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\treturn [ _rootBlockElement, _blockElement ];\n\t}, [ listViewRef, rootClientId, clientId ] );\n\n\t// The targetElement is the element that the drop indicator will appear\n\t// before or after. When dropping into an empty block list, blockElement\n\t// is undefined, so the indicator will appear after the rootBlockElement.\n\tconst targetElement = blockElement || rootBlockElement;\n\n\tconst rtl = isRTL();\n\n\tconst getDropIndicatorWidth = useCallback(\n\t\t( targetElementRect, indent ) => {\n\t\t\tif ( ! targetElement ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t// Default to assuming that the width of the drop indicator\n\t\t\t// should be the same as the target element.\n\t\t\tlet width = targetElement.offsetWidth;\n\n\t\t\t// In deeply nested lists, where a scrollbar is present,\n\t\t\t// the width of the drop indicator should be the width of\n\t\t\t// the scroll container, minus the distance from the left\n\t\t\t// edge of the scroll container to the left edge of the\n\t\t\t// target element.\n\t\t\tconst scrollContainer = getScrollContainer(\n\t\t\t\ttargetElement,\n\t\t\t\t'horizontal'\n\t\t\t);\n\n\t\t\tconst ownerDocument = targetElement.ownerDocument;\n\t\t\tconst windowScroll =\n\t\t\t\tscrollContainer === ownerDocument.body ||\n\t\t\t\tscrollContainer === ownerDocument.documentElement;\n\n\t\t\tif ( scrollContainer && ! windowScroll ) {\n\t\t\t\tconst scrollContainerRect =\n\t\t\t\t\tscrollContainer.getBoundingClientRect();\n\n\t\t\t\tconst distanceBetweenContainerAndTarget = isRTL()\n\t\t\t\t\t? scrollContainerRect.right - targetElementRect.right\n\t\t\t\t\t: targetElementRect.left - scrollContainerRect.left;\n\n\t\t\t\tconst scrollContainerWidth = scrollContainer.clientWidth;\n\n\t\t\t\tif (\n\t\t\t\t\tscrollContainerWidth <\n\t\t\t\t\twidth + distanceBetweenContainerAndTarget\n\t\t\t\t) {\n\t\t\t\t\twidth =\n\t\t\t\t\t\tscrollContainerWidth -\n\t\t\t\t\t\tdistanceBetweenContainerAndTarget;\n\t\t\t\t}\n\n\t\t\t\t// LTR logic for ensuring the drop indicator does not extend\n\t\t\t\t// beyond the right edge of the scroll container.\n\t\t\t\tif (\n\t\t\t\t\t! rtl &&\n\t\t\t\t\ttargetElementRect.left + indent < scrollContainerRect.left\n\t\t\t\t) {\n\t\t\t\t\twidth -= scrollContainerRect.left - targetElementRect.left;\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\n\t\t\t\t// RTL logic for ensuring the drop indicator does not extend\n\t\t\t\t// beyond the right edge of the scroll container.\n\t\t\t\tif (\n\t\t\t\t\trtl &&\n\t\t\t\t\ttargetElementRect.right - indent > scrollContainerRect.right\n\t\t\t\t) {\n\t\t\t\t\twidth -=\n\t\t\t\t\t\ttargetElementRect.right - scrollContainerRect.right;\n\t\t\t\t\treturn width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Subtract the indent from the final width of the indicator.\n\t\t\treturn width - indent;\n\t\t},\n\t\t[ rtl, targetElement ]\n\t);\n\n\tconst style = useMemo( () => {\n\t\tif ( ! targetElement ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst targetElementRect = targetElement.getBoundingClientRect();\n\n\t\treturn {\n\t\t\twidth: getDropIndicatorWidth( targetElementRect, 0 ),\n\t\t};\n\t}, [ getDropIndicatorWidth, targetElement ] );\n\n\tconst horizontalScrollOffsetStyle = useMemo( () => {\n\t\tif ( ! targetElement ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( targetElement );\n\t\tconst ownerDocument = targetElement.ownerDocument;\n\t\tconst windowScroll =\n\t\t\tscrollContainer === ownerDocument.body ||\n\t\t\tscrollContainer === ownerDocument.documentElement;\n\n\t\tif ( scrollContainer && ! windowScroll ) {\n\t\t\tconst scrollContainerRect = scrollContainer.getBoundingClientRect();\n\t\t\tconst targetElementRect = targetElement.getBoundingClientRect();\n\n\t\t\tconst distanceBetweenContainerAndTarget = rtl\n\t\t\t\t? scrollContainerRect.right - targetElementRect.right\n\t\t\t\t: targetElementRect.left - scrollContainerRect.left;\n\n\t\t\tif ( ! rtl && scrollContainerRect.left > targetElementRect.left ) {\n\t\t\t\treturn {\n\t\t\t\t\ttransform: `translateX( ${ distanceBetweenContainerAndTarget }px )`,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif ( rtl && scrollContainerRect.right < targetElementRect.right ) {\n\t\t\t\treturn {\n\t\t\t\t\ttransform: `translateX( ${\n\t\t\t\t\t\tdistanceBetweenContainerAndTarget * -1\n\t\t\t\t\t}px )`,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn {};\n\t}, [ rtl, targetElement ] );\n\n\tconst ariaLevel = useMemo( () => {\n\t\tif ( ! rootBlockElement ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tconst _ariaLevel = parseInt(\n\t\t\trootBlockElement.getAttribute( 'aria-level' ),\n\t\t\t10\n\t\t);\n\n\t\treturn _ariaLevel ? _ariaLevel + 1 : 1;\n\t}, [ rootBlockElement ] );\n\n\tconst hasAdjacentSelectedBranch = useMemo( () => {\n\t\tif ( ! targetElement ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn targetElement.classList.contains( 'is-branch-selected' );\n\t}, [ targetElement ] );\n\n\tconst popoverAnchor = useMemo( () => {\n\t\tconst isValidDropPosition =\n\t\t\tdropPosition === 'top' ||\n\t\t\tdropPosition === 'bottom' ||\n\t\t\tdropPosition === 'inside';\n\t\tif ( ! targetElement || ! isValidDropPosition ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tcontextElement: targetElement,\n\t\t\tgetBoundingClientRect() {\n\t\t\t\tconst rect = targetElement.getBoundingClientRect();\n\t\t\t\t// In RTL languages, the drop indicator should be positioned\n\t\t\t\t// to the left of the target element, with the width of the\n\t\t\t\t// indicator determining the indent at the right edge of the\n\t\t\t\t// target element. In LTR languages, the drop indicator should\n\t\t\t\t// end at the right edge of the target element, with the indent\n\t\t\t\t// added to the position of the left edge of the target element.\n\t\t\t\t// let left = rtl ? rect.left : rect.left + indent;\n\t\t\t\tlet left = rect.left;\n\t\t\t\tlet top = 0;\n\n\t\t\t\t// In deeply nested lists, where a scrollbar is present,\n\t\t\t\t// the width of the drop indicator should be the width of\n\t\t\t\t// the visible area of the scroll container. Additionally,\n\t\t\t\t// the left edge of the drop indicator line needs to be\n\t\t\t\t// offset by the distance the left edge of the target element\n\t\t\t\t// and the left edge of the scroll container. The ensures\n\t\t\t\t// that the drop indicator position never breaks out of the\n\t\t\t\t// visible area of the scroll container.\n\t\t\t\tconst scrollContainer = getScrollContainer(\n\t\t\t\t\ttargetElement,\n\t\t\t\t\t'horizontal'\n\t\t\t\t);\n\n\t\t\t\tconst doc = targetElement.ownerDocument;\n\t\t\t\tconst windowScroll =\n\t\t\t\t\tscrollContainer === doc.body ||\n\t\t\t\t\tscrollContainer === doc.documentElement;\n\n\t\t\t\t// If the scroll container is not the window, offset the left position, if need be.\n\t\t\t\tif ( scrollContainer && ! windowScroll ) {\n\t\t\t\t\tconst scrollContainerRect =\n\t\t\t\t\t\tscrollContainer.getBoundingClientRect();\n\n\t\t\t\t\t// In RTL languages, a vertical scrollbar is present on the\n\t\t\t\t\t// left edge of the scroll container. The width of the\n\t\t\t\t\t// scrollbar needs to be accounted for when positioning the\n\t\t\t\t\t// drop indicator.\n\t\t\t\t\tconst scrollbarWidth = rtl\n\t\t\t\t\t\t? scrollContainer.offsetWidth -\n\t\t\t\t\t\t  scrollContainer.clientWidth\n\t\t\t\t\t\t: 0;\n\n\t\t\t\t\tif ( left < scrollContainerRect.left + scrollbarWidth ) {\n\t\t\t\t\t\tleft = scrollContainerRect.left + scrollbarWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( dropPosition === 'top' ) {\n\t\t\t\t\ttop = rect.top - rect.height * 2;\n\t\t\t\t} else {\n\t\t\t\t\t// `dropPosition` is either `bottom` or `inside`\n\t\t\t\t\ttop = rect.top;\n\t\t\t\t}\n\n\t\t\t\tconst width = getDropIndicatorWidth( rect, 0 );\n\t\t\t\tconst height = rect.height;\n\n\t\t\t\treturn new window.DOMRect( left, top, width, height );\n\t\t\t},\n\t\t};\n\t}, [ targetElement, dropPosition, getDropIndicatorWidth, rtl ] );\n\n\tif ( ! targetElement ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tanimate={ false }\n\t\t\tanchor={ popoverAnchor }\n\t\t\tfocusOnMount={ false }\n\t\t\tclassName=\"block-editor-list-view-drop-indicator--preview\"\n\t\t\tvariant=\"unstyled\"\n\t\t\tflip={ false }\n\t\t\tresize\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={ style }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-editor-list-view-drop-indicator__line',\n\t\t\t\t\t{\n\t\t\t\t\t\t'block-editor-list-view-drop-indicator__line--darker':\n\t\t\t\t\t\t\thasAdjacentSelectedBranch,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-list-view-leaf\"\n\t\t\t\t\taria-level={ ariaLevel }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-list-view-block-select-button',\n\t\t\t\t\t\t\t'block-editor-list-view-block-contents'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tstyle={ horizontalScrollOffsetStyle }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListViewExpander onClick={ () => {} } />\n\t\t\t\t\t\t<BlockIcon\n\t\t\t\t\t\t\ticon={ blockInformation?.icon }\n\t\t\t\t\t\t\tshowColors\n\t\t\t\t\t\t\tcontext=\"list-view\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\talignment=\"center\"\n\t\t\t\t\t\t\tclassName=\"block-editor-list-view-block-select-button__label-wrapper\"\n\t\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"block-editor-list-view-block-select-button__title\">\n\t\t\t\t\t\t\t\t<Truncate ellipsizeMode=\"auto\">\n\t\t\t\t\t\t\t\t\t{ blockTitle }\n\t\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"block-editor-list-view-block__menu-cell\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,WAAA,GAAAD,OAAA;AAMA,IAAAE,IAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AAKA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,2BAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,qBAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,SAAA,GAAAT,sBAAA,CAAAC,OAAA;AAxBA;AACA;AACA;;AAGA;AACA;AACA;;AAWA;AACA;AACA;;AAMe,SAASS,4BAA4BA,CAAE;EACrDC,oBAAoB;EACpBC,WAAW;EACXC;AACD,CAAC,EAAG;EACH,MAAMC,gBAAgB,GAAG,IAAAC,mCAA0B,EAAEJ,oBAAqB,CAAC;EAC3E,MAAMK,UAAU,GAAG,IAAAC,6BAAoB,EAAE;IACxCC,QAAQ,EAAEP,oBAAoB;IAC9BQ,OAAO,EAAE;EACV,CAAE,CAAC;EAEH,MAAM;IAAEC,YAAY;IAAEF,QAAQ;IAAEG;EAAa,CAAC,GAAGR,eAAe,IAAI,CAAC,CAAC;EAEtE,MAAM,CAAES,gBAAgB,EAAEC,YAAY,CAAE,GAAG,IAAAC,gBAAO,EAAE,MAAM;IACzD,IAAK,CAAEZ,WAAW,CAACa,OAAO,EAAG;MAC5B,OAAO,EAAE;IACV;;IAEA;IACA;IACA,MAAMC,iBAAiB,GAAGN,YAAY,GACnCR,WAAW,CAACa,OAAO,CAACE,aAAa,CAChC,gBAAgBP,YAAc,IAC/B,CAAC,GACDQ,SAAS;;IAEZ;IACA;IACA;IACA,MAAMC,aAAa,GAAGX,QAAQ,GAC3BN,WAAW,CAACa,OAAO,CAACE,aAAa,CAChC,gBAAgBT,QAAU,IAC3B,CAAC,GACDU,SAAS;IAEZ,OAAO,CAAEF,iBAAiB,EAAEG,aAAa,CAAE;EAC5C,CAAC,EAAE,CAAEjB,WAAW,EAAEQ,YAAY,EAAEF,QAAQ,CAAG,CAAC;;EAE5C;EACA;EACA;EACA,MAAMY,aAAa,GAAGP,YAAY,IAAID,gBAAgB;EAEtD,MAAMS,GAAG,GAAG,IAAAC,WAAK,EAAC,CAAC;EAEnB,MAAMC,qBAAqB,GAAG,IAAAC,oBAAW,EACxC,CAAEC,iBAAiB,EAAEC,MAAM,KAAM;IAChC,IAAK,CAAEN,aAAa,EAAG;MACtB,OAAO,CAAC;IACT;;IAEA;IACA;IACA,IAAIO,KAAK,GAAGP,aAAa,CAACQ,WAAW;;IAErC;IACA;IACA;IACA;IACA;IACA,MAAMC,eAAe,GAAG,IAAAC,uBAAkB,EACzCV,aAAa,EACb,YACD,CAAC;IAED,MAAMW,aAAa,GAAGX,aAAa,CAACW,aAAa;IACjD,MAAMC,YAAY,GACjBH,eAAe,KAAKE,aAAa,CAACE,IAAI,IACtCJ,eAAe,KAAKE,aAAa,CAACG,eAAe;IAElD,IAAKL,eAAe,IAAI,CAAEG,YAAY,EAAG;MACxC,MAAMG,mBAAmB,GACxBN,eAAe,CAACO,qBAAqB,CAAC,CAAC;MAExC,MAAMC,iCAAiC,GAAG,IAAAf,WAAK,EAAC,CAAC,GAC9Ca,mBAAmB,CAACG,KAAK,GAAGb,iBAAiB,CAACa,KAAK,GACnDb,iBAAiB,CAACc,IAAI,GAAGJ,mBAAmB,CAACI,IAAI;MAEpD,MAAMC,oBAAoB,GAAGX,eAAe,CAACY,WAAW;MAExD,IACCD,oBAAoB,GACpBb,KAAK,GAAGU,iCAAiC,EACxC;QACDV,KAAK,GACJa,oBAAoB,GACpBH,iCAAiC;MACnC;;MAEA;MACA;MACA,IACC,CAAEhB,GAAG,IACLI,iBAAiB,CAACc,IAAI,GAAGb,MAAM,GAAGS,mBAAmB,CAACI,IAAI,EACzD;QACDZ,KAAK,IAAIQ,mBAAmB,CAACI,IAAI,GAAGd,iBAAiB,CAACc,IAAI;QAC1D,OAAOZ,KAAK;MACb;;MAEA;MACA;MACA,IACCN,GAAG,IACHI,iBAAiB,CAACa,KAAK,GAAGZ,MAAM,GAAGS,mBAAmB,CAACG,KAAK,EAC3D;QACDX,KAAK,IACJF,iBAAiB,CAACa,KAAK,GAAGH,mBAAmB,CAACG,KAAK;QACpD,OAAOX,KAAK;MACb;IACD;;IAEA;IACA,OAAOA,KAAK,GAAGD,MAAM;EACtB,CAAC,EACD,CAAEL,GAAG,EAAED,aAAa,CACrB,CAAC;EAED,MAAMsB,KAAK,GAAG,IAAA5B,gBAAO,EAAE,MAAM;IAC5B,IAAK,CAAEM,aAAa,EAAG;MACtB,OAAO,CAAC,CAAC;IACV;IAEA,MAAMK,iBAAiB,GAAGL,aAAa,CAACgB,qBAAqB,CAAC,CAAC;IAE/D,OAAO;MACNT,KAAK,EAAEJ,qBAAqB,CAAEE,iBAAiB,EAAE,CAAE;IACpD,CAAC;EACF,CAAC,EAAE,CAAEF,qBAAqB,EAAEH,aAAa,CAAG,CAAC;EAE7C,MAAMuB,2BAA2B,GAAG,IAAA7B,gBAAO,EAAE,MAAM;IAClD,IAAK,CAAEM,aAAa,EAAG;MACtB,OAAO,CAAC,CAAC;IACV;IAEA,MAAMS,eAAe,GAAG,IAAAC,uBAAkB,EAAEV,aAAc,CAAC;IAC3D,MAAMW,aAAa,GAAGX,aAAa,CAACW,aAAa;IACjD,MAAMC,YAAY,GACjBH,eAAe,KAAKE,aAAa,CAACE,IAAI,IACtCJ,eAAe,KAAKE,aAAa,CAACG,eAAe;IAElD,IAAKL,eAAe,IAAI,CAAEG,YAAY,EAAG;MACxC,MAAMG,mBAAmB,GAAGN,eAAe,CAACO,qBAAqB,CAAC,CAAC;MACnE,MAAMX,iBAAiB,GAAGL,aAAa,CAACgB,qBAAqB,CAAC,CAAC;MAE/D,MAAMC,iCAAiC,GAAGhB,GAAG,GAC1Cc,mBAAmB,CAACG,KAAK,GAAGb,iBAAiB,CAACa,KAAK,GACnDb,iBAAiB,CAACc,IAAI,GAAGJ,mBAAmB,CAACI,IAAI;MAEpD,IAAK,CAAElB,GAAG,IAAIc,mBAAmB,CAACI,IAAI,GAAGd,iBAAiB,CAACc,IAAI,EAAG;QACjE,OAAO;UACNK,SAAS,EAAG,eAAeP,iCAAmC;QAC/D,CAAC;MACF;MAEA,IAAKhB,GAAG,IAAIc,mBAAmB,CAACG,KAAK,GAAGb,iBAAiB,CAACa,KAAK,EAAG;QACjE,OAAO;UACNM,SAAS,EAAG,eACXP,iCAAiC,GAAG,CAAC,CACrC;QACF,CAAC;MACF;IACD;IAEA,OAAO,CAAC,CAAC;EACV,CAAC,EAAE,CAAEhB,GAAG,EAAED,aAAa,CAAG,CAAC;EAE3B,MAAMyB,SAAS,GAAG,IAAA/B,gBAAO,EAAE,MAAM;IAChC,IAAK,CAAEF,gBAAgB,EAAG;MACzB,OAAO,CAAC;IACT;IAEA,MAAMkC,UAAU,GAAGC,QAAQ,CAC1BnC,gBAAgB,CAACoC,YAAY,CAAE,YAAa,CAAC,EAC7C,EACD,CAAC;IAED,OAAOF,UAAU,GAAGA,UAAU,GAAG,CAAC,GAAG,CAAC;EACvC,CAAC,EAAE,CAAElC,gBAAgB,CAAG,CAAC;EAEzB,MAAMqC,yBAAyB,GAAG,IAAAnC,gBAAO,EAAE,MAAM;IAChD,IAAK,CAAEM,aAAa,EAAG;MACtB,OAAO,KAAK;IACb;IAEA,OAAOA,aAAa,CAAC8B,SAAS,CAACC,QAAQ,CAAE,oBAAqB,CAAC;EAChE,CAAC,EAAE,CAAE/B,aAAa,CAAG,CAAC;EAEtB,MAAMgC,aAAa,GAAG,IAAAtC,gBAAO,EAAE,MAAM;IACpC,MAAMuC,mBAAmB,GACxB1C,YAAY,KAAK,KAAK,IACtBA,YAAY,KAAK,QAAQ,IACzBA,YAAY,KAAK,QAAQ;IAC1B,IAAK,CAAES,aAAa,IAAI,CAAEiC,mBAAmB,EAAG;MAC/C,OAAOnC,SAAS;IACjB;IAEA,OAAO;MACNoC,cAAc,EAAElC,aAAa;MAC7BgB,qBAAqBA,CAAA,EAAG;QACvB,MAAMmB,IAAI,GAAGnC,aAAa,CAACgB,qBAAqB,CAAC,CAAC;QAClD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAIG,IAAI,GAAGgB,IAAI,CAAChB,IAAI;QACpB,IAAIiB,GAAG,GAAG,CAAC;;QAEX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM3B,eAAe,GAAG,IAAAC,uBAAkB,EACzCV,aAAa,EACb,YACD,CAAC;QAED,MAAMqC,GAAG,GAAGrC,aAAa,CAACW,aAAa;QACvC,MAAMC,YAAY,GACjBH,eAAe,KAAK4B,GAAG,CAACxB,IAAI,IAC5BJ,eAAe,KAAK4B,GAAG,CAACvB,eAAe;;QAExC;QACA,IAAKL,eAAe,IAAI,CAAEG,YAAY,EAAG;UACxC,MAAMG,mBAAmB,GACxBN,eAAe,CAACO,qBAAqB,CAAC,CAAC;;UAExC;UACA;UACA;UACA;UACA,MAAMsB,cAAc,GAAGrC,GAAG,GACvBQ,eAAe,CAACD,WAAW,GAC3BC,eAAe,CAACY,WAAW,GAC3B,CAAC;UAEJ,IAAKF,IAAI,GAAGJ,mBAAmB,CAACI,IAAI,GAAGmB,cAAc,EAAG;YACvDnB,IAAI,GAAGJ,mBAAmB,CAACI,IAAI,GAAGmB,cAAc;UACjD;QACD;QAEA,IAAK/C,YAAY,KAAK,KAAK,EAAG;UAC7B6C,GAAG,GAAGD,IAAI,CAACC,GAAG,GAAGD,IAAI,CAACI,MAAM,GAAG,CAAC;QACjC,CAAC,MAAM;UACN;UACAH,GAAG,GAAGD,IAAI,CAACC,GAAG;QACf;QAEA,MAAM7B,KAAK,GAAGJ,qBAAqB,CAAEgC,IAAI,EAAE,CAAE,CAAC;QAC9C,MAAMI,MAAM,GAAGJ,IAAI,CAACI,MAAM;QAE1B,OAAO,IAAIC,MAAM,CAACC,OAAO,CAAEtB,IAAI,EAAEiB,GAAG,EAAE7B,KAAK,EAAEgC,MAAO,CAAC;MACtD;IACD,CAAC;EACF,CAAC,EAAE,CAAEvC,aAAa,EAAET,YAAY,EAAEY,qBAAqB,EAAEF,GAAG,CAAG,CAAC;EAEhE,IAAK,CAAED,aAAa,EAAG;IACtB,OAAO,IAAI;EACZ;EAEA,OACC,IAAA0C,MAAA,CAAAC,aAAA,EAACvE,WAAA,CAAAwE,OAAO;IACPC,OAAO,EAAG,KAAO;IACjBC,MAAM,EAAGd,aAAe;IACxBe,YAAY,EAAG,KAAO;IACtBC,SAAS,EAAC,gDAAgD;IAC1DC,OAAO,EAAC,UAAU;IAClBC,IAAI,EAAG,KAAO;IACdC,MAAM;EAAA,GAEN,IAAAT,MAAA,CAAAC,aAAA;IACCrB,KAAK,EAAGA,KAAO;IACf0B,SAAS,EAAG,IAAAI,mBAAU,EACrB,6CAA6C,EAC7C;MACC,qDAAqD,EACpDvB;IACF,CACD;EAAG,GAEH,IAAAa,MAAA,CAAAC,aAAA;IACCK,SAAS,EAAC,6BAA6B;IACvC,cAAavB;EAAW,GAExB,IAAAiB,MAAA,CAAAC,aAAA;IACCK,SAAS,EAAG,IAAAI,mBAAU,EACrB,4CAA4C,EAC5C,uCACD,CAAG;IACH9B,KAAK,EAAGC;EAA6B,GAErC,IAAAmB,MAAA,CAAAC,aAAA,EAAChE,SAAA,CAAA0E,OAAgB;IAACC,OAAO,EAAGA,CAAA,KAAM,CAAC;EAAG,CAAE,CAAC,EACzC,IAAAZ,MAAA,CAAAC,aAAA,EAACnE,UAAA,CAAA6E,OAAS;IACTE,IAAI,EAAGvE,gBAAgB,EAAEuE,IAAM;IAC/BC,UAAU;IACVnE,OAAO,EAAC;EAAW,CACnB,CAAC,EACF,IAAAqD,MAAA,CAAAC,aAAA,EAACvE,WAAA,CAAAqF,oBAAM;IACNC,SAAS,EAAC,QAAQ;IAClBV,SAAS,EAAC,2DAA2D;IACrEW,OAAO,EAAC,YAAY;IACpBC,OAAO,EAAG;EAAG,GAEb,IAAAlB,MAAA,CAAAC,aAAA;IAAMK,SAAS,EAAC;EAAmD,GAClE,IAAAN,MAAA,CAAAC,aAAA,EAACvE,WAAA,CAAAyF,sBAAQ;IAACC,aAAa,EAAC;EAAM,GAC3B5E,UACO,CACL,CACC,CACJ,CAAC,EACN,IAAAwD,MAAA,CAAAC,aAAA;IAAKK,SAAS,EAAC;EAAyC,CAAM,CAC1D,CACD,CACG,CAAC;AAEZ"}