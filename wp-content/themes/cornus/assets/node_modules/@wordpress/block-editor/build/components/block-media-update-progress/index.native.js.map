{"version":3,"names":["_reactNative","require","_element","_components","_i18n","_reactNativeBridge","_styles","_interopRequireDefault","MEDIA_UPLOAD_STATE_UPLOADING","exports","MEDIA_UPLOAD_STATE_SUCCEEDED","MEDIA_UPLOAD_STATE_FAILED","MEDIA_UPLOAD_STATE_RESET","MEDIA_SAVE_STATE_SAVING","MEDIA_SAVE_STATE_SUCCEEDED","MEDIA_SAVE_STATE_FAILED","MEDIA_SAVE_STATE_RESET","MEDIA_SAVE_FINAL_STATE_RESULT","MEDIA_SAVE_MEDIAID_CHANGED","BlockMediaUpdateProgress","Component","constructor","props","state","progress","isSaveInProgress","isSaveFailed","isUploadInProgress","isUploadFailed","mediaUpload","bind","mediaSave","componentDidMount","addMediaUploadListener","addMediaSaveListener","componentWillUnmount","removeMediaUploadListener","removeMediaSaveListener","mediaIdContainedInMediaFiles","mediaId","mediaFiles","undefined","some","element","id","toString","payload","updateMediaUploadProgress","finishMediaUploadWithSuccess","finishMediaUploadWithFailure","mediaUploadStateReset","updateMediaSaveProgress","finishMediaSaveWithSuccess","finishMediaSaveWithFailure","mediaSaveStateReset","finalSaveResult","mediaIdChanged","setState","onUpdateMediaSaveProgress","onFinishMediaSaveWithSuccess","onFinishMediaSaveWithFailure","onMediaSaveStateReset","success","onFinalSaveResult","onMediaIdChanged","onUpdateMediaUploadProgress","onFinishMediaUploadWithSuccess","onFinishMediaUploadWithFailure","onMediaUploadStateReset","subscriptionParentMediaUpload","subscribeMediaUpload","remove","subscriptionParentMediaSave","subscribeMediaSave","render","renderContent","showSpinner","retryMessageSave","__","retryMessageUpload","retryMessage","_react","createElement","View","style","styles","mediaUploadProgress","pointerEvents","progressBar","Spinner","testID","_default","default"],"sources":["@wordpress/block-editor/src/components/block-media-update-progress/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tsubscribeMediaUpload,\n\tsubscribeMediaSave,\n} from '@wordpress/react-native-bridge';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nexport const MEDIA_UPLOAD_STATE_UPLOADING = 1;\nexport const MEDIA_UPLOAD_STATE_SUCCEEDED = 2;\nexport const MEDIA_UPLOAD_STATE_FAILED = 3;\nexport const MEDIA_UPLOAD_STATE_RESET = 4;\n\nexport const MEDIA_SAVE_STATE_SAVING = 5;\nexport const MEDIA_SAVE_STATE_SUCCEEDED = 6;\nexport const MEDIA_SAVE_STATE_FAILED = 7;\nexport const MEDIA_SAVE_STATE_RESET = 8;\nexport const MEDIA_SAVE_FINAL_STATE_RESULT = 9;\nexport const MEDIA_SAVE_MEDIAID_CHANGED = 10;\n\nexport class BlockMediaUpdateProgress extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tprogress: 0,\n\t\t\tisSaveInProgress: false,\n\t\t\tisSaveFailed: false,\n\t\t\tisUploadInProgress: false,\n\t\t\tisUploadFailed: false,\n\t\t};\n\n\t\tthis.mediaUpload = this.mediaUpload.bind( this );\n\t\tthis.mediaSave = this.mediaSave.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.addMediaUploadListener();\n\t\tthis.addMediaSaveListener();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeMediaUploadListener();\n\t\tthis.removeMediaSaveListener();\n\t}\n\n\tmediaIdContainedInMediaFiles( mediaId, mediaFiles ) {\n\t\tif ( mediaId !== undefined && mediaFiles !== undefined ) {\n\t\t\treturn mediaFiles.some(\n\t\t\t\t( element ) => element.id === mediaId.toString()\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\n\tmediaUpload( payload ) {\n\t\tconst { mediaFiles } = this.props;\n\n\t\tif (\n\t\t\tthis.mediaIdContainedInMediaFiles( payload.mediaId, mediaFiles ) ===\n\t\t\tfalse\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch ( payload.state ) {\n\t\t\tcase MEDIA_UPLOAD_STATE_UPLOADING:\n\t\t\t\tthis.updateMediaUploadProgress( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_UPLOAD_STATE_SUCCEEDED:\n\t\t\t\tthis.finishMediaUploadWithSuccess( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_UPLOAD_STATE_FAILED:\n\t\t\t\tthis.finishMediaUploadWithFailure( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_UPLOAD_STATE_RESET:\n\t\t\t\tthis.mediaUploadStateReset( payload );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tmediaSave( payload ) {\n\t\tconst { mediaFiles } = this.props;\n\n\t\tif (\n\t\t\tthis.mediaIdContainedInMediaFiles( payload.mediaId, mediaFiles ) ===\n\t\t\tfalse\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch ( payload.state ) {\n\t\t\tcase MEDIA_SAVE_STATE_SAVING:\n\t\t\t\tthis.updateMediaSaveProgress( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_SAVE_STATE_SUCCEEDED:\n\t\t\t\tthis.finishMediaSaveWithSuccess( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_SAVE_STATE_FAILED:\n\t\t\t\tthis.finishMediaSaveWithFailure( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_SAVE_STATE_RESET:\n\t\t\t\tthis.mediaSaveStateReset( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_SAVE_FINAL_STATE_RESULT:\n\t\t\t\tthis.finalSaveResult( payload );\n\t\t\t\tbreak;\n\t\t\tcase MEDIA_SAVE_MEDIAID_CHANGED:\n\t\t\t\tthis.mediaIdChanged( payload );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// ---- Block media save actions.\n\tupdateMediaSaveProgress( payload ) {\n\t\tthis.setState( {\n\t\t\tprogress: payload.progress,\n\t\t\tisUploadInProgress: false,\n\t\t\tisUploadFailed: false,\n\t\t\tisSaveInProgress: true,\n\t\t\tisSaveFailed: false,\n\t\t} );\n\t\tif ( this.props.onUpdateMediaSaveProgress ) {\n\t\t\tthis.props.onUpdateMediaSaveProgress( payload );\n\t\t}\n\t}\n\n\tfinishMediaSaveWithSuccess( payload ) {\n\t\tthis.setState( { isSaveInProgress: false } );\n\t\tif ( this.props.onFinishMediaSaveWithSuccess ) {\n\t\t\tthis.props.onFinishMediaSaveWithSuccess( payload );\n\t\t}\n\t}\n\n\tfinishMediaSaveWithFailure( payload ) {\n\t\tthis.setState( { isSaveInProgress: false, isSaveFailed: true } );\n\t\tif ( this.props.onFinishMediaSaveWithFailure ) {\n\t\t\tthis.props.onFinishMediaSaveWithFailure( payload );\n\t\t}\n\t}\n\n\tmediaSaveStateReset( payload ) {\n\t\tthis.setState( { isSaveInProgress: false, isSaveFailed: false } );\n\t\tif ( this.props.onMediaSaveStateReset ) {\n\t\t\tthis.props.onMediaSaveStateReset( payload );\n\t\t}\n\t}\n\n\tfinalSaveResult( payload ) {\n\t\tthis.setState( {\n\t\t\tprogress: payload.progress,\n\t\t\tisUploadInProgress: false,\n\t\t\tisUploadFailed: false,\n\t\t\tisSaveInProgress: false,\n\t\t\tisSaveFailed: ! payload.success,\n\t\t} );\n\t\tif ( this.props.onFinalSaveResult ) {\n\t\t\tthis.props.onFinalSaveResult( payload );\n\t\t}\n\t}\n\n\tmediaIdChanged( payload ) {\n\t\tthis.setState( {\n\t\t\tisUploadInProgress: false,\n\t\t\tisUploadFailed: false,\n\t\t\tisSaveInProgress: false,\n\t\t\tisSaveFailed: false,\n\t\t} );\n\t\tif ( this.props.onMediaIdChanged ) {\n\t\t\tthis.props.onMediaIdChanged( payload );\n\t\t}\n\t}\n\n\t// ---- Block media upload actions.\n\tupdateMediaUploadProgress( payload ) {\n\t\tthis.setState( {\n\t\t\tprogress: payload.progress,\n\t\t\tisUploadInProgress: true,\n\t\t\tisUploadFailed: false,\n\t\t\tisSaveInProgress: false,\n\t\t\tisSaveFailed: false,\n\t\t} );\n\t\tif ( this.props.onUpdateMediaUploadProgress ) {\n\t\t\tthis.props.onUpdateMediaUploadProgress( payload );\n\t\t}\n\t}\n\n\tfinishMediaUploadWithSuccess( payload ) {\n\t\tthis.setState( { isUploadInProgress: false, isSaveInProgress: false } );\n\t\tif ( this.props.onFinishMediaUploadWithSuccess ) {\n\t\t\tthis.props.onFinishMediaUploadWithSuccess( payload );\n\t\t}\n\t}\n\n\tfinishMediaUploadWithFailure( payload ) {\n\t\tthis.setState( { isUploadInProgress: false, isUploadFailed: true } );\n\t\tif ( this.props.onFinishMediaUploadWithFailure ) {\n\t\t\tthis.props.onFinishMediaUploadWithFailure( payload );\n\t\t}\n\t}\n\n\tmediaUploadStateReset( payload ) {\n\t\tthis.setState( { isUploadInProgress: false, isUploadFailed: false } );\n\t\tif ( this.props.onMediaUploadStateReset ) {\n\t\t\tthis.props.onMediaUploadStateReset( payload );\n\t\t}\n\t}\n\n\taddMediaUploadListener() {\n\t\t// If we already have a subscription not worth doing it again.\n\t\tif ( this.subscriptionParentMediaUpload ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.subscriptionParentMediaUpload = subscribeMediaUpload(\n\t\t\t( payload ) => {\n\t\t\t\tthis.mediaUpload( payload );\n\t\t\t}\n\t\t);\n\t}\n\n\tremoveMediaUploadListener() {\n\t\tif ( this.subscriptionParentMediaUpload ) {\n\t\t\tthis.subscriptionParentMediaUpload.remove();\n\t\t}\n\t}\n\n\taddMediaSaveListener() {\n\t\t// If we already have a subscription not worth doing it again.\n\t\tif ( this.subscriptionParentMediaSave ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.subscriptionParentMediaSave = subscribeMediaSave( ( payload ) => {\n\t\t\tthis.mediaSave( payload );\n\t\t} );\n\t}\n\n\tremoveMediaSaveListener() {\n\t\tif ( this.subscriptionParentMediaSave ) {\n\t\t\tthis.subscriptionParentMediaSave.remove();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { renderContent = () => null } = this.props;\n\t\tconst {\n\t\t\tisUploadInProgress,\n\t\t\tisUploadFailed,\n\t\t\tisSaveInProgress,\n\t\t\tisSaveFailed,\n\t\t} = this.state;\n\t\tconst showSpinner =\n\t\t\tthis.state.isUploadInProgress || this.state.isSaveInProgress;\n\t\tconst progress = this.state.progress * 100;\n\t\t// eslint-disable-next-line @wordpress/i18n-no-collapsible-whitespace\n\t\tconst retryMessageSave = __(\n\t\t\t'Failed to save files.\\nPlease tap for options.'\n\t\t);\n\t\t// eslint-disable-next-line @wordpress/i18n-no-collapsible-whitespace\n\t\tconst retryMessageUpload = __(\n\t\t\t'Failed to upload files.\\nPlease tap for options.'\n\t\t);\n\t\tlet retryMessage = retryMessageSave;\n\t\tif ( isUploadFailed ) {\n\t\t\tretryMessage = retryMessageUpload;\n\t\t}\n\n\t\treturn (\n\t\t\t<View style={ styles.mediaUploadProgress } pointerEvents=\"box-none\">\n\t\t\t\t{ showSpinner && (\n\t\t\t\t\t<View style={ styles.progressBar }>\n\t\t\t\t\t\t<Spinner progress={ progress } testID=\"spinner\" />\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\t\t\t\t{ renderContent( {\n\t\t\t\t\tisUploadInProgress,\n\t\t\t\t\tisUploadFailed,\n\t\t\t\t\tisSaveInProgress,\n\t\t\t\t\tisSaveFailed,\n\t\t\t\t\tretryMessage,\n\t\t\t\t} ) }\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default BlockMediaUpdateProgress;\n"],"mappings":"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"}