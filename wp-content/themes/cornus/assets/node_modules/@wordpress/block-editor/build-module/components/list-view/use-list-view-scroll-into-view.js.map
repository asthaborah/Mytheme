{"version":3,"names":["getScrollContainer","useLayoutEffect","useListViewScrollIntoView","isSelected","selectedClientIds","rowItemRef","isSingleSelection","length","current","scrollContainer","ownerDocument","windowScroll","body","documentElement","rowRect","getBoundingClientRect","scrollContainerRect","top","bottom","scrollIntoView"],"sources":["@wordpress/block-editor/src/components/list-view/use-list-view-scroll-into-view.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getScrollContainer } from '@wordpress/dom';\nimport { useLayoutEffect } from '@wordpress/element';\n\nexport default function useListViewScrollIntoView( {\n\tisSelected,\n\tselectedClientIds,\n\trowItemRef,\n} ) {\n\tconst isSingleSelection = selectedClientIds.length === 1;\n\n\tuseLayoutEffect( () => {\n\t\t// Skip scrolling into view if this particular block isn't selected,\n\t\t// or if more than one block is selected overall. This is to avoid\n\t\t// scrolling the view in a multi selection where the user has intentionally\n\t\t// selected multiple blocks within the list view, but the initially\n\t\t// selected block may be out of view.\n\t\tif ( ! isSelected || ! isSingleSelection || ! rowItemRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( rowItemRef.current );\n\t\tconst { ownerDocument } = rowItemRef.current;\n\n\t\tconst windowScroll =\n\t\t\tscrollContainer === ownerDocument.body ||\n\t\t\tscrollContainer === ownerDocument.documentElement;\n\n\t\t// If the there is no scroll container, of if the scroll container is the window,\n\t\t// do not scroll into view, as the block is already in view.\n\t\tif ( windowScroll || ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst rowRect = rowItemRef.current.getBoundingClientRect();\n\t\tconst scrollContainerRect = scrollContainer.getBoundingClientRect();\n\n\t\t// If the selected block is not currently visible, scroll to it.\n\t\tif (\n\t\t\trowRect.top < scrollContainerRect.top ||\n\t\t\trowRect.bottom > scrollContainerRect.bottom\n\t\t) {\n\t\t\trowItemRef.current.scrollIntoView();\n\t\t}\n\t}, [ isSelected, isSingleSelection, rowItemRef ] );\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,kBAAkB,QAAQ,gBAAgB;AACnD,SAASC,eAAe,QAAQ,oBAAoB;AAEpD,eAAe,SAASC,yBAAyBA,CAAE;EAClDC,UAAU;EACVC,iBAAiB;EACjBC;AACD,CAAC,EAAG;EACH,MAAMC,iBAAiB,GAAGF,iBAAiB,CAACG,MAAM,KAAK,CAAC;EAExDN,eAAe,CAAE,MAAM;IACtB;IACA;IACA;IACA;IACA;IACA,IAAK,CAAEE,UAAU,IAAI,CAAEG,iBAAiB,IAAI,CAAED,UAAU,CAACG,OAAO,EAAG;MAClE;IACD;IAEA,MAAMC,eAAe,GAAGT,kBAAkB,CAAEK,UAAU,CAACG,OAAQ,CAAC;IAChE,MAAM;MAAEE;IAAc,CAAC,GAAGL,UAAU,CAACG,OAAO;IAE5C,MAAMG,YAAY,GACjBF,eAAe,KAAKC,aAAa,CAACE,IAAI,IACtCH,eAAe,KAAKC,aAAa,CAACG,eAAe;;IAElD;IACA;IACA,IAAKF,YAAY,IAAI,CAAEF,eAAe,EAAG;MACxC;IACD;IAEA,MAAMK,OAAO,GAAGT,UAAU,CAACG,OAAO,CAACO,qBAAqB,CAAC,CAAC;IAC1D,MAAMC,mBAAmB,GAAGP,eAAe,CAACM,qBAAqB,CAAC,CAAC;;IAEnE;IACA,IACCD,OAAO,CAACG,GAAG,GAAGD,mBAAmB,CAACC,GAAG,IACrCH,OAAO,CAACI,MAAM,GAAGF,mBAAmB,CAACE,MAAM,EAC1C;MACDb,UAAU,CAACG,OAAO,CAACW,cAAc,CAAC,CAAC;IACpC;EACD,CAAC,EAAE,CAAEhB,UAAU,EAAEG,iBAAiB,EAAED,UAAU,CAAG,CAAC;AACnD"}