{"version":3,"names":["View","useEffect","useCallback","useSelect","useBlockListContext","store","blockEditorStore","BlockListItemCell","children","item","clientId","onLayout","blocksLayouts","updateBlocksLayouts","rootClientId","select","getBlockRootClientId","shouldRemove","onCellLayout","event","nativeEvent","layout","createElement","testID"],"sources":["@wordpress/block-editor/src/components/block-list/block-list-item-cell.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useBlockListContext } from './block-list-context';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockListItemCell( { children, item: clientId, onLayout } ) {\n\tconst { blocksLayouts, updateBlocksLayouts } = useBlockListContext();\n\tconst { rootClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\n\t\t\treturn { rootClientId: getBlockRootClientId( clientId ) };\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\n\t\t\t\tclientId,\n\t\t\t\tshouldRemove: true,\n\t\t\t} );\n\t\t};\n\t}, [] );\n\n\tconst onCellLayout = useCallback(\n\t\t( event ) => {\n\t\t\tconst {\n\t\t\t\tnativeEvent: { layout },\n\t\t\t} = event;\n\t\t\tupdateBlocksLayouts( blocksLayouts, {\n\t\t\t\tclientId,\n\t\t\t\trootClientId,\n\t\t\t\t...layout,\n\t\t\t} );\n\n\t\t\tif ( onLayout ) {\n\t\t\t\tonLayout( event );\n\t\t\t}\n\t\t},\n\t\t[ clientId, rootClientId, updateBlocksLayouts, onLayout ]\n\t);\n\n\treturn (\n\t\t<View testID=\"block-list-item-cell\" onLayout={ onCellLayout }>\n\t\t\t{ children }\n\t\t</View>\n\t);\n}\n\nexport default BlockListItemCell;\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,cAAc;;AAEnC;AACA;AACA;AACA,SAASC,SAAS,EAAEC,WAAW,QAAQ,oBAAoB;AAC3D,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,SAASC,iBAAiBA,CAAE;EAAEC,QAAQ;EAAEC,IAAI,EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EACpE,MAAM;IAAEC,aAAa;IAAEC;EAAoB,CAAC,GAAGT,mBAAmB,CAAC,CAAC;EACpE,MAAM;IAAEU;EAAa,CAAC,GAAGX,SAAS,CAC/BY,MAAM,IAAM;IACb,MAAM;MAAEC;IAAqB,CAAC,GAAGD,MAAM,CAAET,gBAAiB,CAAC;IAC3D,OAAO;MAAEQ,YAAY,EAAEE,oBAAoB,CAAEN,QAAS;IAAE,CAAC;EAC1D,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;EAEDT,SAAS,CAAE,MAAM;IAChB,OAAO,MAAM;MACZY,mBAAmB,CAAED,aAAa,EAAE;QACnCF,QAAQ;QACRO,YAAY,EAAE;MACf,CAAE,CAAC;IACJ,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMC,YAAY,GAAGhB,WAAW,CAC7BiB,KAAK,IAAM;IACZ,MAAM;MACLC,WAAW,EAAE;QAAEC;MAAO;IACvB,CAAC,GAAGF,KAAK;IACTN,mBAAmB,CAAED,aAAa,EAAE;MACnCF,QAAQ;MACRI,YAAY;MACZ,GAAGO;IACJ,CAAE,CAAC;IAEH,IAAKV,QAAQ,EAAG;MACfA,QAAQ,CAAEQ,KAAM,CAAC;IAClB;EACD,CAAC,EACD,CAAET,QAAQ,EAAEI,YAAY,EAAED,mBAAmB,EAAEF,QAAQ,CACxD,CAAC;EAED,OACCW,aAAA,CAACtB,IAAI;IAACuB,MAAM,EAAC,sBAAsB;IAACZ,QAAQ,EAAGO;EAAc,GAC1DV,QACG,CAAC;AAET;AAEA,eAAeD,iBAAiB"}