{"version":3,"names":["_classnames","_interopRequireDefault","require","_components","_control","WithToolsPanelItem","setting","children","panelId","props","clearValue","colorValue","onColorChange","gradientValue","onGradientChange","_react","createElement","__experimentalToolsPanelItem","hasValue","label","onDeselect","isShownByDefault","undefined","className","resetAllFilter","LabeledColorIndicator","__experimentalHStack","justify","ColorIndicator","FlexItem","title","renderToggle","settings","onToggle","isOpen","toggleProps","onClick","classnames","Button","ColorGradientSettingsDropdown","colors","disableCustomColors","disableCustomGradients","enableAlpha","gradients","__experimentalIsRenderedInSidebar","popoverProps","placement","offset","shift","Fragment","map","index","_setting$gradientValu","controlProps","clearable","showTitle","toggleSettings","key","Dropdown","renderContent","__experimentalDropdownContentWrapper","paddingSize","default"],"sources":["@wordpress/block-editor/src/components/colors-gradients/dropdown.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tColorIndicator,\n\tDropdown,\n\tFlexItem,\n\t__experimentalDropdownContentWrapper as DropdownContentWrapper,\n\t__experimentalHStack as HStack,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\n\n// When the `ColorGradientSettingsDropdown` controls are being rendered to a\n// `ToolsPanel` they must be wrapped in a `ToolsPanelItem`.\nconst WithToolsPanelItem = ( { setting, children, panelId, ...props } ) => {\n\tconst clearValue = () => {\n\t\tif ( setting.colorValue ) {\n\t\t\tsetting.onColorChange();\n\t\t} else if ( setting.gradientValue ) {\n\t\t\tsetting.onGradientChange();\n\t\t}\n\t};\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\thasValue={ () => {\n\t\t\t\treturn !! setting.colorValue || !! setting.gradientValue;\n\t\t\t} }\n\t\t\tlabel={ setting.label }\n\t\t\tonDeselect={ clearValue }\n\t\t\tisShownByDefault={\n\t\t\t\tsetting.isShownByDefault !== undefined\n\t\t\t\t\t? setting.isShownByDefault\n\t\t\t\t\t: true\n\t\t\t}\n\t\t\t{ ...props }\n\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__item\"\n\t\t\tpanelId={ panelId }\n\t\t\t// Pass resetAllFilter if supplied due to rendering via SlotFill\n\t\t\t// into parent ToolsPanel.\n\t\t\tresetAllFilter={ setting.resetAllFilter }\n\t\t>\n\t\t\t{ children }\n\t\t</ToolsPanelItem>\n\t);\n};\n\nconst LabeledColorIndicator = ( { colorValue, label } ) => (\n\t<HStack justify=\"flex-start\">\n\t\t<ColorIndicator\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-indicator\"\n\t\t\tcolorValue={ colorValue }\n\t\t/>\n\t\t<FlexItem\n\t\t\tclassName=\"block-editor-panel-color-gradient-settings__color-name\"\n\t\t\ttitle={ label }\n\t\t>\n\t\t\t{ label }\n\t\t</FlexItem>\n\t</HStack>\n);\n\n// Renders a color dropdown's toggle as an `Item` if it is within an `ItemGroup`\n// or as a `Button` if it isn't e.g. the controls are being rendered in\n// a `ToolsPanel`.\nconst renderToggle =\n\t( settings ) =>\n\t( { onToggle, isOpen } ) => {\n\t\tconst { colorValue, label } = settings;\n\n\t\tconst toggleProps = {\n\t\t\tonClick: onToggle,\n\t\t\tclassName: classnames(\n\t\t\t\t'block-editor-panel-color-gradient-settings__dropdown',\n\t\t\t\t{ 'is-open': isOpen }\n\t\t\t),\n\t\t\t'aria-expanded': isOpen,\n\t\t};\n\n\t\treturn (\n\t\t\t<Button { ...toggleProps }>\n\t\t\t\t<LabeledColorIndicator\n\t\t\t\t\tcolorValue={ colorValue }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t/>\n\t\t\t</Button>\n\t\t);\n\t};\n\n// Renders a collection of color controls as dropdowns. Depending upon the\n// context in which these dropdowns are being rendered, they may be wrapped\n// in an `ItemGroup` with each dropdown's toggle as an `Item`, or alternatively,\n// the may be individually wrapped in a `ToolsPanelItem` with the toggle as\n// a regular `Button`.\n//\n// For more context see: https://github.com/WordPress/gutenberg/pull/40084\nexport default function ColorGradientSettingsDropdown( {\n\tcolors,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tenableAlpha,\n\tgradients,\n\tsettings,\n\t__experimentalIsRenderedInSidebar,\n\t...props\n} ) {\n\tlet popoverProps;\n\tif ( __experimentalIsRenderedInSidebar ) {\n\t\tpopoverProps = {\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t};\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ settings.map( ( setting, index ) => {\n\t\t\t\tconst controlProps = {\n\t\t\t\t\tclearable: false,\n\t\t\t\t\tcolorValue: setting.colorValue,\n\t\t\t\t\tcolors,\n\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\tenableAlpha,\n\t\t\t\t\tgradientValue: setting.gradientValue,\n\t\t\t\t\tgradients,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t\tonColorChange: setting.onColorChange,\n\t\t\t\t\tonGradientChange: setting.onGradientChange,\n\t\t\t\t\tshowTitle: false,\n\t\t\t\t\t__experimentalIsRenderedInSidebar,\n\t\t\t\t\t...setting,\n\t\t\t\t};\n\t\t\t\tconst toggleSettings = {\n\t\t\t\t\tcolorValue: setting.gradientValue ?? setting.colorValue,\n\t\t\t\t\tlabel: setting.label,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\tsetting && (\n\t\t\t\t\t\t// If not in an `ItemGroup` wrap the dropdown in a\n\t\t\t\t\t\t// `ToolsPanelItem`\n\t\t\t\t\t\t<WithToolsPanelItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tsetting={ setting }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-tools-panel-color-gradient-settings__dropdown\"\n\t\t\t\t\t\t\t\trenderToggle={ renderToggle( toggleSettings ) }\n\t\t\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t\t\t<DropdownContentWrapper paddingSize=\"none\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-panel-color-gradient-settings__dropdown-content\">\n\t\t\t\t\t\t\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\t\t\t\t\t\t\t{ ...controlProps }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</DropdownContentWrapper>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</WithToolsPanelItem>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n}\n"],"mappings":"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"}