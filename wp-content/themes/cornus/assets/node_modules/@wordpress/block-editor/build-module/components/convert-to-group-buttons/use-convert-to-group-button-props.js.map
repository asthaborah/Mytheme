{"version":3,"names":["store","blocksStore","useSelect","blockEditorStore","useConvertToGroupButtonProps","selectedClientIds","select","getBlocksByClientId","getSelectedBlockClientIds","isUngroupable","isGroupable","getGroupingBlockName","getBlockType","clientIds","length","blocksSelection","firstSelectedBlock","_isUngroupable","groupingBlockName","onUngroup","name","transforms","ungroup"],"sources":["@wordpress/block-editor/src/components/convert-to-group-buttons/use-convert-to-group-button-props.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Contains the properties `ConvertToGroupButton` component needs.\n *\n * @typedef {Object} ConvertToGroupButtonProps\n * @property {string[]}  clientIds         An array of the selected client ids.\n * @property {boolean}   isGroupable       Indicates if the selected blocks can be grouped.\n * @property {boolean}   isUngroupable     Indicates if the selected blocks can be ungrouped.\n * @property {WPBlock[]} blocksSelection   An array of the selected blocks.\n * @property {string}    groupingBlockName The name of block used for handling grouping interactions.\n */\n\n/**\n * Returns the properties `ConvertToGroupButton` component needs to work properly.\n * It is used in `BlockSettingsMenuControls` to know if `ConvertToGroupButton`\n * should be rendered, to avoid ending up with an empty MenuGroup.\n *\n * @param {?string[]} selectedClientIds An optional array of clientIds to group. The selected blocks\n *                                      from the block editor store are used if this is not provided.\n *\n * @return {ConvertToGroupButtonProps} Returns the properties needed by `ConvertToGroupButton`.\n */\nexport default function useConvertToGroupButtonProps( selectedClientIds ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlocksByClientId,\n\t\t\t\tgetSelectedBlockClientIds,\n\t\t\t\tisUngroupable,\n\t\t\t\tisGroupable,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst { getGroupingBlockName, getBlockType } =\n\t\t\t\tselect( blocksStore );\n\t\t\tconst clientIds = selectedClientIds?.length\n\t\t\t\t? selectedClientIds\n\t\t\t\t: getSelectedBlockClientIds();\n\t\t\tconst blocksSelection = getBlocksByClientId( clientIds );\n\t\t\tconst [ firstSelectedBlock ] = blocksSelection;\n\t\t\tconst _isUngroupable =\n\t\t\t\tclientIds.length === 1 && isUngroupable( clientIds[ 0 ] );\n\t\t\treturn {\n\t\t\t\tclientIds,\n\t\t\t\tisGroupable: isGroupable( clientIds ),\n\t\t\t\tisUngroupable: _isUngroupable,\n\t\t\t\tblocksSelection,\n\t\t\t\tgroupingBlockName: getGroupingBlockName(),\n\t\t\t\tonUngroup:\n\t\t\t\t\t_isUngroupable &&\n\t\t\t\t\tgetBlockType( firstSelectedBlock.name )?.transforms\n\t\t\t\t\t\t?.ungroup,\n\t\t\t};\n\t\t},\n\t\t[ selectedClientIds ]\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASF,KAAK,IAAIG,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,4BAA4BA,CAAEC,iBAAiB,EAAG;EACzE,OAAOH,SAAS,CACbI,MAAM,IAAM;IACb,MAAM;MACLC,mBAAmB;MACnBC,yBAAyB;MACzBC,aAAa;MACbC;IACD,CAAC,GAAGJ,MAAM,CAAEH,gBAAiB,CAAC;IAC9B,MAAM;MAAEQ,oBAAoB;MAAEC;IAAa,CAAC,GAC3CN,MAAM,CAAEL,WAAY,CAAC;IACtB,MAAMY,SAAS,GAAGR,iBAAiB,EAAES,MAAM,GACxCT,iBAAiB,GACjBG,yBAAyB,CAAC,CAAC;IAC9B,MAAMO,eAAe,GAAGR,mBAAmB,CAAEM,SAAU,CAAC;IACxD,MAAM,CAAEG,kBAAkB,CAAE,GAAGD,eAAe;IAC9C,MAAME,cAAc,GACnBJ,SAAS,CAACC,MAAM,KAAK,CAAC,IAAIL,aAAa,CAAEI,SAAS,CAAE,CAAC,CAAG,CAAC;IAC1D,OAAO;MACNA,SAAS;MACTH,WAAW,EAAEA,WAAW,CAAEG,SAAU,CAAC;MACrCJ,aAAa,EAAEQ,cAAc;MAC7BF,eAAe;MACfG,iBAAiB,EAAEP,oBAAoB,CAAC,CAAC;MACzCQ,SAAS,EACRF,cAAc,IACdL,YAAY,CAAEI,kBAAkB,CAACI,IAAK,CAAC,EAAEC,UAAU,EAChDC;IACL,CAAC;EACF,CAAC,EACD,CAAEjB,iBAAiB,CACpB,CAAC;AACF"}