{"version":3,"names":["_element","require","_components","_dom","_i18n","_compose","_mediaList","_interopRequireDefault","_hooks","_noResults","INITIAL_MEDIA_ITEMS_PER_PAGE","MediaCategoryDialog","rootClientId","onInsert","category","container","useRef","useEffect","timeout","setTimeout","firstTabbable","focus","tabbable","find","current","clearTimeout","_react","createElement","ref","className","MediaCategoryPanel","search","setSearch","debouncedSearch","useDebouncedInput","mediaList","isLoading","useMediaResults","per_page","baseCssClass","searchLabel","labels","search_items","__","SearchControl","onChange","value","label","placeholder","Spinner","length","default","onClick"],"sources":["@wordpress/block-editor/src/components/inserter/media-tab/media-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { Spinner, SearchControl } from '@wordpress/components';\nimport { focus } from '@wordpress/dom';\nimport { __ } from '@wordpress/i18n';\nimport { useDebouncedInput } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport MediaList from './media-list';\nimport { useMediaResults } from './hooks';\nimport InserterNoResults from '../no-results';\n\nconst INITIAL_MEDIA_ITEMS_PER_PAGE = 10;\n\nexport function MediaCategoryDialog( { rootClientId, onInsert, category } ) {\n\tconst container = useRef();\n\tuseEffect( () => {\n\t\tconst timeout = setTimeout( () => {\n\t\t\tconst [ firstTabbable ] = focus.tabbable.find( container.current );\n\t\t\tfirstTabbable?.focus();\n\t\t} );\n\t\treturn () => clearTimeout( timeout );\n\t}, [ category ] );\n\treturn (\n\t\t<div ref={ container } className=\"block-editor-inserter__media-dialog\">\n\t\t\t<MediaCategoryPanel\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tonInsert={ onInsert }\n\t\t\t\tcategory={ category }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport function MediaCategoryPanel( { rootClientId, onInsert, category } ) {\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst { mediaList, isLoading } = useMediaResults( category, {\n\t\tper_page: !! debouncedSearch ? 20 : INITIAL_MEDIA_ITEMS_PER_PAGE,\n\t\tsearch: debouncedSearch,\n\t} );\n\tconst baseCssClass = 'block-editor-inserter__media-panel';\n\tconst searchLabel = category.labels.search_items || __( 'Search' );\n\treturn (\n\t\t<div className={ baseCssClass }>\n\t\t\t<SearchControl\n\t\t\t\tclassName={ `${ baseCssClass }-search` }\n\t\t\t\tonChange={ setSearch }\n\t\t\t\tvalue={ search }\n\t\t\t\tlabel={ searchLabel }\n\t\t\t\tplaceholder={ searchLabel }\n\t\t\t/>\n\t\t\t{ isLoading && (\n\t\t\t\t<div className={ `${ baseCssClass }-spinner` }>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! isLoading && ! mediaList?.length && <InserterNoResults /> }\n\t\t\t{ ! isLoading && !! mediaList?.length && (\n\t\t\t\t<MediaList\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\tonClick={ onInsert }\n\t\t\t\t\tmediaList={ mediaList }\n\t\t\t\t\tcategory={ category }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n"],"mappings":"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"}