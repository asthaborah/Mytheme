{"version":3,"names":["useSelect","getDefaultBlockName","DefaultBlockAppender","styles","store","blockEditorStore","DefaultAppender","rootClientId","showSeparator","blockClientIds","canInsertDefaultBlock","select","getBlockOrder","canInsertBlockType","createElement","lastBlockClientId","length","containerStyle","blockListAppender","placeholder","BlockListAppender","renderAppender","CustomAppender","isLocked","getTemplateLock"],"sources":["@wordpress/block-editor/src/components/block-list-appender/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nfunction DefaultAppender( { rootClientId, showSeparator } ) {\n\tconst { blockClientIds, canInsertDefaultBlock } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder, canInsertBlockType } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\t\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\t\t\tgetDefaultBlockName(),\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tif ( ! canInsertDefaultBlock ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DefaultBlockAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tlastBlockClientId={ blockClientIds[ blockClientIds.length - 1 ] }\n\t\t\tcontainerStyle={ styles.blockListAppender }\n\t\t\tplaceholder={ blockClientIds.length > 0 ? '' : null }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n\nexport default function BlockListAppender( {\n\trootClientId,\n\trenderAppender: CustomAppender,\n\tshowSeparator,\n} ) {\n\tconst isLocked = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( blockEditorStore ).getTemplateLock( rootClientId ),\n\t\t[ rootClientId ]\n\t);\n\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tif ( CustomAppender ) {\n\t\treturn <CustomAppender showSeparator={ showSeparator } />;\n\t}\n\n\treturn (\n\t\t<DefaultAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,mBAAmB,QAAQ,mBAAmB;;AAEvD;AACA;AACA;AACA,OAAOC,oBAAoB,MAAM,2BAA2B;AAC5D,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,SAASC,eAAeA,CAAE;EAAEC,YAAY;EAAEC;AAAc,CAAC,EAAG;EAC3D,MAAM;IAAEC,cAAc;IAAEC;EAAsB,CAAC,GAAGV,SAAS,CACxDW,MAAM,IAAM;IACb,MAAM;MAAEC,aAAa;MAAEC;IAAmB,CAAC,GAC1CF,MAAM,CAAEN,gBAAiB,CAAC;IAC3B,OAAO;MACNI,cAAc,EAAEG,aAAa,CAAEL,YAAa,CAAC;MAC7CG,qBAAqB,EAAEG,kBAAkB,CACxCZ,mBAAmB,CAAC,CAAC,EACrBM,YACD;IACD,CAAC;EACF,CAAC,EACD,CAAEA,YAAY,CACf,CAAC;EAED,IAAK,CAAEG,qBAAqB,EAAG;IAC9B,OAAO,IAAI;EACZ;EAEA,OACCI,aAAA,CAACZ,oBAAoB;IACpBK,YAAY,EAAGA,YAAc;IAC7BQ,iBAAiB,EAAGN,cAAc,CAAEA,cAAc,CAACO,MAAM,GAAG,CAAC,CAAI;IACjEC,cAAc,EAAGd,MAAM,CAACe,iBAAmB;IAC3CC,WAAW,EAAGV,cAAc,CAACO,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,IAAM;IACrDR,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ;AAEA,eAAe,SAASY,iBAAiBA,CAAE;EAC1Cb,YAAY;EACZc,cAAc,EAAEC,cAAc;EAC9Bd;AACD,CAAC,EAAG;EACH,MAAMe,QAAQ,GAAGvB,SAAS,CACvBW,MAAM,IACP,CAAC,CAAEA,MAAM,CAAEN,gBAAiB,CAAC,CAACmB,eAAe,CAAEjB,YAAa,CAAC,EAC9D,CAAEA,YAAY,CACf,CAAC;EAED,IAAKgB,QAAQ,EAAG;IACf,OAAO,IAAI;EACZ;EAEA,IAAKD,cAAc,EAAG;IACrB,OAAOR,aAAA,CAACQ,cAAc;MAACd,aAAa,EAAGA;IAAe,CAAE,CAAC;EAC1D;EAEA,OACCM,aAAA,CAACR,eAAe;IACfC,YAAY,EAAGA,YAAc;IAC7BC,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ"}