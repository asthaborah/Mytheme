{"version":3,"names":["_reactNative","require","_i18n","_blockEditor","_compose","_htmlEntities","_data","_blocks","_insertionPoint","_interopRequireDefault","_style","_store","hitSlop","top","bottom","left","right","noop","DefaultBlockAppender","baseGlobalStyles","isLocked","isVisible","onAppend","placeholder","containerStyle","showSeparator","blockGlobalStyles","blocks","fontSize","lineHeight","typography","textStyles","undefined","value","decodeEntities","__","appenderStyles","styles","blockHolder","_react","createElement","Pressable","onPress","View","style","pointerEvents","default","RichText","onChange","tagName","_default","exports","compose","withSelect","select","ownProps","getBlockCount","getBlockName","getSettings","isBlockValid","getTemplateLock","blockEditorStore","isEmpty","rootClientId","isLastBlockDefault","lastBlockClientId","getDefaultBlockName","isLastBlockValid","globalStylesBaseStyles","__experimentalGlobalStylesBaseStyles","withDispatch","dispatch","insertDefaultBlock","startTyping"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Pressable, View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockInsertionPoint from '../block-list/insertion-point';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\nconst noop = () => {};\n\nexport function DefaultBlockAppender( {\n\tbaseGlobalStyles,\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tplaceholder,\n\tcontainerStyle,\n\tshowSeparator,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\tconst blockGlobalStyles = baseGlobalStyles?.blocks?.[ 'core/paragraph' ];\n\tconst { fontSize, lineHeight } = blockGlobalStyles?.typography || {};\n\n\tconst textStyles = blockGlobalStyles?.typography\n\t\t? {\n\t\t\t\t...( fontSize && { fontSize } ),\n\t\t\t\t...( lineHeight && { lineHeight } ),\n\t\t  }\n\t\t: undefined;\n\n\tconst value =\n\t\ttypeof placeholder === 'string'\n\t\t\t? decodeEntities( placeholder )\n\t\t\t: __( 'Start writingâ€¦' );\n\n\tconst appenderStyles = [\n\t\tstyles.blockHolder,\n\t\tshowSeparator && containerStyle,\n\t];\n\n\treturn (\n\t\t<Pressable onPress={ onAppend } hitSlop={ hitSlop }>\n\t\t\t<View style={ appenderStyles } pointerEvents=\"box-only\">\n\t\t\t\t{ showSeparator ? (\n\t\t\t\t\t<BlockInsertionPoint />\n\t\t\t\t) : (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tplaceholder={ value }\n\t\t\t\t\t\tonChange={ noop }\n\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\tstyle={ textStyles }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</Pressable>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tgetBlockCount,\n\t\t\tgetBlockName,\n\t\t\tgetSettings,\n\t\t\tisBlockValid,\n\t\t\tgetTemplateLock,\n\t\t} = select( blockEditorStore );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst isLastBlockDefault =\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\n\t\t\tgetDefaultBlockName();\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\n\t\tconst globalStylesBaseStyles =\n\t\t\tgetSettings()?.__experimentalGlobalStylesBaseStyles;\n\n\t\treturn {\n\t\t\tbaseGlobalStyles: globalStylesBaseStyles,\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } =\n\t\t\tdispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n"],"mappings":"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"}