{"version":3,"names":["Cropper","classnames","Spinner","MIN_ZOOM","MAX_ZOOM","useImageEditingContext","ImageCropper","url","width","height","clientWidth","naturalHeight","naturalWidth","borderProps","isInProgress","editedUrl","position","zoom","aspect","setPosition","setCrop","setZoom","rotation","editedHeight","createElement","className","style","image","disabled","minZoom","maxZoom","crop","onCropChange","pos","onCropComplete","newCropPercent","onZoomChange","newZoom"],"sources":["@wordpress/block-editor/src/components/image-editor/cropper.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport Cropper from 'react-easy-crop';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { MIN_ZOOM, MAX_ZOOM } from './constants';\n\nimport { useImageEditingContext } from './context';\n\nexport default function ImageCropper( {\n\turl,\n\twidth,\n\theight,\n\tclientWidth,\n\tnaturalHeight,\n\tnaturalWidth,\n\tborderProps,\n} ) {\n\tconst {\n\t\tisInProgress,\n\t\teditedUrl,\n\t\tposition,\n\t\tzoom,\n\t\taspect,\n\t\tsetPosition,\n\t\tsetCrop,\n\t\tsetZoom,\n\t\trotation,\n\t} = useImageEditingContext();\n\n\tlet editedHeight = height || ( clientWidth * naturalHeight ) / naturalWidth;\n\n\tif ( rotation % 180 === 90 ) {\n\t\teditedHeight = ( clientWidth * naturalWidth ) / naturalHeight;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\t'wp-block-image__crop-area',\n\t\t\t\tborderProps?.className,\n\t\t\t\t{\n\t\t\t\t\t'is-applying': isInProgress,\n\t\t\t\t}\n\t\t\t) }\n\t\t\tstyle={ {\n\t\t\t\t...borderProps?.style,\n\t\t\t\twidth: width || clientWidth,\n\t\t\t\theight: editedHeight,\n\t\t\t} }\n\t\t>\n\t\t\t<Cropper\n\t\t\t\timage={ editedUrl || url }\n\t\t\t\tdisabled={ isInProgress }\n\t\t\t\tminZoom={ MIN_ZOOM / 100 }\n\t\t\t\tmaxZoom={ MAX_ZOOM / 100 }\n\t\t\t\tcrop={ position }\n\t\t\t\tzoom={ zoom / 100 }\n\t\t\t\taspect={ aspect }\n\t\t\t\tonCropChange={ ( pos ) => {\n\t\t\t\t\tsetPosition( pos );\n\t\t\t\t} }\n\t\t\t\tonCropComplete={ ( newCropPercent ) => {\n\t\t\t\t\tsetCrop( newCropPercent );\n\t\t\t\t} }\n\t\t\t\tonZoomChange={ ( newZoom ) => {\n\t\t\t\t\tsetZoom( newZoom * 100 );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t{ isInProgress && <Spinner /> }\n\t\t</div>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,OAAOA,OAAO,MAAM,iBAAiB;AACrC,OAAOC,UAAU,MAAM,YAAY;;AAEnC;AACA;AACA;AACA,SAASC,OAAO,QAAQ,uBAAuB;;AAE/C;AACA;AACA;AACA,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,aAAa;AAEhD,SAASC,sBAAsB,QAAQ,WAAW;AAElD,eAAe,SAASC,YAAYA,CAAE;EACrCC,GAAG;EACHC,KAAK;EACLC,MAAM;EACNC,WAAW;EACXC,aAAa;EACbC,YAAY;EACZC;AACD,CAAC,EAAG;EACH,MAAM;IACLC,YAAY;IACZC,SAAS;IACTC,QAAQ;IACRC,IAAI;IACJC,MAAM;IACNC,WAAW;IACXC,OAAO;IACPC,OAAO;IACPC;EACD,CAAC,GAAGjB,sBAAsB,CAAC,CAAC;EAE5B,IAAIkB,YAAY,GAAGd,MAAM,IAAMC,WAAW,GAAGC,aAAa,GAAKC,YAAY;EAE3E,IAAKU,QAAQ,GAAG,GAAG,KAAK,EAAE,EAAG;IAC5BC,YAAY,GAAKb,WAAW,GAAGE,YAAY,GAAKD,aAAa;EAC9D;EAEA,OACCa,aAAA;IACCC,SAAS,EAAGxB,UAAU,CACrB,2BAA2B,EAC3BY,WAAW,EAAEY,SAAS,EACtB;MACC,aAAa,EAAEX;IAChB,CACD,CAAG;IACHY,KAAK,EAAG;MACP,GAAGb,WAAW,EAAEa,KAAK;MACrBlB,KAAK,EAAEA,KAAK,IAAIE,WAAW;MAC3BD,MAAM,EAAEc;IACT;EAAG,GAEHC,aAAA,CAACxB,OAAO;IACP2B,KAAK,EAAGZ,SAAS,IAAIR,GAAK;IAC1BqB,QAAQ,EAAGd,YAAc;IACzBe,OAAO,EAAG1B,QAAQ,GAAG,GAAK;IAC1B2B,OAAO,EAAG1B,QAAQ,GAAG,GAAK;IAC1B2B,IAAI,EAAGf,QAAU;IACjBC,IAAI,EAAGA,IAAI,GAAG,GAAK;IACnBC,MAAM,EAAGA,MAAQ;IACjBc,YAAY,EAAKC,GAAG,IAAM;MACzBd,WAAW,CAAEc,GAAI,CAAC;IACnB,CAAG;IACHC,cAAc,EAAKC,cAAc,IAAM;MACtCf,OAAO,CAAEe,cAAe,CAAC;IAC1B,CAAG;IACHC,YAAY,EAAKC,OAAO,IAAM;MAC7BhB,OAAO,CAAEgB,OAAO,GAAG,GAAI,CAAC;IACzB;EAAG,CACH,CAAC,EACAvB,YAAY,IAAIU,aAAA,CAACtB,OAAO,MAAE,CACxB,CAAC;AAER"}