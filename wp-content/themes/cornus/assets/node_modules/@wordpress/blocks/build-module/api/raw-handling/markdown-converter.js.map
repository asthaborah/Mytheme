{"version":3,"names":["showdown","converter","Converter","noHeaderId","tables","literalMidWordUnderscores","omitExtraWLInCodeBlocks","simpleLineBreaks","strikethrough","slackMarkdownVariantCorrector","text","replace","match","p1","p2","p3","bulletsToAsterisks","markdownConverter","makeHtml"],"sources":["@wordpress/blocks/src/api/raw-handling/markdown-converter.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport showdown from 'showdown';\n\n// Reuse the same showdown converter.\nconst converter = new showdown.Converter( {\n\tnoHeaderId: true,\n\ttables: true,\n\tliteralMidWordUnderscores: true,\n\tomitExtraWLInCodeBlocks: true,\n\tsimpleLineBreaks: true,\n\tstrikethrough: true,\n} );\n\n/**\n * Corrects the Slack Markdown variant of the code block.\n * If uncorrected, it will be converted to inline code.\n *\n * @see https://get.slack.help/hc/en-us/articles/202288908-how-can-i-add-formatting-to-my-messages-#code-blocks\n *\n * @param {string} text The potential Markdown text to correct.\n *\n * @return {string} The corrected Markdown.\n */\nfunction slackMarkdownVariantCorrector( text ) {\n\treturn text.replace(\n\t\t/((?:^|\\n)```)([^\\n`]+)(```(?:$|\\n))/,\n\t\t( match, p1, p2, p3 ) => `${ p1 }\\n${ p2 }\\n${ p3 }`\n\t);\n}\n\nfunction bulletsToAsterisks( text ) {\n\treturn text.replace( /(^|\\n)â€¢( +)/g, '$1*$2' );\n}\n\n/**\n * Converts a piece of text into HTML based on any Markdown present.\n * Also decodes any encoded HTML.\n *\n * @param {string} text The plain text to convert.\n *\n * @return {string} HTML.\n */\nexport default function markdownConverter( text ) {\n\treturn converter.makeHtml(\n\t\tslackMarkdownVariantCorrector( bulletsToAsterisks( text ) )\n\t);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,UAAU;;AAE/B;AACA,MAAMC,SAAS,GAAG,IAAID,QAAQ,CAACE,SAAS,CAAE;EACzCC,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE,IAAI;EACZC,yBAAyB,EAAE,IAAI;EAC/BC,uBAAuB,EAAE,IAAI;EAC7BC,gBAAgB,EAAE,IAAI;EACtBC,aAAa,EAAE;AAChB,CAAE,CAAC;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,6BAA6BA,CAAEC,IAAI,EAAG;EAC9C,OAAOA,IAAI,CAACC,OAAO,CAClB,qCAAqC,EACrC,CAAEC,KAAK,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,KAAO,GAAGF,EAAI,KAAKC,EAAI,KAAKC,EAAI,EACpD,CAAC;AACF;AAEA,SAASC,kBAAkBA,CAAEN,IAAI,EAAG;EACnC,OAAOA,IAAI,CAACC,OAAO,CAAE,cAAc,EAAE,OAAQ,CAAC;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASM,iBAAiBA,CAAEP,IAAI,EAAG;EACjD,OAAOT,SAAS,CAACiB,QAAQ,CACxBT,6BAA6B,CAAEO,kBAAkB,CAAEN,IAAK,CAAE,CAC3D,CAAC;AACF"}