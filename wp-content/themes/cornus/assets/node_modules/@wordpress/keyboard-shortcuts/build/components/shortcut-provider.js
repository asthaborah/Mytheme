"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ShortcutProvider = ShortcutProvider;
var _react = require("react");
var _element = require("@wordpress/element");
var _context = require("../context");
/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */

const {
  Provider
} = _context.context;

/**
 * Handles callbacks added to context by `useShortcut`.
 * Adding a provider allows to register contextual shortcuts
 * that are only active when a certain part of the UI is focused.
 *
 * @param {Object} props Props to pass to `div`.
 *
 * @return {Element} Component.
 */
function ShortcutProvider(props) {
  const [keyboardShortcuts] = (0, _element.useState)(() => new Set());
  function onKeyDown(event) {
    if (props.onKeyDown) props.onKeyDown(event);
    for (const keyboardShortcut of keyboardShortcuts) {
      keyboardShortcut(event);
    }
  }

  /* eslint-disable jsx-a11y/no-static-element-interactions */
  return (0, _react.createElement)(Provider, {
    value: keyboardShortcuts
  }, (0, _react.createElement)("div", {
    ...props,
    onKeyDown: onKeyDown
  }));
  /* eslint-enable jsx-a11y/no-static-element-interactions */
}
//# sourceMappingURL=shortcut-provider.js.map