{"version":3,"names":["_dom","require","isInline","node","contextTag","isTextContent","tag","nodeName","toLowerCase","inlineAllowedTagGroups","some","tagGroup","filter","t","includes","length","deepCheck","nodes","every","Array","from","children","isDoubleBR","previousSibling","isInlineContent","HTML","doc","document","implementation","createHTMLDocument","body","innerHTML"],"sources":["@wordpress/blocks/src/api/raw-handling/is-inline-content.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isTextContent } from '@wordpress/dom';\n\n/**\n * Checks if the given node should be considered inline content, optionally\n * depending on a context tag.\n *\n * @param {Node}   node       Node name.\n * @param {string} contextTag Tag name.\n *\n * @return {boolean} True if the node is inline content, false if nohe.\n */\nfunction isInline( node, contextTag ) {\n\tif ( isTextContent( node ) ) {\n\t\treturn true;\n\t}\n\n\tif ( ! contextTag ) {\n\t\treturn false;\n\t}\n\n\tconst tag = node.nodeName.toLowerCase();\n\tconst inlineAllowedTagGroups = [\n\t\t[ 'ul', 'li', 'ol' ],\n\t\t[ 'h1', 'h2', 'h3', 'h4', 'h5', 'h6' ],\n\t];\n\n\treturn inlineAllowedTagGroups.some(\n\t\t( tagGroup ) =>\n\t\t\t[ tag, contextTag ].filter( ( t ) => ! tagGroup.includes( t ) )\n\t\t\t\t.length === 0\n\t);\n}\n\nfunction deepCheck( nodes, contextTag ) {\n\treturn nodes.every(\n\t\t( node ) =>\n\t\t\tisInline( node, contextTag ) &&\n\t\t\tdeepCheck( Array.from( node.children ), contextTag )\n\t);\n}\n\nfunction isDoubleBR( node ) {\n\treturn (\n\t\tnode.nodeName === 'BR' &&\n\t\tnode.previousSibling &&\n\t\tnode.previousSibling.nodeName === 'BR'\n\t);\n}\n\nexport default function isInlineContent( HTML, contextTag ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tconst nodes = Array.from( doc.body.children );\n\n\treturn ! nodes.some( isDoubleBR ) && deepCheck( nodes, contextTag );\n}\n"],"mappings":";;;;;;AAGA,IAAAA,IAAA,GAAAC,OAAA;AAHA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,QAAQA,CAAEC,IAAI,EAAEC,UAAU,EAAG;EACrC,IAAK,IAAAC,kBAAa,EAAEF,IAAK,CAAC,EAAG;IAC5B,OAAO,IAAI;EACZ;EAEA,IAAK,CAAEC,UAAU,EAAG;IACnB,OAAO,KAAK;EACb;EAEA,MAAME,GAAG,GAAGH,IAAI,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC;EACvC,MAAMC,sBAAsB,GAAG,CAC9B,CAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,EACpB,CAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,CACtC;EAED,OAAOA,sBAAsB,CAACC,IAAI,CAC/BC,QAAQ,IACT,CAAEL,GAAG,EAAEF,UAAU,CAAE,CAACQ,MAAM,CAAIC,CAAC,IAAM,CAAEF,QAAQ,CAACG,QAAQ,CAAED,CAAE,CAAE,CAAC,CAC7DE,MAAM,KAAK,CACf,CAAC;AACF;AAEA,SAASC,SAASA,CAAEC,KAAK,EAAEb,UAAU,EAAG;EACvC,OAAOa,KAAK,CAACC,KAAK,CACff,IAAI,IACLD,QAAQ,CAAEC,IAAI,EAAEC,UAAW,CAAC,IAC5BY,SAAS,CAAEG,KAAK,CAACC,IAAI,CAAEjB,IAAI,CAACkB,QAAS,CAAC,EAAEjB,UAAW,CACrD,CAAC;AACF;AAEA,SAASkB,UAAUA,CAAEnB,IAAI,EAAG;EAC3B,OACCA,IAAI,CAACI,QAAQ,KAAK,IAAI,IACtBJ,IAAI,CAACoB,eAAe,IACpBpB,IAAI,CAACoB,eAAe,CAAChB,QAAQ,KAAK,IAAI;AAExC;AAEe,SAASiB,eAAeA,CAAEC,IAAI,EAAErB,UAAU,EAAG;EAC3D,MAAMsB,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAACC,kBAAkB,CAAE,EAAG,CAAC;EAE5DH,GAAG,CAACI,IAAI,CAACC,SAAS,GAAGN,IAAI;EAEzB,MAAMR,KAAK,GAAGE,KAAK,CAACC,IAAI,CAAEM,GAAG,CAACI,IAAI,CAACT,QAAS,CAAC;EAE7C,OAAO,CAAEJ,KAAK,CAACP,IAAI,CAAEY,UAAW,CAAC,IAAIN,SAAS,CAAEC,KAAK,EAAEb,UAAW,CAAC;AACpE"}