{"version":3,"names":["_classnames","_interopRequireDefault","require","_blocks","_components","_compose","_data","_element","_i18n","_icons","_moverDescription","_store","getArrowIcon","direction","orientation","isRTL","chevronRight","chevronLeft","chevronUp","chevronDown","getMovementDirectionLabel","moveDirection","__","BlockMoverButton","forwardRef","clientIds","moverOrientation","props","ref","instanceId","useInstanceId","normalizedClientIds","Array","isArray","blocksCount","length","blockType","isDisabled","rootClientId","isFirst","isLast","firstIndex","useSelect","select","getBlockIndex","getBlockRootClientId","getBlockOrder","getBlock","getBlockListSettings","blockEditorStore","firstClientId","blockRootClientId","firstBlockIndex","lastBlockIndex","blockOrder","block","isFirstBlock","isLastBlock","blockListOrientation","getBlockType","name","moveBlocksDown","moveBlocksUp","useDispatch","moverFunction","onClick","event","descriptionId","_react","createElement","Fragment","Button","className","classnames","icon","label","disabled","__experimentalIsFocusable","VisuallyHidden","id","getBlockMoverDescription","title","BlockMoverUpButton","exports","BlockMoverDownButton"],"sources":["@wordpress/block-editor/src/components/block-mover/button.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\nimport { __, isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tchevronLeft,\n\tchevronRight,\n\tchevronUp,\n\tchevronDown,\n} from '@wordpress/icons';\nimport { getBlockMoverDescription } from './mover-description';\nimport { store as blockEditorStore } from '../../store';\n\nconst getArrowIcon = ( direction, orientation ) => {\n\tif ( direction === 'up' ) {\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\treturn isRTL() ? chevronRight : chevronLeft;\n\t\t}\n\t\treturn chevronUp;\n\t} else if ( direction === 'down' ) {\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\treturn isRTL() ? chevronLeft : chevronRight;\n\t\t}\n\t\treturn chevronDown;\n\t}\n\treturn null;\n};\n\nconst getMovementDirectionLabel = ( moveDirection, orientation ) => {\n\tif ( moveDirection === 'up' ) {\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\treturn isRTL() ? __( 'Move right' ) : __( 'Move left' );\n\t\t}\n\t\treturn __( 'Move up' );\n\t} else if ( moveDirection === 'down' ) {\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\treturn isRTL() ? __( 'Move left' ) : __( 'Move right' );\n\t\t}\n\t\treturn __( 'Move down' );\n\t}\n\treturn null;\n};\n\nconst BlockMoverButton = forwardRef(\n\t(\n\t\t{ clientIds, direction, orientation: moverOrientation, ...props },\n\t\tref\n\t) => {\n\t\tconst instanceId = useInstanceId( BlockMoverButton );\n\t\tconst normalizedClientIds = Array.isArray( clientIds )\n\t\t\t? clientIds\n\t\t\t: [ clientIds ];\n\t\tconst blocksCount = normalizedClientIds.length;\n\n\t\tconst {\n\t\t\tblockType,\n\t\t\tisDisabled,\n\t\t\trootClientId,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tfirstIndex,\n\t\t\torientation = 'vertical',\n\t\t} = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst {\n\t\t\t\t\tgetBlockIndex,\n\t\t\t\t\tgetBlockRootClientId,\n\t\t\t\t\tgetBlockOrder,\n\t\t\t\t\tgetBlock,\n\t\t\t\t\tgetBlockListSettings,\n\t\t\t\t} = select( blockEditorStore );\n\t\t\t\tconst firstClientId = normalizedClientIds[ 0 ];\n\t\t\t\tconst blockRootClientId = getBlockRootClientId( firstClientId );\n\t\t\t\tconst firstBlockIndex = getBlockIndex( firstClientId );\n\t\t\t\tconst lastBlockIndex = getBlockIndex(\n\t\t\t\t\tnormalizedClientIds[ normalizedClientIds.length - 1 ]\n\t\t\t\t);\n\t\t\t\tconst blockOrder = getBlockOrder( blockRootClientId );\n\t\t\t\tconst block = getBlock( firstClientId );\n\t\t\t\tconst isFirstBlock = firstBlockIndex === 0;\n\t\t\t\tconst isLastBlock = lastBlockIndex === blockOrder.length - 1;\n\t\t\t\tconst { orientation: blockListOrientation } =\n\t\t\t\t\tgetBlockListSettings( blockRootClientId ) || {};\n\n\t\t\t\treturn {\n\t\t\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\t\t\tisDisabled: direction === 'up' ? isFirstBlock : isLastBlock,\n\t\t\t\t\trootClientId: blockRootClientId,\n\t\t\t\t\tfirstIndex: firstBlockIndex,\n\t\t\t\t\tisFirst: isFirstBlock,\n\t\t\t\t\tisLast: isLastBlock,\n\t\t\t\t\torientation: moverOrientation || blockListOrientation,\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ clientIds, direction ]\n\t\t);\n\n\t\tconst { moveBlocksDown, moveBlocksUp } =\n\t\t\tuseDispatch( blockEditorStore );\n\t\tconst moverFunction =\n\t\t\tdirection === 'up' ? moveBlocksUp : moveBlocksDown;\n\n\t\tconst onClick = ( event ) => {\n\t\t\tmoverFunction( clientIds, rootClientId );\n\t\t\tif ( props.onClick ) {\n\t\t\t\tprops.onClick( event );\n\t\t\t}\n\t\t};\n\n\t\tconst descriptionId = `block-editor-block-mover-button__description-${ instanceId }`;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'block-editor-block-mover-button',\n\t\t\t\t\t\t`is-${ direction }-button`\n\t\t\t\t\t) }\n\t\t\t\t\ticon={ getArrowIcon( direction, orientation ) }\n\t\t\t\t\tlabel={ getMovementDirectionLabel(\n\t\t\t\t\t\tdirection,\n\t\t\t\t\t\torientation\n\t\t\t\t\t) }\n\t\t\t\t\taria-describedby={ descriptionId }\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tonClick={ isDisabled ? null : onClick }\n\t\t\t\t\tdisabled={ isDisabled }\n\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t/>\n\t\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t\t{ getBlockMoverDescription(\n\t\t\t\t\t\tblocksCount,\n\t\t\t\t\t\tblockType && blockType.title,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tisFirst,\n\t\t\t\t\t\tisLast,\n\t\t\t\t\t\tdirection === 'up' ? -1 : 1,\n\t\t\t\t\t\torientation\n\t\t\t\t\t) }\n\t\t\t\t</VisuallyHidden>\n\t\t\t</>\n\t\t);\n\t}\n);\n\nexport const BlockMoverUpButton = forwardRef( ( props, ref ) => {\n\treturn <BlockMoverButton direction=\"up\" ref={ ref } { ...props } />;\n} );\n\nexport const BlockMoverDownButton = forwardRef( ( props, ref ) => {\n\treturn <BlockMoverButton direction=\"down\" ref={ ref } { ...props } />;\n} );\n"],"mappings":";;;;;;;;AAGA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AACA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AACA,IAAAM,KAAA,GAAAN,OAAA;AAKA,IAAAO,MAAA,GAAAP,OAAA;AAMA,IAAAQ,iBAAA,GAAAR,OAAA;AACA,IAAAS,MAAA,GAAAT,OAAA;AAzBA;AACA;AACA;;AAGA;AACA;AACA;;AAQA;AACA;AACA;;AAUA,MAAMU,YAAY,GAAGA,CAAEC,SAAS,EAAEC,WAAW,KAAM;EAClD,IAAKD,SAAS,KAAK,IAAI,EAAG;IACzB,IAAKC,WAAW,KAAK,YAAY,EAAG;MACnC,OAAO,IAAAC,WAAK,EAAC,CAAC,GAAGC,mBAAY,GAAGC,kBAAW;IAC5C;IACA,OAAOC,gBAAS;EACjB,CAAC,MAAM,IAAKL,SAAS,KAAK,MAAM,EAAG;IAClC,IAAKC,WAAW,KAAK,YAAY,EAAG;MACnC,OAAO,IAAAC,WAAK,EAAC,CAAC,GAAGE,kBAAW,GAAGD,mBAAY;IAC5C;IACA,OAAOG,kBAAW;EACnB;EACA,OAAO,IAAI;AACZ,CAAC;AAED,MAAMC,yBAAyB,GAAGA,CAAEC,aAAa,EAAEP,WAAW,KAAM;EACnE,IAAKO,aAAa,KAAK,IAAI,EAAG;IAC7B,IAAKP,WAAW,KAAK,YAAY,EAAG;MACnC,OAAO,IAAAC,WAAK,EAAC,CAAC,GAAG,IAAAO,QAAE,EAAE,YAAa,CAAC,GAAG,IAAAA,QAAE,EAAE,WAAY,CAAC;IACxD;IACA,OAAO,IAAAA,QAAE,EAAE,SAAU,CAAC;EACvB,CAAC,MAAM,IAAKD,aAAa,KAAK,MAAM,EAAG;IACtC,IAAKP,WAAW,KAAK,YAAY,EAAG;MACnC,OAAO,IAAAC,WAAK,EAAC,CAAC,GAAG,IAAAO,QAAE,EAAE,WAAY,CAAC,GAAG,IAAAA,QAAE,EAAE,YAAa,CAAC;IACxD;IACA,OAAO,IAAAA,QAAE,EAAE,WAAY,CAAC;EACzB;EACA,OAAO,IAAI;AACZ,CAAC;AAED,MAAMC,gBAAgB,GAAG,IAAAC,mBAAU,EAClC,CACC;EAAEC,SAAS;EAAEZ,SAAS;EAAEC,WAAW,EAAEY,gBAAgB;EAAE,GAAGC;AAAM,CAAC,EACjEC,GAAG,KACC;EACJ,MAAMC,UAAU,GAAG,IAAAC,sBAAa,EAAEP,gBAAiB,CAAC;EACpD,MAAMQ,mBAAmB,GAAGC,KAAK,CAACC,OAAO,CAAER,SAAU,CAAC,GACnDA,SAAS,GACT,CAAEA,SAAS,CAAE;EAChB,MAAMS,WAAW,GAAGH,mBAAmB,CAACI,MAAM;EAE9C,MAAM;IACLC,SAAS;IACTC,UAAU;IACVC,YAAY;IACZC,OAAO;IACPC,MAAM;IACNC,UAAU;IACV3B,WAAW,GAAG;EACf,CAAC,GAAG,IAAA4B,eAAS,EACVC,MAAM,IAAM;IACb,MAAM;MACLC,aAAa;MACbC,oBAAoB;MACpBC,aAAa;MACbC,QAAQ;MACRC;IACD,CAAC,GAAGL,MAAM,CAAEM,YAAiB,CAAC;IAC9B,MAAMC,aAAa,GAAGnB,mBAAmB,CAAE,CAAC,CAAE;IAC9C,MAAMoB,iBAAiB,GAAGN,oBAAoB,CAAEK,aAAc,CAAC;IAC/D,MAAME,eAAe,GAAGR,aAAa,CAAEM,aAAc,CAAC;IACtD,MAAMG,cAAc,GAAGT,aAAa,CACnCb,mBAAmB,CAAEA,mBAAmB,CAACI,MAAM,GAAG,CAAC,CACpD,CAAC;IACD,MAAMmB,UAAU,GAAGR,aAAa,CAAEK,iBAAkB,CAAC;IACrD,MAAMI,KAAK,GAAGR,QAAQ,CAAEG,aAAc,CAAC;IACvC,MAAMM,YAAY,GAAGJ,eAAe,KAAK,CAAC;IAC1C,MAAMK,WAAW,GAAGJ,cAAc,KAAKC,UAAU,CAACnB,MAAM,GAAG,CAAC;IAC5D,MAAM;MAAErB,WAAW,EAAE4C;IAAqB,CAAC,GAC1CV,oBAAoB,CAAEG,iBAAkB,CAAC,IAAI,CAAC,CAAC;IAEhD,OAAO;MACNf,SAAS,EAAEmB,KAAK,GAAG,IAAAI,oBAAY,EAAEJ,KAAK,CAACK,IAAK,CAAC,GAAG,IAAI;MACpDvB,UAAU,EAAExB,SAAS,KAAK,IAAI,GAAG2C,YAAY,GAAGC,WAAW;MAC3DnB,YAAY,EAAEa,iBAAiB;MAC/BV,UAAU,EAAEW,eAAe;MAC3Bb,OAAO,EAAEiB,YAAY;MACrBhB,MAAM,EAAEiB,WAAW;MACnB3C,WAAW,EAAEY,gBAAgB,IAAIgC;IAClC,CAAC;EACF,CAAC,EACD,CAAEjC,SAAS,EAAEZ,SAAS,CACvB,CAAC;EAED,MAAM;IAAEgD,cAAc;IAAEC;EAAa,CAAC,GACrC,IAAAC,iBAAW,EAAEd,YAAiB,CAAC;EAChC,MAAMe,aAAa,GAClBnD,SAAS,KAAK,IAAI,GAAGiD,YAAY,GAAGD,cAAc;EAEnD,MAAMI,OAAO,GAAKC,KAAK,IAAM;IAC5BF,aAAa,CAAEvC,SAAS,EAAEa,YAAa,CAAC;IACxC,IAAKX,KAAK,CAACsC,OAAO,EAAG;MACpBtC,KAAK,CAACsC,OAAO,CAAEC,KAAM,CAAC;IACvB;EACD,CAAC;EAED,MAAMC,aAAa,GAAI,gDAAgDtC,UAAY,EAAC;EAEpF,OACC,IAAAuC,MAAA,CAAAC,aAAA,EAAAD,MAAA,CAAAE,QAAA,QACC,IAAAF,MAAA,CAAAC,aAAA,EAACjE,WAAA,CAAAmE,MAAM;IACN3C,GAAG,EAAGA,GAAK;IACX4C,SAAS,EAAG,IAAAC,mBAAU,EACrB,iCAAiC,EAChC,MAAM5D,SAAW,SACnB,CAAG;IACH6D,IAAI,EAAG9D,YAAY,CAAEC,SAAS,EAAEC,WAAY,CAAG;IAC/C6D,KAAK,EAAGvD,yBAAyB,CAChCP,SAAS,EACTC,WACD,CAAG;IACH,oBAAmBqD,aAAe;IAAA,GAC7BxC,KAAK;IACVsC,OAAO,EAAG5B,UAAU,GAAG,IAAI,GAAG4B,OAAS;IACvCW,QAAQ,EAAGvC,UAAY;IACvBwC,yBAAyB;EAAA,CACzB,CAAC,EACF,IAAAT,MAAA,CAAAC,aAAA,EAACjE,WAAA,CAAA0E,cAAc;IAACC,EAAE,EAAGZ;EAAe,GACjC,IAAAa,0CAAwB,EACzB9C,WAAW,EACXE,SAAS,IAAIA,SAAS,CAAC6C,KAAK,EAC5BxC,UAAU,EACVF,OAAO,EACPC,MAAM,EACN3B,SAAS,KAAK,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,EAC3BC,WACD,CACe,CACf,CAAC;AAEL,CACD,CAAC;AAEM,MAAMoE,kBAAkB,GAAAC,OAAA,CAAAD,kBAAA,GAAG,IAAA1D,mBAAU,EAAE,CAAEG,KAAK,EAAEC,GAAG,KAAM;EAC/D,OAAO,IAAAwC,MAAA,CAAAC,aAAA,EAAC9C,gBAAgB;IAACV,SAAS,EAAC,IAAI;IAACe,GAAG,EAAGA,GAAK;IAAA,GAAMD;EAAK,CAAI,CAAC;AACpE,CAAE,CAAC;AAEI,MAAMyD,oBAAoB,GAAAD,OAAA,CAAAC,oBAAA,GAAG,IAAA5D,mBAAU,EAAE,CAAEG,KAAK,EAAEC,GAAG,KAAM;EACjE,OAAO,IAAAwC,MAAA,CAAAC,aAAA,EAAC9C,gBAAgB;IAACV,SAAS,EAAC,MAAM;IAACe,GAAG,EAAGA,GAAK;IAAA,GAAMD;EAAK,CAAI,CAAC;AACtE,CAAE,CAAC"}