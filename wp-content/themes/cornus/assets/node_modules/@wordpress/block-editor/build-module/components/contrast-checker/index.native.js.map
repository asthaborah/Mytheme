{"version":3,"names":["Text","View","colord","extend","namesPlugin","a11yPlugin","speak","__","useEffect","usePreferredColorSchemeStyle","Icon","warning","styles","ContrastCheckerMessage","colordBackgroundColor","colordTextColor","backgroundColor","textColor","msgStyle","msg","brightness","iconStyle","createElement","style","icon","ContrastChecker","fallbackBackgroundColor","fallbackTextColor","fontSize","isLargeText","hasTransparency","alpha","isReadable","level","size"],"sources":["@wordpress/block-editor/src/components/contrast-checker/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Text, View } from 'react-native';\nimport { colord, extend } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { Icon, warning } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nextend( [ namesPlugin, a11yPlugin ] );\n\nfunction ContrastCheckerMessage( {\n\tcolordBackgroundColor,\n\tcolordTextColor,\n\tbackgroundColor,\n\ttextColor,\n\tmsgStyle,\n} ) {\n\tconst msg =\n\t\tcolordBackgroundColor.brightness() < colordTextColor.brightness()\n\t\t\t? __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.'\n\t\t\t  );\n\n\t// Note: The `Notice` component can speak messages via its `spokenMessage`\n\t// prop, but the contrast checker requires granular control over when the\n\t// announcements are made. Notably, the message will be re-announced if a\n\t// new color combination is selected and the contrast is still insufficient.\n\tuseEffect( () => {\n\t\tspeak( __( 'This color combination may be hard for people to read.' ) );\n\t}, [ backgroundColor, textColor ] );\n\n\tconst iconStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'block-editor-contrast-checker__icon' ],\n\t\tstyles[ 'block-editor-contrast-checker__icon-dark' ]\n\t);\n\n\treturn (\n\t\t<View style={ styles[ 'block-editor-contrast-checker' ] }>\n\t\t\t<Icon style={ iconStyle } icon={ warning } />\n\t\t\t<Text style={ msgStyle }>{ msg }</Text>\n\t\t</View>\n\t);\n}\n\nfunction ContrastChecker( {\n\tbackgroundColor,\n\tfallbackBackgroundColor,\n\tfallbackTextColor,\n\tfontSize, // font size value in pixels\n\tisLargeText,\n\ttextColor,\n} ) {\n\tconst msgStyle = usePreferredColorSchemeStyle(\n\t\tstyles[ 'block-editor-contrast-checker__notice' ],\n\t\tstyles[ 'block-editor-contrast-checker__notice-dark' ]\n\t);\n\n\tif (\n\t\t! ( backgroundColor || fallbackBackgroundColor ) ||\n\t\t! ( textColor || fallbackTextColor )\n\t) {\n\t\treturn null;\n\t}\n\n\tconst colordBackgroundColor = colord(\n\t\tbackgroundColor || fallbackBackgroundColor\n\t);\n\tconst colordTextColor = colord( textColor || fallbackTextColor );\n\n\tconst hasTransparency =\n\t\tcolordBackgroundColor.alpha() !== 1 || colordTextColor.alpha() !== 1;\n\n\tif (\n\t\thasTransparency ||\n\t\tcolordTextColor.isReadable( colordBackgroundColor, {\n\t\t\tlevel: 'AA',\n\t\t\tsize:\n\t\t\t\tisLargeText || ( isLargeText !== false && fontSize >= 24 )\n\t\t\t\t\t? 'large'\n\t\t\t\t\t: 'small',\n\t\t} )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ContrastCheckerMessage\n\t\t\tbackgroundColor={ backgroundColor }\n\t\t\ttextColor={ textColor }\n\t\t\tcolordBackgroundColor={ colordBackgroundColor }\n\t\t\tcolordTextColor={ colordTextColor }\n\t\t\tmsgStyle={ msgStyle }\n\t\t/>\n\t);\n}\n\nexport default ContrastChecker;\n"],"mappings":"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"}