{"version":3,"names":["getActiveFormat","getActiveObject","useContext","useMemo","BlockContext","DEFAULT_BLOCK_CONTEXT","usesContextKey","Symbol","Edit","onChange","onFocus","value","forwardedRef","settings","name","edit","EditFunction","usesContext","blockContext","context","Object","fromEntries","entries","filter","key","includes","activeFormat","isActive","undefined","activeObject","isObjectActive","type","createElement","activeAttributes","attributes","activeObjectAttributes","contentRef","FormatEdit","formatTypes","props","map"],"sources":["@wordpress/block-editor/src/components/rich-text/format-edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getActiveFormat, getActiveObject } from '@wordpress/rich-text';\nimport { useContext, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockContext from '../block-context';\n\nconst DEFAULT_BLOCK_CONTEXT = {};\n\nexport const usesContextKey = Symbol( 'usesContext' );\n\nfunction Edit( { onChange, onFocus, value, forwardedRef, settings } ) {\n\tconst {\n\t\tname,\n\t\tedit: EditFunction,\n\t\t[ usesContextKey ]: usesContext,\n\t} = settings;\n\n\tconst blockContext = useContext( BlockContext );\n\n\t// Assign context values using the block type's declared context needs.\n\tconst context = useMemo( () => {\n\t\treturn usesContext\n\t\t\t? Object.fromEntries(\n\t\t\t\t\tObject.entries( blockContext ).filter( ( [ key ] ) =>\n\t\t\t\t\t\tusesContext.includes( key )\n\t\t\t\t\t)\n\t\t\t  )\n\t\t\t: DEFAULT_BLOCK_CONTEXT;\n\t}, [ usesContext, blockContext ] );\n\n\tif ( ! EditFunction ) {\n\t\treturn null;\n\t}\n\n\tconst activeFormat = getActiveFormat( value, name );\n\tconst isActive = activeFormat !== undefined;\n\tconst activeObject = getActiveObject( value );\n\tconst isObjectActive =\n\t\tactiveObject !== undefined && activeObject.type === name;\n\n\treturn (\n\t\t<EditFunction\n\t\t\tkey={ name }\n\t\t\tisActive={ isActive }\n\t\t\tactiveAttributes={ isActive ? activeFormat.attributes || {} : {} }\n\t\t\tisObjectActive={ isObjectActive }\n\t\t\tactiveObjectAttributes={\n\t\t\t\tisObjectActive ? activeObject.attributes || {} : {}\n\t\t\t}\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChange }\n\t\t\tonFocus={ onFocus }\n\t\t\tcontentRef={ forwardedRef }\n\t\t\tcontext={ context }\n\t\t/>\n\t);\n}\n\nexport default function FormatEdit( { formatTypes, ...props } ) {\n\treturn formatTypes.map( ( settings ) => (\n\t\t<Edit settings={ settings } { ...props } key={ settings.name } />\n\t) );\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,eAAe,EAAEC,eAAe,QAAQ,sBAAsB;AACvE,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA,OAAOC,YAAY,MAAM,kBAAkB;AAE3C,MAAMC,qBAAqB,GAAG,CAAC,CAAC;AAEhC,OAAO,MAAMC,cAAc,GAAGC,MAAM,CAAE,aAAc,CAAC;AAErD,SAASC,IAAIA,CAAE;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,KAAK;EAAEC,YAAY;EAAEC;AAAS,CAAC,EAAG;EACrE,MAAM;IACLC,IAAI;IACJC,IAAI,EAAEC,YAAY;IAClB,CAAEV,cAAc,GAAIW;EACrB,CAAC,GAAGJ,QAAQ;EAEZ,MAAMK,YAAY,GAAGhB,UAAU,CAAEE,YAAa,CAAC;;EAE/C;EACA,MAAMe,OAAO,GAAGhB,OAAO,CAAE,MAAM;IAC9B,OAAOc,WAAW,GACfG,MAAM,CAACC,WAAW,CAClBD,MAAM,CAACE,OAAO,CAAEJ,YAAa,CAAC,CAACK,MAAM,CAAE,CAAE,CAAEC,GAAG,CAAE,KAC/CP,WAAW,CAACQ,QAAQ,CAAED,GAAI,CAC3B,CACA,CAAC,GACDnB,qBAAqB;EACzB,CAAC,EAAE,CAAEY,WAAW,EAAEC,YAAY,CAAG,CAAC;EAElC,IAAK,CAAEF,YAAY,EAAG;IACrB,OAAO,IAAI;EACZ;EAEA,MAAMU,YAAY,GAAG1B,eAAe,CAAEW,KAAK,EAAEG,IAAK,CAAC;EACnD,MAAMa,QAAQ,GAAGD,YAAY,KAAKE,SAAS;EAC3C,MAAMC,YAAY,GAAG5B,eAAe,CAAEU,KAAM,CAAC;EAC7C,MAAMmB,cAAc,GACnBD,YAAY,KAAKD,SAAS,IAAIC,YAAY,CAACE,IAAI,KAAKjB,IAAI;EAEzD,OACCkB,aAAA,CAAChB,YAAY;IACZQ,GAAG,EAAGV,IAAM;IACZa,QAAQ,EAAGA,QAAU;IACrBM,gBAAgB,EAAGN,QAAQ,GAAGD,YAAY,CAACQ,UAAU,IAAI,CAAC,CAAC,GAAG,CAAC,CAAG;IAClEJ,cAAc,EAAGA,cAAgB;IACjCK,sBAAsB,EACrBL,cAAc,GAAGD,YAAY,CAACK,UAAU,IAAI,CAAC,CAAC,GAAG,CAAC,CAClD;IACDvB,KAAK,EAAGA,KAAO;IACfF,QAAQ,EAAGA,QAAU;IACrBC,OAAO,EAAGA,OAAS;IACnB0B,UAAU,EAAGxB,YAAc;IAC3BO,OAAO,EAAGA;EAAS,CACnB,CAAC;AAEJ;AAEA,eAAe,SAASkB,UAAUA,CAAE;EAAEC,WAAW;EAAE,GAAGC;AAAM,CAAC,EAAG;EAC/D,OAAOD,WAAW,CAACE,GAAG,CAAI3B,QAAQ,IACjCmB,aAAA,CAACxB,IAAI;IAACK,QAAQ,EAAGA,QAAU;IAAA,GAAM0B,KAAK;IAAGf,GAAG,EAAGX,QAAQ,CAACC;EAAM,CAAE,CAC/D,CAAC;AACJ"}