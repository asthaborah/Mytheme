{"version":3,"names":["_reactNative","require","_blocks","_data","_element","_i18n","_utils","_preview","_interopRequireDefault","_style","_store","EMPTY_ARRAY","BlockStyles","clientId","url","selector","select","getBlock","blockEditorStore","getBlockStyles","blocksStore","block","styles","name","className","attributes","useSelect","updateBlockAttributes","useDispatch","renderedStyles","find","style","isDefault","label","_x","mappedRenderedStyles","useMemo","activeStyle","getActiveStyle","map","styleClassName","replaceActiveStyle","isActive","onStylePress","_react","createElement","default","onPress","key","length","ScrollView","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","containerStyles","content","_default","exports"],"sources":["@wordpress/block-editor/src/components/block-styles/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { ScrollView } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getActiveStyle, replaceActiveStyle } from './utils';\nimport StylePreview from './preview';\nimport containerStyles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nconst EMPTY_ARRAY = [];\n\nfunction BlockStyles( { clientId, url } ) {\n\tconst selector = ( select ) => {\n\t\tconst { getBlock } = select( blockEditorStore );\n\t\tconst { getBlockStyles } = select( blocksStore );\n\t\tconst block = getBlock( clientId );\n\t\treturn {\n\t\t\tstyles: getBlockStyles( block?.name ) || EMPTY_ARRAY,\n\t\t\tclassName: block?.attributes?.className || '',\n\t\t};\n\t};\n\n\tconst { styles, className } = useSelect( selector, [ clientId ] );\n\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tconst renderedStyles = styles?.find( ( style ) => style.isDefault )\n\t\t? styles\n\t\t: [\n\t\t\t\t{\n\t\t\t\t\tname: 'default',\n\t\t\t\t\tlabel: _x( 'Default', 'block style' ),\n\t\t\t\t\tisDefault: true,\n\t\t\t\t},\n\t\t\t\t...styles,\n\t\t  ];\n\n\tconst mappedRenderedStyles = useMemo( () => {\n\t\tconst activeStyle = getActiveStyle( renderedStyles, className );\n\n\t\treturn renderedStyles.map( ( style ) => {\n\t\t\tconst styleClassName = replaceActiveStyle(\n\t\t\t\tclassName,\n\t\t\t\tactiveStyle,\n\t\t\t\tstyle\n\t\t\t);\n\t\t\tconst isActive = activeStyle === style;\n\n\t\t\tconst onStylePress = () => {\n\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<StylePreview\n\t\t\t\t\tonPress={ onStylePress }\n\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\tkey={ style.name }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t\turl={ url }\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\t}, [ renderedStyles, className, clientId ] );\n\n\tif ( ! styles || styles.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ScrollView\n\t\t\thorizontal\n\t\t\tshowsHorizontalScrollIndicator={ false }\n\t\t\tcontentContainerStyle={ containerStyles.content }\n\t\t>\n\t\t\t{ mappedRenderedStyles }\n\t\t</ScrollView>\n\t);\n}\n\nexport default BlockStyles;\n"],"mappings":"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"}