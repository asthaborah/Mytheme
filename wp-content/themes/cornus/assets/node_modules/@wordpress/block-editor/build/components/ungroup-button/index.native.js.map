{"version":3,"names":["_blocks","require","_components","_i18n","_data","_compose","_icons","_store","noop","EMPTY_BLOCKS_LIST","UngroupButton","onConvertFromGroup","isUngroupable","_react","createElement","ToolbarGroup","ToolbarButton","title","__","icon","ungroup","onClick","_default","exports","default","compose","withSelect","select","getSelectedBlockClientId","getBlock","blockEditorStore","getGroupingBlockName","blocksStore","selectedId","selectedBlock","groupingBlockName","innerBlocks","length","name","clientId","withDispatch","dispatch","onToggle","replaceBlocks"],"sources":["@wordpress/block-editor/src/components/ungroup-button/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { ungroup } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\nconst EMPTY_BLOCKS_LIST = [];\n\nexport function UngroupButton( { onConvertFromGroup, isUngroupable = false } ) {\n\tif ( ! isUngroupable ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<ToolbarGroup>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ __( 'Ungroup' ) }\n\t\t\t\ticon={ ungroup }\n\t\t\t\tonClick={ onConvertFromGroup }\n\t\t\t/>\n\t\t</ToolbarGroup>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientId, getBlock } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst { getGroupingBlockName } = select( blocksStore );\n\n\t\tconst selectedId = getSelectedBlockClientId();\n\t\tconst selectedBlock = getBlock( selectedId );\n\n\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\tconst isUngroupable =\n\t\t\tselectedBlock &&\n\t\t\tselectedBlock.innerBlocks &&\n\t\t\tselectedBlock.innerBlocks.length > 0 &&\n\t\t\tselectedBlock.name === groupingBlockName;\n\n\t\tconst innerBlocks = isUngroupable\n\t\t\t? selectedBlock.innerBlocks\n\t\t\t: EMPTY_BLOCKS_LIST;\n\n\t\treturn {\n\t\t\tisUngroupable,\n\t\t\tclientId: selectedId,\n\t\t\tinnerBlocks,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId, innerBlocks, onToggle = noop } ) => {\n\t\tconst { replaceBlocks } = dispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\tonConvertFromGroup() {\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks( clientId, innerBlocks );\n\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t};\n\t} ),\n] )( UngroupButton );\n"],"mappings":";;;;;;;;AAGA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AAKA,IAAAM,MAAA,GAAAN,OAAA;AAbA;AACA;AACA;;AAQA;AACA;AACA;;AAGA,MAAMO,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AACrB,MAAMC,iBAAiB,GAAG,EAAE;AAErB,SAASC,aAAaA,CAAE;EAAEC,kBAAkB;EAAEC,aAAa,GAAG;AAAM,CAAC,EAAG;EAC9E,IAAK,CAAEA,aAAa,EAAG;IACtB,OAAO,IAAI;EACZ;EACA,OACC,IAAAC,MAAA,CAAAC,aAAA,EAACZ,WAAA,CAAAa,YAAY,QACZ,IAAAF,MAAA,CAAAC,aAAA,EAACZ,WAAA,CAAAc,aAAa;IACbC,KAAK,EAAG,IAAAC,QAAE,EAAE,SAAU,CAAG;IACzBC,IAAI,EAAGC,cAAS;IAChBC,OAAO,EAAGV;EAAoB,CAC9B,CACY,CAAC;AAEjB;AAAC,IAAAW,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc,IAAAC,gBAAO,EAAE,CACvB,IAAAC,gBAAU,EAAIC,MAAM,IAAM;EACzB,MAAM;IAAEC,wBAAwB;IAAEC;EAAS,CAAC,GAC3CF,MAAM,CAAEG,YAAiB,CAAC;EAE3B,MAAM;IAAEC;EAAqB,CAAC,GAAGJ,MAAM,CAAEK,aAAY,CAAC;EAEtD,MAAMC,UAAU,GAAGL,wBAAwB,CAAC,CAAC;EAC7C,MAAMM,aAAa,GAAGL,QAAQ,CAAEI,UAAW,CAAC;EAE5C,MAAME,iBAAiB,GAAGJ,oBAAoB,CAAC,CAAC;EAEhD,MAAMnB,aAAa,GAClBsB,aAAa,IACbA,aAAa,CAACE,WAAW,IACzBF,aAAa,CAACE,WAAW,CAACC,MAAM,GAAG,CAAC,IACpCH,aAAa,CAACI,IAAI,KAAKH,iBAAiB;EAEzC,MAAMC,WAAW,GAAGxB,aAAa,GAC9BsB,aAAa,CAACE,WAAW,GACzB3B,iBAAiB;EAEpB,OAAO;IACNG,aAAa;IACb2B,QAAQ,EAAEN,UAAU;IACpBG;EACD,CAAC;AACF,CAAE,CAAC,EACH,IAAAI,kBAAY,EAAE,CAAEC,QAAQ,EAAE;EAAEF,QAAQ;EAAEH,WAAW;EAAEM,QAAQ,GAAGlC;AAAK,CAAC,KAAM;EACzE,MAAM;IAAEmC;EAAc,CAAC,GAAGF,QAAQ,CAAEX,YAAiB,CAAC;EAEtD,OAAO;IACNnB,kBAAkBA,CAAA,EAAG;MACpB,IAAK,CAAEyB,WAAW,CAACC,MAAM,EAAG;QAC3B;MACD;MAEAM,aAAa,CAAEJ,QAAQ,EAAEH,WAAY,CAAC;MAEtCM,QAAQ,CAAC,CAAC;IACX;EACD,CAAC;AACF,CAAE,CAAC,CACF,CAAC,CAAEhC,aAAc,CAAC"}