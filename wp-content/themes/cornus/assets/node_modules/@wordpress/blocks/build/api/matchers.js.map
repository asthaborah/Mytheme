{"version":3,"names":["_hpq","require","_richText","_node","_children","html","selector","multilineTag","domNode","match","querySelector","value","length","children","index","child","nodeName","toLowerCase","outerHTML","innerHTML","richText","preserveWhiteSpace","el","target","RichTextData","fromHTMLElement","empty","exports"],"sources":["@wordpress/blocks/src/api/matchers.js"],"sourcesContent":["/**\n * External dependencies\n */\nexport { attr, prop, text, query } from 'hpq';\n\n/**\n * WordPress dependencies\n */\nimport { RichTextData } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nexport { matcher as node } from './node';\nexport { matcher as children } from './children';\n\nexport function html( selector, multilineTag ) {\n\treturn ( domNode ) => {\n\t\tlet match = domNode;\n\n\t\tif ( selector ) {\n\t\t\tmatch = domNode.querySelector( selector );\n\t\t}\n\n\t\tif ( ! match ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( multilineTag ) {\n\t\t\tlet value = '';\n\t\t\tconst length = match.children.length;\n\n\t\t\tfor ( let index = 0; index < length; index++ ) {\n\t\t\t\tconst child = match.children[ index ];\n\n\t\t\t\tif ( child.nodeName.toLowerCase() !== multilineTag ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvalue += child.outerHTML;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\treturn match.innerHTML;\n\t};\n}\n\nexport const richText = ( selector, preserveWhiteSpace ) => ( el ) => {\n\tconst target = selector ? el.querySelector( selector ) : el;\n\treturn target\n\t\t? RichTextData.fromHTMLElement( target, { preserveWhiteSpace } )\n\t\t: RichTextData.empty();\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAAA,IAAA,GAAAC,OAAA;AAKA,IAAAC,SAAA,GAAAD,OAAA;AAKA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AAdA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;;AAIO,SAASI,IAAIA,CAAEC,QAAQ,EAAEC,YAAY,EAAG;EAC9C,OAASC,OAAO,IAAM;IACrB,IAAIC,KAAK,GAAGD,OAAO;IAEnB,IAAKF,QAAQ,EAAG;MACfG,KAAK,GAAGD,OAAO,CAACE,aAAa,CAAEJ,QAAS,CAAC;IAC1C;IAEA,IAAK,CAAEG,KAAK,EAAG;MACd,OAAO,EAAE;IACV;IAEA,IAAKF,YAAY,EAAG;MACnB,IAAII,KAAK,GAAG,EAAE;MACd,MAAMC,MAAM,GAAGH,KAAK,CAACI,QAAQ,CAACD,MAAM;MAEpC,KAAM,IAAIE,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGF,MAAM,EAAEE,KAAK,EAAE,EAAG;QAC9C,MAAMC,KAAK,GAAGN,KAAK,CAACI,QAAQ,CAAEC,KAAK,CAAE;QAErC,IAAKC,KAAK,CAACC,QAAQ,CAACC,WAAW,CAAC,CAAC,KAAKV,YAAY,EAAG;UACpD;QACD;QAEAI,KAAK,IAAII,KAAK,CAACG,SAAS;MACzB;MAEA,OAAOP,KAAK;IACb;IAEA,OAAOF,KAAK,CAACU,SAAS;EACvB,CAAC;AACF;AAEO,MAAMC,QAAQ,GAAGA,CAAEd,QAAQ,EAAEe,kBAAkB,KAAQC,EAAE,IAAM;EACrE,MAAMC,MAAM,GAAGjB,QAAQ,GAAGgB,EAAE,CAACZ,aAAa,CAAEJ,QAAS,CAAC,GAAGgB,EAAE;EAC3D,OAAOC,MAAM,GACVC,sBAAY,CAACC,eAAe,CAAEF,MAAM,EAAE;IAAEF;EAAmB,CAAE,CAAC,GAC9DG,sBAAY,CAACE,KAAK,CAAC,CAAC;AACxB,CAAC;AAACC,OAAA,CAAAP,QAAA,GAAAA,QAAA"}