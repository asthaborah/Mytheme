{"version":3,"names":["classnames","__","decodeEntities","useSelect","useDispatch","ENTER","SPACE","Inserter","store","blockEditorStore","ZWNBSP","DefaultBlockAppender","rootClientId","showPrompt","isLocked","placeholder","select","getBlockCount","getSettings","getTemplateLock","isEmpty","bodyPlaceholder","insertDefaultBlock","startTyping","value","onAppend","undefined","createElement","className","tabIndex","role","onKeyDown","event","keyCode","onClick","onFocus","position","isAppender","__experimentalIsQuick"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport { store as blockEditorStore } from '../../store';\n\n/**\n * Zero width non-breaking space, used as padding for the paragraph when it is\n * empty.\n */\nexport const ZWNBSP = '\\ufeff';\n\nexport default function DefaultBlockAppender( { rootClientId } ) {\n\tconst { showPrompt, isLocked, placeholder } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockCount, getSettings, getTemplateLock } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst isEmpty = ! getBlockCount( rootClientId );\n\t\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\t\treturn {\n\t\t\t\tshowPrompt: isEmpty,\n\t\t\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\t\t\tplaceholder: bodyPlaceholder,\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tconst { insertDefaultBlock, startTyping } = useDispatch( blockEditorStore );\n\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\tdecodeEntities( placeholder ) || __( 'Type / to choose a block' );\n\n\tconst onAppend = () => {\n\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\tstartTyping();\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-root-client-id={ rootClientId || '' }\n\t\t\tclassName={ classnames( 'block-editor-default-block-appender', {\n\t\t\t\t'has-visible-prompt': showPrompt,\n\t\t\t} ) }\n\t\t>\n\t\t\t<p\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\t// We want this element to be styled as a paragraph by themes.\n\t\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n\t\t\t\trole=\"button\"\n\t\t\t\taria-label={ __( 'Add default block' ) }\n\t\t\t\t// A wrapping container for this one already has the wp-block className.\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( ENTER === event.keyCode || SPACE === event.keyCode ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tonClick={ () => onAppend() }\n\t\t\t\tonFocus={ () => {\n\t\t\t\t\tif ( showPrompt ) {\n\t\t\t\t\t\tonAppend();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ showPrompt ? value : ZWNBSP }\n\t\t\t</p>\n\t\t\t<Inserter\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tisAppender\n\t\t\t\t__experimentalIsQuick\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,OAAOA,UAAU,MAAM,YAAY;;AAEnC;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,KAAK,EAAEC,KAAK,QAAQ,qBAAqB;;AAElD;AACA;AACA;AACA,OAAOC,QAAQ,MAAM,aAAa;AAClC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;;AAEvD;AACA;AACA;AACA;AACA,OAAO,MAAMC,MAAM,GAAG,QAAQ;AAE9B,eAAe,SAASC,oBAAoBA,CAAE;EAAEC;AAAa,CAAC,EAAG;EAChE,MAAM;IAAEC,UAAU;IAAEC,QAAQ;IAAEC;EAAY,CAAC,GAAGZ,SAAS,CACpDa,MAAM,IAAM;IACb,MAAM;MAAEC,aAAa;MAAEC,WAAW;MAAEC;IAAgB,CAAC,GACpDH,MAAM,CAAEP,gBAAiB,CAAC;IAE3B,MAAMW,OAAO,GAAG,CAAEH,aAAa,CAAEL,YAAa,CAAC;IAC/C,MAAM;MAAES;IAAgB,CAAC,GAAGH,WAAW,CAAC,CAAC;IAEzC,OAAO;MACNL,UAAU,EAAEO,OAAO;MACnBN,QAAQ,EAAE,CAAC,CAAEK,eAAe,CAAEP,YAAa,CAAC;MAC5CG,WAAW,EAAEM;IACd,CAAC;EACF,CAAC,EACD,CAAET,YAAY,CACf,CAAC;EAED,MAAM;IAAEU,kBAAkB;IAAEC;EAAY,CAAC,GAAGnB,WAAW,CAAEK,gBAAiB,CAAC;EAE3E,IAAKK,QAAQ,EAAG;IACf,OAAO,IAAI;EACZ;EAEA,MAAMU,KAAK,GACVtB,cAAc,CAAEa,WAAY,CAAC,IAAId,EAAE,CAAE,0BAA2B,CAAC;EAElE,MAAMwB,QAAQ,GAAGA,CAAA,KAAM;IACtBH,kBAAkB,CAAEI,SAAS,EAAEd,YAAa,CAAC;IAC7CW,WAAW,CAAC,CAAC;EACd,CAAC;EAED,OACCI,aAAA;IACC,uBAAsBf,YAAY,IAAI,EAAI;IAC1CgB,SAAS,EAAG5B,UAAU,CAAE,qCAAqC,EAAE;MAC9D,oBAAoB,EAAEa;IACvB,CAAE;EAAG,GAELc,aAAA;IACCE,QAAQ,EAAC;IACT;IACA;IAAA;IACAC,IAAI,EAAC,QAAQ;IACb,cAAa7B,EAAE,CAAE,mBAAoB;IACrC;IAAA;IACA2B,SAAS,EAAC,8CAA8C;IACxDG,SAAS,EAAKC,KAAK,IAAM;MACxB,IAAK3B,KAAK,KAAK2B,KAAK,CAACC,OAAO,IAAI3B,KAAK,KAAK0B,KAAK,CAACC,OAAO,EAAG;QACzDR,QAAQ,CAAC,CAAC;MACX;IACD,CAAG;IACHS,OAAO,EAAGA,CAAA,KAAMT,QAAQ,CAAC,CAAG;IAC5BU,OAAO,EAAGA,CAAA,KAAM;MACf,IAAKtB,UAAU,EAAG;QACjBY,QAAQ,CAAC,CAAC;MACX;IACD;EAAG,GAEDZ,UAAU,GAAGW,KAAK,GAAGd,MACrB,CAAC,EACJiB,aAAA,CAACpB,QAAQ;IACRK,YAAY,EAAGA,YAAc;IAC7BwB,QAAQ,EAAC,cAAc;IACvBC,UAAU;IACVC,qBAAqB;EAAA,CACrB,CACG,CAAC;AAER"}