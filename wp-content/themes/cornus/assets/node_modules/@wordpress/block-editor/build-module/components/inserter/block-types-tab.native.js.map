{"version":3,"names":["useMemo","__","BlockTypesList","useClipboardBlock","useBlockTypeImpressions","createInserterSection","filterInserterItems","useBlockTypesState","getBlockNamespace","item","name","split","BlockTypesTab","onSelect","rootClientId","listProps","rawBlockTypes","collections","clipboardBlock","filteredBlockTypes","blockTypes","items","trackBlockTypeSelected","handleSelect","args","collectionSections","result","Object","keys","forEach","namespace","data","filter","length","push","key","metadata","icon","title","sections","createElement","label"],"sources":["@wordpress/block-editor/src/components/inserter/block-types-tab.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesList from '../block-types-list';\nimport useClipboardBlock from './hooks/use-clipboard-block';\nimport useBlockTypeImpressions from './hooks/use-block-type-impressions';\nimport { createInserterSection, filterInserterItems } from './utils';\nimport useBlockTypesState from './hooks/use-block-types-state';\n\nconst getBlockNamespace = ( item ) => item.name.split( '/' )[ 0 ];\n\nfunction BlockTypesTab( { onSelect, rootClientId, listProps } ) {\n\tconst [ rawBlockTypes, , collections ] = useBlockTypesState(\n\t\trootClientId,\n\t\tonSelect\n\t);\n\tconst clipboardBlock = useClipboardBlock( rootClientId );\n\tconst filteredBlockTypes = filterInserterItems( rawBlockTypes );\n\tconst blockTypes = clipboardBlock\n\t\t? [ clipboardBlock, ...filteredBlockTypes ]\n\t\t: filteredBlockTypes;\n\tconst { items, trackBlockTypeSelected } =\n\t\tuseBlockTypeImpressions( blockTypes );\n\n\tconst handleSelect = ( ...args ) => {\n\t\ttrackBlockTypeSelected( ...args );\n\t\tonSelect( ...args );\n\t};\n\n\tconst collectionSections = useMemo( () => {\n\t\tconst result = [];\n\t\tObject.keys( collections ).forEach( ( namespace ) => {\n\t\t\tconst data = items.filter(\n\t\t\t\t( item ) => getBlockNamespace( item ) === namespace\n\t\t\t);\n\t\t\tif ( data.length > 0 ) {\n\t\t\t\tresult.push(\n\t\t\t\t\tcreateInserterSection( {\n\t\t\t\t\t\tkey: `collection-${ namespace }`,\n\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\ticon: collections[ namespace ].icon,\n\t\t\t\t\t\t\ttitle: collections[ namespace ].title,\n\t\t\t\t\t\t},\n\t\t\t\t\t\titems: data,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t\treturn result;\n\t}, [ items, collections ] );\n\n\tconst sections = [\n\t\tcreateInserterSection( { key: 'default', items } ),\n\t\t...collectionSections,\n\t];\n\n\treturn (\n\t\t<BlockTypesList\n\t\t\tname=\"Blocks\"\n\t\t\tsections={ sections }\n\t\t\tonSelect={ handleSelect }\n\t\t\tlistProps={ listProps }\n\t\t\tlabel={ __( 'Blocks menu' ) }\n\t\t/>\n\t);\n}\n\nexport default BlockTypesTab;\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,iBAAiB,MAAM,6BAA6B;AAC3D,OAAOC,uBAAuB,MAAM,oCAAoC;AACxE,SAASC,qBAAqB,EAAEC,mBAAmB,QAAQ,SAAS;AACpE,OAAOC,kBAAkB,MAAM,+BAA+B;AAE9D,MAAMC,iBAAiB,GAAKC,IAAI,IAAMA,IAAI,CAACC,IAAI,CAACC,KAAK,CAAE,GAAI,CAAC,CAAE,CAAC,CAAE;AAEjE,SAASC,aAAaA,CAAE;EAAEC,QAAQ;EAAEC,YAAY;EAAEC;AAAU,CAAC,EAAG;EAC/D,MAAM,CAAEC,aAAa,GAAIC,WAAW,CAAE,GAAGV,kBAAkB,CAC1DO,YAAY,EACZD,QACD,CAAC;EACD,MAAMK,cAAc,GAAGf,iBAAiB,CAAEW,YAAa,CAAC;EACxD,MAAMK,kBAAkB,GAAGb,mBAAmB,CAAEU,aAAc,CAAC;EAC/D,MAAMI,UAAU,GAAGF,cAAc,GAC9B,CAAEA,cAAc,EAAE,GAAGC,kBAAkB,CAAE,GACzCA,kBAAkB;EACrB,MAAM;IAAEE,KAAK;IAAEC;EAAuB,CAAC,GACtClB,uBAAuB,CAAEgB,UAAW,CAAC;EAEtC,MAAMG,YAAY,GAAGA,CAAE,GAAGC,IAAI,KAAM;IACnCF,sBAAsB,CAAE,GAAGE,IAAK,CAAC;IACjCX,QAAQ,CAAE,GAAGW,IAAK,CAAC;EACpB,CAAC;EAED,MAAMC,kBAAkB,GAAGzB,OAAO,CAAE,MAAM;IACzC,MAAM0B,MAAM,GAAG,EAAE;IACjBC,MAAM,CAACC,IAAI,CAAEX,WAAY,CAAC,CAACY,OAAO,CAAIC,SAAS,IAAM;MACpD,MAAMC,IAAI,GAAGV,KAAK,CAACW,MAAM,CACtBvB,IAAI,IAAMD,iBAAiB,CAAEC,IAAK,CAAC,KAAKqB,SAC3C,CAAC;MACD,IAAKC,IAAI,CAACE,MAAM,GAAG,CAAC,EAAG;QACtBP,MAAM,CAACQ,IAAI,CACV7B,qBAAqB,CAAE;UACtB8B,GAAG,EAAG,cAAcL,SAAW,EAAC;UAChCM,QAAQ,EAAE;YACTC,IAAI,EAAEpB,WAAW,CAAEa,SAAS,CAAE,CAACO,IAAI;YACnCC,KAAK,EAAErB,WAAW,CAAEa,SAAS,CAAE,CAACQ;UACjC,CAAC;UACDjB,KAAK,EAAEU;QACR,CAAE,CACH,CAAC;MACF;IACD,CAAE,CAAC;IAEH,OAAOL,MAAM;EACd,CAAC,EAAE,CAAEL,KAAK,EAAEJ,WAAW,CAAG,CAAC;EAE3B,MAAMsB,QAAQ,GAAG,CAChBlC,qBAAqB,CAAE;IAAE8B,GAAG,EAAE,SAAS;IAAEd;EAAM,CAAE,CAAC,EAClD,GAAGI,kBAAkB,CACrB;EAED,OACCe,aAAA,CAACtC,cAAc;IACdQ,IAAI,EAAC,QAAQ;IACb6B,QAAQ,EAAGA,QAAU;IACrB1B,QAAQ,EAAGU,YAAc;IACzBR,SAAS,EAAGA,SAAW;IACvB0B,KAAK,EAAGxC,EAAE,CAAE,aAAc;EAAG,CAC7B,CAAC;AAEJ;AAEA,eAAeW,aAAa"}