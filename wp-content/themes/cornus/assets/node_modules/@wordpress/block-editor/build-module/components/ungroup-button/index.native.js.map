{"version":3,"names":["store","blocksStore","ToolbarGroup","ToolbarButton","__","withSelect","withDispatch","compose","ungroup","blockEditorStore","noop","EMPTY_BLOCKS_LIST","UngroupButton","onConvertFromGroup","isUngroupable","createElement","title","icon","onClick","select","getSelectedBlockClientId","getBlock","getGroupingBlockName","selectedId","selectedBlock","groupingBlockName","innerBlocks","length","name","clientId","dispatch","onToggle","replaceBlocks"],"sources":["@wordpress/block-editor/src/components/ungroup-button/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { ungroup } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\nconst EMPTY_BLOCKS_LIST = [];\n\nexport function UngroupButton( { onConvertFromGroup, isUngroupable = false } ) {\n\tif ( ! isUngroupable ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<ToolbarGroup>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ __( 'Ungroup' ) }\n\t\t\t\ticon={ ungroup }\n\t\t\t\tonClick={ onConvertFromGroup }\n\t\t\t/>\n\t\t</ToolbarGroup>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientId, getBlock } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst { getGroupingBlockName } = select( blocksStore );\n\n\t\tconst selectedId = getSelectedBlockClientId();\n\t\tconst selectedBlock = getBlock( selectedId );\n\n\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\tconst isUngroupable =\n\t\t\tselectedBlock &&\n\t\t\tselectedBlock.innerBlocks &&\n\t\t\tselectedBlock.innerBlocks.length > 0 &&\n\t\t\tselectedBlock.name === groupingBlockName;\n\n\t\tconst innerBlocks = isUngroupable\n\t\t\t? selectedBlock.innerBlocks\n\t\t\t: EMPTY_BLOCKS_LIST;\n\n\t\treturn {\n\t\t\tisUngroupable,\n\t\t\tclientId: selectedId,\n\t\t\tinnerBlocks,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId, innerBlocks, onToggle = noop } ) => {\n\t\tconst { replaceBlocks } = dispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\tonConvertFromGroup() {\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks( clientId, innerBlocks );\n\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t};\n\t} ),\n] )( UngroupButton );\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAW,QAAQ,mBAAmB;AACxD,SAASC,YAAY,EAAEC,aAAa,QAAQ,uBAAuB;AACnE,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,OAAO,QAAQ,kBAAkB;;AAE1C;AACA;AACA;AACA,SAASR,KAAK,IAAIS,gBAAgB,QAAQ,aAAa;AAEvD,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AACrB,MAAMC,iBAAiB,GAAG,EAAE;AAE5B,OAAO,SAASC,aAAaA,CAAE;EAAEC,kBAAkB;EAAEC,aAAa,GAAG;AAAM,CAAC,EAAG;EAC9E,IAAK,CAAEA,aAAa,EAAG;IACtB,OAAO,IAAI;EACZ;EACA,OACCC,aAAA,CAACb,YAAY,QACZa,aAAA,CAACZ,aAAa;IACba,KAAK,EAAGZ,EAAE,CAAE,SAAU,CAAG;IACzBa,IAAI,EAAGT,OAAS;IAChBU,OAAO,EAAGL;EAAoB,CAC9B,CACY,CAAC;AAEjB;AAEA,eAAeN,OAAO,CAAE,CACvBF,UAAU,CAAIc,MAAM,IAAM;EACzB,MAAM;IAAEC,wBAAwB;IAAEC;EAAS,CAAC,GAC3CF,MAAM,CAAEV,gBAAiB,CAAC;EAE3B,MAAM;IAAEa;EAAqB,CAAC,GAAGH,MAAM,CAAElB,WAAY,CAAC;EAEtD,MAAMsB,UAAU,GAAGH,wBAAwB,CAAC,CAAC;EAC7C,MAAMI,aAAa,GAAGH,QAAQ,CAAEE,UAAW,CAAC;EAE5C,MAAME,iBAAiB,GAAGH,oBAAoB,CAAC,CAAC;EAEhD,MAAMR,aAAa,GAClBU,aAAa,IACbA,aAAa,CAACE,WAAW,IACzBF,aAAa,CAACE,WAAW,CAACC,MAAM,GAAG,CAAC,IACpCH,aAAa,CAACI,IAAI,KAAKH,iBAAiB;EAEzC,MAAMC,WAAW,GAAGZ,aAAa,GAC9BU,aAAa,CAACE,WAAW,GACzBf,iBAAiB;EAEpB,OAAO;IACNG,aAAa;IACbe,QAAQ,EAAEN,UAAU;IACpBG;EACD,CAAC;AACF,CAAE,CAAC,EACHpB,YAAY,CAAE,CAAEwB,QAAQ,EAAE;EAAED,QAAQ;EAAEH,WAAW;EAAEK,QAAQ,GAAGrB;AAAK,CAAC,KAAM;EACzE,MAAM;IAAEsB;EAAc,CAAC,GAAGF,QAAQ,CAAErB,gBAAiB,CAAC;EAEtD,OAAO;IACNI,kBAAkBA,CAAA,EAAG;MACpB,IAAK,CAAEa,WAAW,CAACC,MAAM,EAAG;QAC3B;MACD;MAEAK,aAAa,CAAEH,QAAQ,EAAEH,WAAY,CAAC;MAEtCK,QAAQ,CAAC,CAAC;IACX;EACD,CAAC;AACF,CAAE,CAAC,CACF,CAAC,CAAEnB,aAAc,CAAC"}