{"version":3,"names":["useRef","useEffect","Spinner","SearchControl","focus","__","useDebouncedInput","MediaList","useMediaResults","InserterNoResults","INITIAL_MEDIA_ITEMS_PER_PAGE","MediaCategoryDialog","rootClientId","onInsert","category","container","timeout","setTimeout","firstTabbable","tabbable","find","current","clearTimeout","createElement","ref","className","MediaCategoryPanel","search","setSearch","debouncedSearch","mediaList","isLoading","per_page","baseCssClass","searchLabel","labels","search_items","onChange","value","label","placeholder","length","onClick"],"sources":["@wordpress/block-editor/src/components/inserter/media-tab/media-panel.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { Spinner, SearchControl } from '@wordpress/components';\nimport { focus } from '@wordpress/dom';\nimport { __ } from '@wordpress/i18n';\nimport { useDebouncedInput } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport MediaList from './media-list';\nimport { useMediaResults } from './hooks';\nimport InserterNoResults from '../no-results';\n\nconst INITIAL_MEDIA_ITEMS_PER_PAGE = 10;\n\nexport function MediaCategoryDialog( { rootClientId, onInsert, category } ) {\n\tconst container = useRef();\n\tuseEffect( () => {\n\t\tconst timeout = setTimeout( () => {\n\t\t\tconst [ firstTabbable ] = focus.tabbable.find( container.current );\n\t\t\tfirstTabbable?.focus();\n\t\t} );\n\t\treturn () => clearTimeout( timeout );\n\t}, [ category ] );\n\treturn (\n\t\t<div ref={ container } className=\"block-editor-inserter__media-dialog\">\n\t\t\t<MediaCategoryPanel\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tonInsert={ onInsert }\n\t\t\t\tcategory={ category }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport function MediaCategoryPanel( { rootClientId, onInsert, category } ) {\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst { mediaList, isLoading } = useMediaResults( category, {\n\t\tper_page: !! debouncedSearch ? 20 : INITIAL_MEDIA_ITEMS_PER_PAGE,\n\t\tsearch: debouncedSearch,\n\t} );\n\tconst baseCssClass = 'block-editor-inserter__media-panel';\n\tconst searchLabel = category.labels.search_items || __( 'Search' );\n\treturn (\n\t\t<div className={ baseCssClass }>\n\t\t\t<SearchControl\n\t\t\t\tclassName={ `${ baseCssClass }-search` }\n\t\t\t\tonChange={ setSearch }\n\t\t\t\tvalue={ search }\n\t\t\t\tlabel={ searchLabel }\n\t\t\t\tplaceholder={ searchLabel }\n\t\t\t/>\n\t\t\t{ isLoading && (\n\t\t\t\t<div className={ `${ baseCssClass }-spinner` }>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ! isLoading && ! mediaList?.length && <InserterNoResults /> }\n\t\t\t{ ! isLoading && !! mediaList?.length && (\n\t\t\t\t<MediaList\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\tonClick={ onInsert }\n\t\t\t\t\tmediaList={ mediaList }\n\t\t\t\t\tcategory={ category }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,SAAS,QAAQ,oBAAoB;AACtD,SAASC,OAAO,EAAEC,aAAa,QAAQ,uBAAuB;AAC9D,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,iBAAiB,QAAQ,oBAAoB;;AAEtD;AACA;AACA;AACA,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,eAAe,QAAQ,SAAS;AACzC,OAAOC,iBAAiB,MAAM,eAAe;AAE7C,MAAMC,4BAA4B,GAAG,EAAE;AAEvC,OAAO,SAASC,mBAAmBA,CAAE;EAAEC,YAAY;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EAC3E,MAAMC,SAAS,GAAGf,MAAM,CAAC,CAAC;EAC1BC,SAAS,CAAE,MAAM;IAChB,MAAMe,OAAO,GAAGC,UAAU,CAAE,MAAM;MACjC,MAAM,CAAEC,aAAa,CAAE,GAAGd,KAAK,CAACe,QAAQ,CAACC,IAAI,CAAEL,SAAS,CAACM,OAAQ,CAAC;MAClEH,aAAa,EAAEd,KAAK,CAAC,CAAC;IACvB,CAAE,CAAC;IACH,OAAO,MAAMkB,YAAY,CAAEN,OAAQ,CAAC;EACrC,CAAC,EAAE,CAAEF,QAAQ,CAAG,CAAC;EACjB,OACCS,aAAA;IAAKC,GAAG,EAAGT,SAAW;IAACU,SAAS,EAAC;EAAqC,GACrEF,aAAA,CAACG,kBAAkB;IAClBd,YAAY,EAAGA,YAAc;IAC7BC,QAAQ,EAAGA,QAAU;IACrBC,QAAQ,EAAGA;EAAU,CACrB,CACG,CAAC;AAER;AAEA,OAAO,SAASY,kBAAkBA,CAAE;EAAEd,YAAY;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EAC1E,MAAM,CAAEa,MAAM,EAAEC,SAAS,EAAEC,eAAe,CAAE,GAAGvB,iBAAiB,CAAC,CAAC;EAClE,MAAM;IAAEwB,SAAS;IAAEC;EAAU,CAAC,GAAGvB,eAAe,CAAEM,QAAQ,EAAE;IAC3DkB,QAAQ,EAAE,CAAC,CAAEH,eAAe,GAAG,EAAE,GAAGnB,4BAA4B;IAChEiB,MAAM,EAAEE;EACT,CAAE,CAAC;EACH,MAAMI,YAAY,GAAG,oCAAoC;EACzD,MAAMC,WAAW,GAAGpB,QAAQ,CAACqB,MAAM,CAACC,YAAY,IAAI/B,EAAE,CAAE,QAAS,CAAC;EAClE,OACCkB,aAAA;IAAKE,SAAS,EAAGQ;EAAc,GAC9BV,aAAA,CAACpB,aAAa;IACbsB,SAAS,EAAI,GAAGQ,YAAc,SAAU;IACxCI,QAAQ,EAAGT,SAAW;IACtBU,KAAK,EAAGX,MAAQ;IAChBY,KAAK,EAAGL,WAAa;IACrBM,WAAW,EAAGN;EAAa,CAC3B,CAAC,EACAH,SAAS,IACVR,aAAA;IAAKE,SAAS,EAAI,GAAGQ,YAAc;EAAW,GAC7CV,aAAA,CAACrB,OAAO,MAAE,CACN,CACL,EACC,CAAE6B,SAAS,IAAI,CAAED,SAAS,EAAEW,MAAM,IAAIlB,aAAA,CAACd,iBAAiB,MAAE,CAAC,EAC3D,CAAEsB,SAAS,IAAI,CAAC,CAAED,SAAS,EAAEW,MAAM,IACpClB,aAAA,CAAChB,SAAS;IACTK,YAAY,EAAGA,YAAc;IAC7B8B,OAAO,EAAG7B,QAAU;IACpBiB,SAAS,EAAGA,SAAW;IACvBhB,QAAQ,EAAGA;EAAU,CACrB,CAEE,CAAC;AAER"}