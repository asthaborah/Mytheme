{"version":3,"names":["_reactNative","require","_components","_element","_compose","_style","_interopRequireDefault","MAX_ITEM_WIDTH","HALF_COLUMN","StylePreview","onPress","isActive","style","url","itemWidth","setItemWidth","useState","label","name","opacity","useRef","Animated","Value","current","onLayout","columnsNum","Math","floor","BottomSheet","getWidth","useEffect","dimensionsChangeSubscription","Dimensions","addEventListener","remove","labelStyle","usePreferredColorSchemeStyle","styles","labelDark","animateOutline","setValue","timing","toValue","duration","useNativeDriver","easing","Easing","linear","start","innerOutlineStyle","innerOutline","innerOutlineDark","getOutline","outlineStyles","map","outlineStyle","index","_react","createElement","View","key","TouchableWithoutFeedback","container","width","imageWrapper","outline","Image","image","source","uri","Text","labelSelected","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/block-styles/preview.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tView,\n\tTouchableWithoutFeedback,\n\tText,\n\tDimensions,\n\tAnimated,\n\tEasing,\n\tImage,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { BottomSheet } from '@wordpress/components';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nconst MAX_ITEM_WIDTH = 120;\nconst HALF_COLUMN = 0.5;\n\nfunction StylePreview( { onPress, isActive, style, url } ) {\n\tconst [ itemWidth, setItemWidth ] = useState( MAX_ITEM_WIDTH );\n\tconst { label, name } = style;\n\tconst opacity = useRef( new Animated.Value( 1 ) ).current;\n\n\tfunction onLayout() {\n\t\tconst columnsNum =\n\t\t\t// To indicate scroll availabilty, there is a need to display additional half the column.\n\t\t\tMath.floor( BottomSheet.getWidth() / MAX_ITEM_WIDTH ) + HALF_COLUMN;\n\t\tsetItemWidth( BottomSheet.getWidth() / columnsNum );\n\t}\n\n\tuseEffect( () => {\n\t\tonLayout();\n\t\tconst dimensionsChangeSubscription = Dimensions.addEventListener(\n\t\t\t'change',\n\t\t\tonLayout\n\t\t);\n\n\t\treturn () => {\n\t\t\tdimensionsChangeSubscription.remove();\n\t\t};\n\t}, [] );\n\n\tconst labelStyle = usePreferredColorSchemeStyle(\n\t\tstyles.label,\n\t\tstyles.labelDark\n\t);\n\n\tconst animateOutline = () => {\n\t\topacity.setValue( 0 );\n\t\tAnimated.timing( opacity, {\n\t\t\ttoValue: 1,\n\t\t\tduration: 100,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.linear,\n\t\t} ).start();\n\t};\n\n\tconst innerOutlineStyle = usePreferredColorSchemeStyle(\n\t\tstyles.innerOutline,\n\t\tstyles.innerOutlineDark\n\t);\n\n\tconst getOutline = ( outlineStyles ) =>\n\t\toutlineStyles.map( ( outlineStyle, index ) => {\n\t\t\treturn (\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={ [ outlineStyle, { opacity }, styles[ name ] ] }\n\t\t\t\t\tkey={ index }\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\n\treturn (\n\t\t<TouchableWithoutFeedback\n\t\t\tonPress={ () => {\n\t\t\t\tonPress();\n\t\t\t\tanimateOutline();\n\t\t\t} }\n\t\t>\n\t\t\t<View style={ [ styles.container, { width: itemWidth } ] }>\n\t\t\t\t<View style={ styles.imageWrapper }>\n\t\t\t\t\t{ isActive &&\n\t\t\t\t\t\tgetOutline( [ styles.outline, innerOutlineStyle ] ) }\n\t\t\t\t\t<Image\n\t\t\t\t\t\tstyle={ [ styles.image, styles[ name ] ] }\n\t\t\t\t\t\tsource={ { uri: url } }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={ [ labelStyle, isActive && styles.labelSelected ] }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n\nexport default StylePreview;\n"],"mappings":"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"}