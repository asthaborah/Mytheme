{"version":3,"names":["_components","require","_element","_i18n","DEFAULT_SCALE_OPTIONS","value","label","_x","help","__","ScaleTool","panelId","onChange","options","defaultValue","isShownByDefault","displayValue","scaleHelp","useMemo","reduce","acc","option","_react","createElement","__experimentalToolsPanelItem","hasValue","onDeselect","__experimentalToggleGroupControl","isBlock","size","map","__experimentalToggleGroupControlOption","key"],"sources":["@wordpress/block-editor/src/components/dimensions-tool/scale-tool.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * @typedef {import('@wordpress/components/build-types/select-control/types').SelectControlProps} SelectControlProps\n */\n\n/**\n * The descriptions are purposely made generic as object-fit could be used for\n * any replaced element. Provide your own set of options if you need different\n * help text or labels.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/Replaced_element\n *\n * @type {SelectControlProps[]}\n */\nconst DEFAULT_SCALE_OPTIONS = [\n\t{\n\t\tvalue: 'fill',\n\t\tlabel: _x( 'Fill', 'Scale option for dimensions control' ),\n\t\thelp: __( 'Fill the space by stretching the content.' ),\n\t},\n\t{\n\t\tvalue: 'contain',\n\t\tlabel: _x( 'Contain', 'Scale option for dimensions control' ),\n\t\thelp: __( 'Fit the content to the space without clipping.' ),\n\t},\n\t{\n\t\tvalue: 'cover',\n\t\tlabel: _x( 'Cover', 'Scale option for dimensions control' ),\n\t\thelp: __( \"Fill the space by clipping what doesn't fit.\" ),\n\t},\n\t{\n\t\tvalue: 'none',\n\t\tlabel: _x( 'None', 'Scale option for dimensions control' ),\n\t\thelp: __(\n\t\t\t'Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.'\n\t\t),\n\t},\n\t{\n\t\tvalue: 'scale-down',\n\t\tlabel: _x( 'Scale down', 'Scale option for dimensions control' ),\n\t\thelp: __(\n\t\t\t'Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.'\n\t\t),\n\t},\n];\n\n/**\n * @callback ScaleToolPropsOnChange\n * @param {string} nextValue New scale value.\n * @return {void}\n */\n\n/**\n * @typedef {Object} ScaleToolProps\n * @property {string}                 [panelId]               ID of the panel that contains the controls.\n * @property {string}                 [value]                 Current scale value.\n * @property {ScaleToolPropsOnChange} [onChange]              Callback to update the scale value.\n * @property {SelectControlProps[]}   [options]               Scale options.\n * @property {string}                 [defaultValue]          Default scale value.\n * @property {boolean}                [showControl=true]      Whether to show the control.\n * @property {boolean}                [isShownByDefault=true] Whether the tool panel is shown by default.\n */\n\n/**\n * A tool to select the CSS object-fit property for the image.\n *\n * @param {ScaleToolProps} props\n *\n * @return {import('react').ReactElement} The scale tool.\n */\nexport default function ScaleTool( {\n\tpanelId,\n\tvalue,\n\tonChange,\n\toptions = DEFAULT_SCALE_OPTIONS,\n\tdefaultValue = DEFAULT_SCALE_OPTIONS[ 0 ].value,\n\tisShownByDefault = true,\n} ) {\n\t// Match the CSS default so if the value is used directly in CSS it will look correct in the control.\n\tconst displayValue = value ?? 'fill';\n\n\tconst scaleHelp = useMemo( () => {\n\t\treturn options.reduce( ( acc, option ) => {\n\t\t\tacc[ option.value ] = option.help;\n\t\t\treturn acc;\n\t\t}, {} );\n\t}, [ options ] );\n\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\tlabel={ __( 'Scale' ) }\n\t\t\tisShownByDefault={ isShownByDefault }\n\t\t\thasValue={ () => displayValue !== defaultValue }\n\t\t\tonDeselect={ () => onChange( defaultValue ) }\n\t\t\tpanelId={ panelId }\n\t\t>\n\t\t\t<ToggleGroupControl\n\t\t\t\tlabel={ __( 'Scale' ) }\n\t\t\t\tisBlock\n\t\t\t\thelp={ scaleHelp[ displayValue ] }\n\t\t\t\tvalue={ displayValue }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tsize={ '__unstable-large' }\n\t\t\t>\n\t\t\t\t{ options.map( ( option ) => (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={ option.value }\n\t\t\t\t\t\t{ ...option }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</ToggleGroupControl>\n\t\t</ToolsPanelItem>\n\t);\n}\n"],"mappings":"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"}