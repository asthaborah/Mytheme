{"version":3,"names":["_element","require","_blocks","_compose","_richText","_deprecated","_interopRequireDefault","_multiline","withDeprecations","Component","forwardRef","props","ref","value","onChange","Array","isArray","deprecated","since","version","alternative","link","childrenSource","toHTML","newValue","fromDOM","__unstableCreateElement","document","childNodes","NewComponent","multiline","RichTextMultiline","instanceId","useInstanceId","_react","createElement","identifier"],"sources":["@wordpress/block-editor/src/components/rich-text/with-deprecations.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\nimport { children as childrenSource } from '@wordpress/blocks';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __unstableCreateElement } from '@wordpress/rich-text';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport RichTextMultiline from './multiline';\n\nexport function withDeprecations( Component ) {\n\treturn forwardRef( ( props, ref ) => {\n\t\tlet value = props.value;\n\t\tlet onChange = props.onChange;\n\n\t\t// Handle deprecated format.\n\t\tif ( Array.isArray( value ) ) {\n\t\t\tdeprecated( 'wp.blockEditor.RichText value prop as children type', {\n\t\t\t\tsince: '6.1',\n\t\t\t\tversion: '6.3',\n\t\t\t\talternative: 'value prop as string',\n\t\t\t\tlink: 'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/',\n\t\t\t} );\n\n\t\t\tvalue = childrenSource.toHTML( props.value );\n\t\t\tonChange = ( newValue ) =>\n\t\t\t\tprops.onChange(\n\t\t\t\t\tchildrenSource.fromDOM(\n\t\t\t\t\t\t__unstableCreateElement( document, newValue ).childNodes\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\tconst NewComponent = props.multiline ? RichTextMultiline : Component;\n\t\tconst instanceId = useInstanceId( NewComponent );\n\n\t\treturn (\n\t\t\t<NewComponent\n\t\t\t\t{ ...props }\n\t\t\t\tidentifier={ props.identifier || instanceId }\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tref={ ref }\n\t\t\t/>\n\t\t);\n\t} );\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAC,sBAAA,CAAAL,OAAA;AAKA,IAAAM,UAAA,GAAAD,sBAAA,CAAAL,OAAA;AAZA;AACA;AACA;;AAOA;AACA;AACA;;AAGO,SAASO,gBAAgBA,CAAEC,SAAS,EAAG;EAC7C,OAAO,IAAAC,mBAAU,EAAE,CAAEC,KAAK,EAAEC,GAAG,KAAM;IACpC,IAAIC,KAAK,GAAGF,KAAK,CAACE,KAAK;IACvB,IAAIC,QAAQ,GAAGH,KAAK,CAACG,QAAQ;;IAE7B;IACA,IAAKC,KAAK,CAACC,OAAO,CAAEH,KAAM,CAAC,EAAG;MAC7B,IAAAI,mBAAU,EAAE,qDAAqD,EAAE;QAClEC,KAAK,EAAE,KAAK;QACZC,OAAO,EAAE,KAAK;QACdC,WAAW,EAAE,sBAAsB;QACnCC,IAAI,EAAE;MACP,CAAE,CAAC;MAEHR,KAAK,GAAGS,gBAAc,CAACC,MAAM,CAAEZ,KAAK,CAACE,KAAM,CAAC;MAC5CC,QAAQ,GAAKU,QAAQ,IACpBb,KAAK,CAACG,QAAQ,CACbQ,gBAAc,CAACG,OAAO,CACrB,IAAAC,iCAAuB,EAAEC,QAAQ,EAAEH,QAAS,CAAC,CAACI,UAC/C,CACD,CAAC;IACH;IAEA,MAAMC,YAAY,GAAGlB,KAAK,CAACmB,SAAS,GAAGC,kBAAiB,GAAGtB,SAAS;IACpE,MAAMuB,UAAU,GAAG,IAAAC,sBAAa,EAAEJ,YAAa,CAAC;IAEhD,OACC,IAAAK,MAAA,CAAAC,aAAA,EAACN,YAAY;MAAA,GACPlB,KAAK;MACVyB,UAAU,EAAGzB,KAAK,CAACyB,UAAU,IAAIJ,UAAY;MAC7CnB,KAAK,EAAGA,KAAO;MACfC,QAAQ,EAAGA,QAAU;MACrBF,GAAG,EAAGA;IAAK,CACX,CAAC;EAEJ,CAAE,CAAC;AACJ"}