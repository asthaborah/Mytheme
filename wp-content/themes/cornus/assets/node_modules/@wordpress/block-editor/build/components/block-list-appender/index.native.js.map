{"version":3,"names":["_data","require","_blocks","_defaultBlockAppender","_interopRequireDefault","_style","_store","DefaultAppender","rootClientId","showSeparator","blockClientIds","canInsertDefaultBlock","useSelect","select","getBlockOrder","canInsertBlockType","blockEditorStore","getDefaultBlockName","_react","createElement","default","lastBlockClientId","length","containerStyle","styles","blockListAppender","placeholder","BlockListAppender","renderAppender","CustomAppender","isLocked","getTemplateLock"],"sources":["@wordpress/block-editor/src/components/block-list-appender/index.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nfunction DefaultAppender( { rootClientId, showSeparator } ) {\n\tconst { blockClientIds, canInsertDefaultBlock } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder, canInsertBlockType } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\t\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\t\t\tgetDefaultBlockName(),\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tif ( ! canInsertDefaultBlock ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DefaultBlockAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tlastBlockClientId={ blockClientIds[ blockClientIds.length - 1 ] }\n\t\t\tcontainerStyle={ styles.blockListAppender }\n\t\t\tplaceholder={ blockClientIds.length > 0 ? '' : null }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n\nexport default function BlockListAppender( {\n\trootClientId,\n\trenderAppender: CustomAppender,\n\tshowSeparator,\n} ) {\n\tconst isLocked = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( blockEditorStore ).getTemplateLock( rootClientId ),\n\t\t[ rootClientId ]\n\t);\n\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tif ( CustomAppender ) {\n\t\treturn <CustomAppender showSeparator={ showSeparator } />;\n\t}\n\n\treturn (\n\t\t<DefaultAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAKA,IAAAE,qBAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,MAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AAXA;AACA;AACA;;AAIA;AACA;AACA;;AAKA,SAASM,eAAeA,CAAE;EAAEC,YAAY;EAAEC;AAAc,CAAC,EAAG;EAC3D,MAAM;IAAEC,cAAc;IAAEC;EAAsB,CAAC,GAAG,IAAAC,eAAS,EACxDC,MAAM,IAAM;IACb,MAAM;MAAEC,aAAa;MAAEC;IAAmB,CAAC,GAC1CF,MAAM,CAAEG,YAAiB,CAAC;IAC3B,OAAO;MACNN,cAAc,EAAEI,aAAa,CAAEN,YAAa,CAAC;MAC7CG,qBAAqB,EAAEI,kBAAkB,CACxC,IAAAE,2BAAmB,EAAC,CAAC,EACrBT,YACD;IACD,CAAC;EACF,CAAC,EACD,CAAEA,YAAY,CACf,CAAC;EAED,IAAK,CAAEG,qBAAqB,EAAG;IAC9B,OAAO,IAAI;EACZ;EAEA,OACC,IAAAO,MAAA,CAAAC,aAAA,EAAChB,qBAAA,CAAAiB,OAAoB;IACpBZ,YAAY,EAAGA,YAAc;IAC7Ba,iBAAiB,EAAGX,cAAc,CAAEA,cAAc,CAACY,MAAM,GAAG,CAAC,CAAI;IACjEC,cAAc,EAAGC,cAAM,CAACC,iBAAmB;IAC3CC,WAAW,EAAGhB,cAAc,CAACY,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,IAAM;IACrDb,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ;AAEe,SAASkB,iBAAiBA,CAAE;EAC1CnB,YAAY;EACZoB,cAAc,EAAEC,cAAc;EAC9BpB;AACD,CAAC,EAAG;EACH,MAAMqB,QAAQ,GAAG,IAAAlB,eAAS,EACvBC,MAAM,IACP,CAAC,CAAEA,MAAM,CAAEG,YAAiB,CAAC,CAACe,eAAe,CAAEvB,YAAa,CAAC,EAC9D,CAAEA,YAAY,CACf,CAAC;EAED,IAAKsB,QAAQ,EAAG;IACf,OAAO,IAAI;EACZ;EAEA,IAAKD,cAAc,EAAG;IACrB,OAAO,IAAAX,MAAA,CAAAC,aAAA,EAACU,cAAc;MAACpB,aAAa,EAAGA;IAAe,CAAE,CAAC;EAC1D;EAEA,OACC,IAAAS,MAAA,CAAAC,aAAA,EAACZ,eAAe;IACfC,YAAY,EAAGA,YAAc;IAC7BC,aAAa,EAAGA;EAAe,CAC/B,CAAC;AAEJ"}