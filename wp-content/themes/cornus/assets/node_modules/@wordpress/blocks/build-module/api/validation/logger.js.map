{"version":3,"names":["createLogger","createLogHandler","logger","log","message","args","process","env","NODE_ENV","require","format","error","console","warning","warn","getItems","createQueuedLogger","queue","push"],"sources":["@wordpress/blocks/src/api/validation/logger.js"],"sourcesContent":["/**\n * @typedef LoggerItem\n * @property {Function}   log  Which logger recorded the message\n * @property {Array<any>} args White arguments were supplied to the logger\n */\n\nexport function createLogger() {\n\t/**\n\t * Creates a log handler with block validation prefix.\n\t *\n\t * @param {Function} logger Original logger function.\n\t *\n\t * @return {Function} Augmented logger function.\n\t */\n\tfunction createLogHandler( logger ) {\n\t\tlet log = ( message, ...args ) =>\n\t\t\tlogger( 'Block validation: ' + message, ...args );\n\n\t\t// In test environments, pre-process string substitutions to improve\n\t\t// readability of error messages. We'd prefer to avoid pulling in this\n\t\t// dependency in runtime environments, and it can be dropped by a combo\n\t\t// of Webpack env substitution + UglifyJS dead code elimination.\n\t\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t\tlog = ( ...args ) => logger( require( 'util' ).format( ...args ) );\n\t\t}\n\n\t\treturn log;\n\t}\n\n\treturn {\n\t\t// eslint-disable-next-line no-console\n\t\terror: createLogHandler( console.error ),\n\t\t// eslint-disable-next-line no-console\n\t\twarning: createLogHandler( console.warn ),\n\t\tgetItems() {\n\t\t\treturn [];\n\t\t},\n\t};\n}\n\nexport function createQueuedLogger() {\n\t/**\n\t * The list of enqueued log actions to print.\n\t *\n\t * @type {Array<LoggerItem>}\n\t */\n\tconst queue = [];\n\n\tconst logger = createLogger();\n\n\treturn {\n\t\terror( ...args ) {\n\t\t\tqueue.push( { log: logger.error, args } );\n\t\t},\n\t\twarning( ...args ) {\n\t\t\tqueue.push( { log: logger.warning, args } );\n\t\t},\n\t\tgetItems() {\n\t\t\treturn queue;\n\t\t},\n\t};\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASA,YAAYA,CAAA,EAAG;EAC9B;AACD;AACA;AACA;AACA;AACA;AACA;EACC,SAASC,gBAAgBA,CAAEC,MAAM,EAAG;IACnC,IAAIC,GAAG,GAAGA,CAAEC,OAAO,EAAE,GAAGC,IAAI,KAC3BH,MAAM,CAAE,oBAAoB,GAAGE,OAAO,EAAE,GAAGC,IAAK,CAAC;;IAElD;IACA;IACA;IACA;IACA,IAAKC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAG;MACtCL,GAAG,GAAGA,CAAE,GAAGE,IAAI,KAAMH,MAAM,CAAEO,OAAO,CAAE,MAAO,CAAC,CAACC,MAAM,CAAE,GAAGL,IAAK,CAAE,CAAC;IACnE;IAEA,OAAOF,GAAG;EACX;EAEA,OAAO;IACN;IACAQ,KAAK,EAAEV,gBAAgB,CAAEW,OAAO,CAACD,KAAM,CAAC;IACxC;IACAE,OAAO,EAAEZ,gBAAgB,CAAEW,OAAO,CAACE,IAAK,CAAC;IACzCC,QAAQA,CAAA,EAAG;MACV,OAAO,EAAE;IACV;EACD,CAAC;AACF;AAEA,OAAO,SAASC,kBAAkBA,CAAA,EAAG;EACpC;AACD;AACA;AACA;AACA;EACC,MAAMC,KAAK,GAAG,EAAE;EAEhB,MAAMf,MAAM,GAAGF,YAAY,CAAC,CAAC;EAE7B,OAAO;IACNW,KAAKA,CAAE,GAAGN,IAAI,EAAG;MAChBY,KAAK,CAACC,IAAI,CAAE;QAAEf,GAAG,EAAED,MAAM,CAACS,KAAK;QAAEN;MAAK,CAAE,CAAC;IAC1C,CAAC;IACDQ,OAAOA,CAAE,GAAGR,IAAI,EAAG;MAClBY,KAAK,CAACC,IAAI,CAAE;QAAEf,GAAG,EAAED,MAAM,CAACW,OAAO;QAAER;MAAK,CAAE,CAAC;IAC5C,CAAC;IACDU,QAAQA,CAAA,EAAG;MACV,OAAOE,KAAK;IACb;EACD,CAAC;AACF"}