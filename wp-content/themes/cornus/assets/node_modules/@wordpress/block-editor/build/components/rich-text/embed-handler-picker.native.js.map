{"version":3,"names":["_element","require","_components","_i18n","noop","DEFAULT_PICKER_OPTIONS","id","label","__","value","onSelect","EmbedHandlerPicker","forwardRef","ref","pickerRef","useRef","pickerOptions","current","onPickerSelect","useCallback","selectedItem","find","item","useImperativeHandle","presentPicker","createEmbed","createLink","_react","createElement","Picker","options","onChange","testID","hideCancelButton","leftAlign","_default","exports","default","memo"],"sources":["@wordpress/block-editor/src/components/rich-text/embed-handler-picker.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tforwardRef,\n\tuseRef,\n\tuseImperativeHandle,\n\tmemo,\n\tuseCallback,\n} from '@wordpress/element';\nimport { Picker } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst noop = () => {};\n\nconst DEFAULT_PICKER_OPTIONS = [\n\t{\n\t\tid: 'createEmbed',\n\t\tlabel: __( 'Create embed' ),\n\t\tvalue: 'createEmbed',\n\t\tonSelect: noop,\n\t},\n\t{\n\t\tid: 'createLink',\n\t\tlabel: __( 'Create link' ),\n\t\tvalue: 'createLink',\n\t\tonSelect: noop,\n\t},\n];\n\nconst EmbedHandlerPicker = forwardRef( ( {}, ref ) => {\n\tconst pickerRef = useRef();\n\tconst pickerOptions = useRef( DEFAULT_PICKER_OPTIONS ).current;\n\n\tconst onPickerSelect = useCallback(\n\t\t( value ) => {\n\t\t\tconst selectedItem = pickerOptions.find(\n\t\t\t\t( item ) => item.value === value\n\t\t\t);\n\t\t\tselectedItem.onSelect();\n\t\t},\n\t\t[ pickerOptions ]\n\t);\n\n\tuseImperativeHandle( ref, () => ( {\n\t\tpresentPicker: ( { createEmbed, createLink } ) => {\n\t\t\tpickerOptions[ 0 ].onSelect = createEmbed;\n\t\t\tpickerOptions[ 1 ].onSelect = createLink;\n\t\t\tpickerRef.current?.presentPicker();\n\t\t},\n\t} ) );\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ pickerRef }\n\t\t\toptions={ pickerOptions }\n\t\t\tonChange={ onPickerSelect }\n\t\t\ttestID=\"embed-handler-picker\"\n\t\t\thideCancelButton\n\t\t\tleftAlign\n\t\t/>\n\t);\n} );\n\nexport default memo( EmbedHandlerPicker );\n"],"mappings":";;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AAOA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAXA;AACA;AACA;;AAWA,MAAMG,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,MAAMC,sBAAsB,GAAG,CAC9B;EACCC,EAAE,EAAE,aAAa;EACjBC,KAAK,EAAE,IAAAC,QAAE,EAAE,cAAe,CAAC;EAC3BC,KAAK,EAAE,aAAa;EACpBC,QAAQ,EAAEN;AACX,CAAC,EACD;EACCE,EAAE,EAAE,YAAY;EAChBC,KAAK,EAAE,IAAAC,QAAE,EAAE,aAAc,CAAC;EAC1BC,KAAK,EAAE,YAAY;EACnBC,QAAQ,EAAEN;AACX,CAAC,CACD;AAED,MAAMO,kBAAkB,GAAG,IAAAC,mBAAU,EAAE,CAAE,CAAC,CAAC,EAAEC,GAAG,KAAM;EACrD,MAAMC,SAAS,GAAG,IAAAC,eAAM,EAAC,CAAC;EAC1B,MAAMC,aAAa,GAAG,IAAAD,eAAM,EAAEV,sBAAuB,CAAC,CAACY,OAAO;EAE9D,MAAMC,cAAc,GAAG,IAAAC,oBAAW,EAC/BV,KAAK,IAAM;IACZ,MAAMW,YAAY,GAAGJ,aAAa,CAACK,IAAI,CACpCC,IAAI,IAAMA,IAAI,CAACb,KAAK,KAAKA,KAC5B,CAAC;IACDW,YAAY,CAACV,QAAQ,CAAC,CAAC;EACxB,CAAC,EACD,CAAEM,aAAa,CAChB,CAAC;EAED,IAAAO,4BAAmB,EAAEV,GAAG,EAAE,OAAQ;IACjCW,aAAa,EAAEA,CAAE;MAAEC,WAAW;MAAEC;IAAW,CAAC,KAAM;MACjDV,aAAa,CAAE,CAAC,CAAE,CAACN,QAAQ,GAAGe,WAAW;MACzCT,aAAa,CAAE,CAAC,CAAE,CAACN,QAAQ,GAAGgB,UAAU;MACxCZ,SAAS,CAACG,OAAO,EAAEO,aAAa,CAAC,CAAC;IACnC;EACD,CAAC,CAAG,CAAC;EAEL,OACC,IAAAG,MAAA,CAAAC,aAAA,EAAC1B,WAAA,CAAA2B,MAAM;IACNhB,GAAG,EAAGC,SAAW;IACjBgB,OAAO,EAAGd,aAAe;IACzBe,QAAQ,EAAGb,cAAgB;IAC3Bc,MAAM,EAAC,sBAAsB;IAC7BC,gBAAgB;IAChBC,SAAS;EAAA,CACT,CAAC;AAEJ,CAAE,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEW,IAAAC,aAAI,EAAE3B,kBAAmB,CAAC"}