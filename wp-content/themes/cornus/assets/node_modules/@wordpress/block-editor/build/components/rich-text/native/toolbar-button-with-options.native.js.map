{"version":3,"names":["_components","require","_element","_icons","ToolbarButtonWithOptions","options","picker","useRef","presentPicker","current","onValueSelected","selectedValue","selectedOption","find","op","value","onClick","length","firstOption","enablePicker","_react","createElement","Fragment","ToolbarGroup","ToolbarButton","title","icon","Icon","onLongPress","undefined","Picker","ref","onChange","hideCancelButton","_default","exports","default"],"sources":["@wordpress/block-editor/src/components/rich-text/native/toolbar-button-with-options.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Picker, ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { Icon } from '@wordpress/icons';\n\n/**\n * Toolbar button component that, upon a long press, opens a Picker\n * to allow selecting from among multiple options.\n *\n * @param {Object} props         Component props.\n * @param {Object} props.options Options to pick from.\n */\nfunction ToolbarButtonWithOptions( { options } ) {\n\tconst picker = useRef();\n\n\tfunction presentPicker() {\n\t\tif ( picker.current ) {\n\t\t\tpicker.current.presentPicker();\n\t\t}\n\t}\n\n\tfunction onValueSelected( selectedValue ) {\n\t\tconst selectedOption = options.find(\n\t\t\t( op ) => op.value === selectedValue\n\t\t);\n\t\tif ( selectedOption ) {\n\t\t\tselectedOption.onClick();\n\t\t}\n\t}\n\n\tif ( ! options || options.length === 0 ) {\n\t\treturn null;\n\t}\n\tconst firstOption = options[ 0 ];\n\tconst enablePicker = options.length > 1;\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ttitle={ firstOption.title }\n\t\t\t\t\ticon={ <Icon icon={ firstOption.icon } /> }\n\t\t\t\t\tonClick={ firstOption.onClick }\n\t\t\t\t\tonLongPress={ enablePicker ? presentPicker : undefined }\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t{ enablePicker && (\n\t\t\t\t<Picker\n\t\t\t\t\tref={ picker }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ onValueSelected }\n\t\t\t\t\thideCancelButton\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ToolbarButtonWithOptions;\n"],"mappings":";;;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AALA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,wBAAwBA,CAAE;EAAEC;AAAQ,CAAC,EAAG;EAChD,MAAMC,MAAM,GAAG,IAAAC,eAAM,EAAC,CAAC;EAEvB,SAASC,aAAaA,CAAA,EAAG;IACxB,IAAKF,MAAM,CAACG,OAAO,EAAG;MACrBH,MAAM,CAACG,OAAO,CAACD,aAAa,CAAC,CAAC;IAC/B;EACD;EAEA,SAASE,eAAeA,CAAEC,aAAa,EAAG;IACzC,MAAMC,cAAc,GAAGP,OAAO,CAACQ,IAAI,CAChCC,EAAE,IAAMA,EAAE,CAACC,KAAK,KAAKJ,aACxB,CAAC;IACD,IAAKC,cAAc,EAAG;MACrBA,cAAc,CAACI,OAAO,CAAC,CAAC;IACzB;EACD;EAEA,IAAK,CAAEX,OAAO,IAAIA,OAAO,CAACY,MAAM,KAAK,CAAC,EAAG;IACxC,OAAO,IAAI;EACZ;EACA,MAAMC,WAAW,GAAGb,OAAO,CAAE,CAAC,CAAE;EAChC,MAAMc,YAAY,GAAGd,OAAO,CAACY,MAAM,GAAG,CAAC;EAEvC,OACC,IAAAG,MAAA,CAAAC,aAAA,EAAAD,MAAA,CAAAE,QAAA,QACC,IAAAF,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAuB,YAAY,QACZ,IAAAH,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAwB,aAAa;IACbC,KAAK,EAAGP,WAAW,CAACO,KAAO;IAC3BC,IAAI,EAAG,IAAAN,MAAA,CAAAC,aAAA,EAAClB,MAAA,CAAAwB,IAAI;MAACD,IAAI,EAAGR,WAAW,CAACQ;IAAM,CAAE,CAAG;IAC3CV,OAAO,EAAGE,WAAW,CAACF,OAAS;IAC/BY,WAAW,EAAGT,YAAY,GAAGX,aAAa,GAAGqB;EAAW,CACxD,CACY,CAAC,EACbV,YAAY,IACb,IAAAC,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAA8B,MAAM;IACNC,GAAG,EAAGzB,MAAQ;IACdD,OAAO,EAAGA,OAAS;IACnB2B,QAAQ,EAAGtB,eAAiB;IAC5BuB,gBAAgB;EAAA,CAChB,CAED,CAAC;AAEL;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEchC,wBAAwB"}