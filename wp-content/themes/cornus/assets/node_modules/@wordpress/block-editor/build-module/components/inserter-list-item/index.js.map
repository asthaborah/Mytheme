{"version":3,"names":["classnames","useMemo","useRef","memo","createBlock","createBlocksFromInnerBlocksTemplate","isReusableBlock","isTemplatePart","__experimentalTruncate","Truncate","ENTER","isAppleOS","BlockIcon","InserterListboxItem","InserterDraggableBlocks","InserterListItem","className","isFirst","item","onSelect","onHover","isDraggable","props","isDragging","itemIconStyle","icon","backgroundColor","background","color","foreground","blocks","name","initialAttributes","innerBlocks","isSynced","syncStatus","createElement","isEnabled","isDisabled","draggable","onDragStart","onDragEnd","event","current","disabled","onClick","preventDefault","metaKey","ctrlKey","onKeyDown","keyCode","onMouseEnter","onMouseLeave","style","showColors","numberOfLines","title"],"sources":["@wordpress/block-editor/src/components/inserter-list-item/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useRef, memo } from '@wordpress/element';\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n\tisReusableBlock,\n\tisTemplatePart,\n} from '@wordpress/blocks';\nimport { __experimentalTruncate as Truncate } from '@wordpress/components';\nimport { ENTER, isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport { InserterListboxItem } from '../inserter-listbox';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nfunction InserterListItem( {\n\tclassName,\n\tisFirst,\n\titem,\n\tonSelect,\n\tonHover,\n\tisDraggable,\n\t...props\n} ) {\n\tconst isDragging = useRef( false );\n\tconst itemIconStyle = item.icon\n\t\t? {\n\t\t\t\tbackgroundColor: item.icon.background,\n\t\t\t\tcolor: item.icon.foreground,\n\t\t  }\n\t\t: {};\n\tconst blocks = useMemo(\n\t\t() => [\n\t\t\tcreateBlock(\n\t\t\t\titem.name,\n\t\t\t\titem.initialAttributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( item.innerBlocks )\n\t\t\t),\n\t\t],\n\t\t[ item.name, item.initialAttributes, item.innerBlocks ]\n\t);\n\n\tconst isSynced =\n\t\t( isReusableBlock( item ) && item.syncStatus !== 'unsynced' ) ||\n\t\tisTemplatePart( item );\n\n\treturn (\n\t\t<InserterDraggableBlocks\n\t\t\tisEnabled={ isDraggable && ! item.isDisabled }\n\t\t\tblocks={ blocks }\n\t\t\ticon={ item.icon }\n\t\t>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'block-editor-block-types-list__list-item',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-synced': isSynced,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ ( event ) => {\n\t\t\t\t\t\tisDragging.current = true;\n\t\t\t\t\t\tif ( onDragStart ) {\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\tonDragStart( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tonDragEnd={ ( event ) => {\n\t\t\t\t\t\tisDragging.current = false;\n\t\t\t\t\t\tif ( onDragEnd ) {\n\t\t\t\t\t\t\tonDragEnd( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<InserterListboxItem\n\t\t\t\t\t\tisFirst={ isFirst }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-block-types-list__item',\n\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdisabled={ item.isDisabled }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tconst { keyCode } = event;\n\t\t\t\t\t\t\tif ( keyCode === ENTER ) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tonSelect(\n\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\tisAppleOS() ? event.metaKey : event.ctrlKey\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseEnter={ () => {\n\t\t\t\t\t\t\tif ( isDragging.current ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonHover( item );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\n\t\t\t\t\t\t\tstyle={ itemIconStyle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockIcon icon={ item.icon } showColors />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\n\t\t\t\t\t\t\t<Truncate numberOfLines={ 3 }>\n\t\t\t\t\t\t\t\t{ item.title }\n\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</InserterListboxItem>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nexport default memo( InserterListItem );\n"],"mappings":"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"}