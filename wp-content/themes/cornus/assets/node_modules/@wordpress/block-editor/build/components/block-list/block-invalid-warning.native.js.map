{"version":3,"names":["_reactNative","require","_i18n","_data","_blocks","_warning","_interopRequireDefault","_store","BlockInvalidWarning","clientId","selector","select","getBlock","blockEditorStore","block","name","blockType","getBlockType","title","blockIcon","icon","blockTitle","useSelect","accessibilityLabel","sprintf","__","replaceBlock","useDispatch","recoverBlock","attributes","innerBlocks","createBlock","attemptBlockRecovery","_react","createElement","TouchableWithoutFeedback","onPress","accessible","accessibilityRole","default","message"],"sources":["@wordpress/block-editor/src/components/block-list/block-invalid-warning.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { TouchableWithoutFeedback } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { createBlock, getBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport Warning from '../warning';\nimport { store as blockEditorStore } from '../../store';\n\nexport default function BlockInvalidWarning( { clientId } ) {\n\tconst selector = ( select ) => {\n\t\tconst { getBlock } = select( blockEditorStore );\n\t\tconst block = getBlock( clientId );\n\t\tconst { name } = block || {};\n\n\t\tconst blockType = getBlockType( name || 'core/missing' );\n\t\tconst title = blockType?.title;\n\t\tconst blockIcon = blockType?.icon;\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tblockTitle: title,\n\t\t\ticon: blockIcon,\n\t\t};\n\t};\n\n\tconst { block, blockTitle, icon } = useSelect( selector, [ clientId ] );\n\n\tconst accessibilityLabel = sprintf(\n\t\t/* translators: accessibility text for blocks with invalid content. %d: localized block title */\n\t\t__( '%s block. This block has invalid content' ),\n\t\tblockTitle\n\t);\n\n\tconst { replaceBlock } = useDispatch( blockEditorStore );\n\n\tconst recoverBlock = ( { name, attributes, innerBlocks } ) =>\n\t\tcreateBlock( name, attributes, innerBlocks );\n\n\tconst attemptBlockRecovery = () => {\n\t\treplaceBlock( block.clientId, recoverBlock( block ) );\n\t};\n\n\treturn (\n\t\t<TouchableWithoutFeedback\n\t\t\tonPress={ attemptBlockRecovery }\n\t\t\taccessible\n\t\t\taccessibilityRole={ 'button' }\n\t\t>\n\t\t\t<Warning\n\t\t\t\ttitle={ blockTitle }\n\t\t\t\t// eslint-disable-next-line @wordpress/i18n-no-collapsible-whitespace\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'Problem displaying block. \\nTap to attempt block recovery.'\n\t\t\t\t) }\n\t\t\t\ticon={ icon }\n\t\t\t\taccessibilityLabel={ accessibilityLabel }\n\t\t\t/>\n\t\t</TouchableWithoutFeedback>\n\t);\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AAKA,IAAAI,QAAA,GAAAC,sBAAA,CAAAL,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AAhBA;AACA;AACA;;AAGA;AACA;AACA;;AAKA;AACA;AACA;;AAIe,SAASO,mBAAmBA,CAAE;EAAEC;AAAS,CAAC,EAAG;EAC3D,MAAMC,QAAQ,GAAKC,MAAM,IAAM;IAC9B,MAAM;MAAEC;IAAS,CAAC,GAAGD,MAAM,CAAEE,YAAiB,CAAC;IAC/C,MAAMC,KAAK,GAAGF,QAAQ,CAAEH,QAAS,CAAC;IAClC,MAAM;MAAEM;IAAK,CAAC,GAAGD,KAAK,IAAI,CAAC,CAAC;IAE5B,MAAME,SAAS,GAAG,IAAAC,oBAAY,EAAEF,IAAI,IAAI,cAAe,CAAC;IACxD,MAAMG,KAAK,GAAGF,SAAS,EAAEE,KAAK;IAC9B,MAAMC,SAAS,GAAGH,SAAS,EAAEI,IAAI;IAEjC,OAAO;MACNN,KAAK;MACLO,UAAU,EAAEH,KAAK;MACjBE,IAAI,EAAED;IACP,CAAC;EACF,CAAC;EAED,MAAM;IAAEL,KAAK;IAAEO,UAAU;IAAED;EAAK,CAAC,GAAG,IAAAE,eAAS,EAAEZ,QAAQ,EAAE,CAAED,QAAQ,CAAG,CAAC;EAEvE,MAAMc,kBAAkB,GAAG,IAAAC,aAAO,GACjC;EACA,IAAAC,QAAE,EAAE,0CAA2C,CAAC,EAChDJ,UACD,CAAC;EAED,MAAM;IAAEK;EAAa,CAAC,GAAG,IAAAC,iBAAW,EAAEd,YAAiB,CAAC;EAExD,MAAMe,YAAY,GAAGA,CAAE;IAAEb,IAAI;IAAEc,UAAU;IAAEC;EAAY,CAAC,KACvD,IAAAC,mBAAW,EAAEhB,IAAI,EAAEc,UAAU,EAAEC,WAAY,CAAC;EAE7C,MAAME,oBAAoB,GAAGA,CAAA,KAAM;IAClCN,YAAY,CAAEZ,KAAK,CAACL,QAAQ,EAAEmB,YAAY,CAAEd,KAAM,CAAE,CAAC;EACtD,CAAC;EAED,OACC,IAAAmB,MAAA,CAAAC,aAAA,EAAClC,YAAA,CAAAmC,wBAAwB;IACxBC,OAAO,EAAGJ,oBAAsB;IAChCK,UAAU;IACVC,iBAAiB,EAAG;EAAU,GAE9B,IAAAL,MAAA,CAAAC,aAAA,EAAC7B,QAAA,CAAAkC,OAAO;IACPrB,KAAK,EAAGG;IACR;IAAA;IACAmB,OAAO,EAAG,IAAAf,QAAE,EACX,4DACD,CAAG;IACHL,IAAI,EAAGA,IAAM;IACbG,kBAAkB,EAAGA;EAAoB,CACzC,CACwB,CAAC;AAE7B"}