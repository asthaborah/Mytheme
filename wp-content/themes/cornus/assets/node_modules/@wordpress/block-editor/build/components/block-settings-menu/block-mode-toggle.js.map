{"version":3,"names":["_i18n","require","_components","_blocks","_data","_compose","_store","noop","BlockModeToggle","blockType","mode","onToggleMode","small","isCodeEditingEnabled","hasBlockSupport","label","__","_react","createElement","MenuItem","onClick","_default","exports","default","compose","withSelect","select","clientId","getBlock","getBlockMode","getSettings","blockEditorStore","block","codeEditingEnabled","getBlockType","name","withDispatch","dispatch","onToggle","toggleBlockMode"],"sources":["@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\n\nexport function BlockModeToggle( {\n\tblockType,\n\tmode,\n\tonToggleMode,\n\tsmall = false,\n\tisCodeEditingEnabled = true,\n} ) {\n\tif (\n\t\t! blockType ||\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\n\t\t! isCodeEditingEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\tconst label =\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\n\n\treturn <MenuItem onClick={ onToggleMode }>{ ! small && label }</MenuItem>;\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock, getBlockMode, getSettings } =\n\t\t\tselect( blockEditorStore );\n\t\tconst block = getBlock( clientId );\n\t\tconst isCodeEditingEnabled = getSettings().codeEditingEnabled;\n\n\t\treturn {\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisCodeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop, clientId } ) => ( {\n\t\tonToggleMode() {\n\t\t\tdispatch( blockEditorStore ).toggleBlockMode( clientId );\n\t\t\tonToggle();\n\t\t},\n\t} ) ),\n] )( BlockModeToggle );\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AAKA,IAAAK,MAAA,GAAAL,OAAA;AAZA;AACA;AACA;;AAOA;AACA;AACA;;AAGA,MAAMM,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAEd,SAASC,eAAeA,CAAE;EAChCC,SAAS;EACTC,IAAI;EACJC,YAAY;EACZC,KAAK,GAAG,KAAK;EACbC,oBAAoB,GAAG;AACxB,CAAC,EAAG;EACH,IACC,CAAEJ,SAAS,IACX,CAAE,IAAAK,uBAAe,EAAEL,SAAS,EAAE,MAAM,EAAE,IAAK,CAAC,IAC5C,CAAEI,oBAAoB,EACrB;IACD,OAAO,IAAI;EACZ;EAEA,MAAME,KAAK,GACVL,IAAI,KAAK,QAAQ,GAAG,IAAAM,QAAE,EAAE,cAAe,CAAC,GAAG,IAAAA,QAAE,EAAE,eAAgB,CAAC;EAEjE,OAAO,IAAAC,MAAA,CAAAC,aAAA,EAAChB,WAAA,CAAAiB,QAAQ;IAACC,OAAO,EAAGT;EAAc,GAAG,CAAEC,KAAK,IAAIG,KAAiB,CAAC;AAC1E;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc,IAAAC,gBAAO,EAAE,CACvB,IAAAC,gBAAU,EAAE,CAAEC,MAAM,EAAE;EAAEC;AAAS,CAAC,KAAM;EACvC,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC;EAAY,CAAC,GAC5CJ,MAAM,CAAEK,YAAiB,CAAC;EAC3B,MAAMC,KAAK,GAAGJ,QAAQ,CAAED,QAAS,CAAC;EAClC,MAAMd,oBAAoB,GAAGiB,WAAW,CAAC,CAAC,CAACG,kBAAkB;EAE7D,OAAO;IACNvB,IAAI,EAAEmB,YAAY,CAAEF,QAAS,CAAC;IAC9BlB,SAAS,EAAEuB,KAAK,GAAG,IAAAE,oBAAY,EAAEF,KAAK,CAACG,IAAK,CAAC,GAAG,IAAI;IACpDtB;EACD,CAAC;AACF,CAAE,CAAC,EACH,IAAAuB,kBAAY,EAAE,CAAEC,QAAQ,EAAE;EAAEC,QAAQ,GAAG/B,IAAI;EAAEoB;AAAS,CAAC,MAAQ;EAC9DhB,YAAYA,CAAA,EAAG;IACd0B,QAAQ,CAAEN,YAAiB,CAAC,CAACQ,eAAe,CAAEZ,QAAS,CAAC;IACxDW,QAAQ,CAAC,CAAC;EACX;AACD,CAAC,CAAG,CAAC,CACJ,CAAC,CAAE9B,eAAgB,CAAC"}