{"version":3,"names":["__","MenuItem","getBlockType","hasBlockSupport","withSelect","withDispatch","compose","store","blockEditorStore","noop","BlockModeToggle","blockType","mode","onToggleMode","small","isCodeEditingEnabled","label","createElement","onClick","select","clientId","getBlock","getBlockMode","getSettings","block","codeEditingEnabled","name","dispatch","onToggle","toggleBlockMode"],"sources":["@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\n\nexport function BlockModeToggle( {\n\tblockType,\n\tmode,\n\tonToggleMode,\n\tsmall = false,\n\tisCodeEditingEnabled = true,\n} ) {\n\tif (\n\t\t! blockType ||\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\n\t\t! isCodeEditingEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\tconst label =\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\n\n\treturn <MenuItem onClick={ onToggleMode }>{ ! small && label }</MenuItem>;\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock, getBlockMode, getSettings } =\n\t\t\tselect( blockEditorStore );\n\t\tconst block = getBlock( clientId );\n\t\tconst isCodeEditingEnabled = getSettings().codeEditingEnabled;\n\n\t\treturn {\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisCodeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop, clientId } ) => ( {\n\t\tonToggleMode() {\n\t\t\tdispatch( blockEditorStore ).toggleBlockMode( clientId );\n\t\t\tonToggle();\n\t\t},\n\t} ) ),\n] )( BlockModeToggle );\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,YAAY,EAAEC,eAAe,QAAQ,mBAAmB;AACjE,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,oBAAoB;;AAE5C;AACA;AACA;AACA,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,OAAO,SAASC,eAAeA,CAAE;EAChCC,SAAS;EACTC,IAAI;EACJC,YAAY;EACZC,KAAK,GAAG,KAAK;EACbC,oBAAoB,GAAG;AACxB,CAAC,EAAG;EACH,IACC,CAAEJ,SAAS,IACX,CAAER,eAAe,CAAEQ,SAAS,EAAE,MAAM,EAAE,IAAK,CAAC,IAC5C,CAAEI,oBAAoB,EACrB;IACD,OAAO,IAAI;EACZ;EAEA,MAAMC,KAAK,GACVJ,IAAI,KAAK,QAAQ,GAAGZ,EAAE,CAAE,cAAe,CAAC,GAAGA,EAAE,CAAE,eAAgB,CAAC;EAEjE,OAAOiB,aAAA,CAAChB,QAAQ;IAACiB,OAAO,EAAGL;EAAc,GAAG,CAAEC,KAAK,IAAIE,KAAiB,CAAC;AAC1E;AAEA,eAAeV,OAAO,CAAE,CACvBF,UAAU,CAAE,CAAEe,MAAM,EAAE;EAAEC;AAAS,CAAC,KAAM;EACvC,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC;EAAY,CAAC,GAC5CJ,MAAM,CAAEX,gBAAiB,CAAC;EAC3B,MAAMgB,KAAK,GAAGH,QAAQ,CAAED,QAAS,CAAC;EAClC,MAAML,oBAAoB,GAAGQ,WAAW,CAAC,CAAC,CAACE,kBAAkB;EAE7D,OAAO;IACNb,IAAI,EAAEU,YAAY,CAAEF,QAAS,CAAC;IAC9BT,SAAS,EAAEa,KAAK,GAAGtB,YAAY,CAAEsB,KAAK,CAACE,IAAK,CAAC,GAAG,IAAI;IACpDX;EACD,CAAC;AACF,CAAE,CAAC,EACHV,YAAY,CAAE,CAAEsB,QAAQ,EAAE;EAAEC,QAAQ,GAAGnB,IAAI;EAAEW;AAAS,CAAC,MAAQ;EAC9DP,YAAYA,CAAA,EAAG;IACdc,QAAQ,CAAEnB,gBAAiB,CAAC,CAACqB,eAAe,CAAET,QAAS,CAAC;IACxDQ,QAAQ,CAAC,CAAC;EACX;AACD,CAAC,CAAG,CAAC,CACJ,CAAC,CAAElB,eAAgB,CAAC"}